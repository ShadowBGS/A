2025-04-13 00:44:01.265 +01:00 [INF] User profile is available. Using 'C:\Users\Oluwademilade.Fajolu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 00:44:08.900 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-13 00:44:08.900 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-13 00:44:08.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger - null null
2025-04-13 00:44:08.916 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-13 00:44:09.179 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:09.182 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:09.188 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:09.321 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 00:44:09.349 +01:00 [INF] Hosting environment: Development
2025-04-13 00:44:09.353 +01:00 [INF] Content root path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library
2025-04-13 00:44:09.267 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 389.3701ms
2025-04-13 00:44:09.267 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 387.9489ms
2025-04-13 00:44:09.246 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 366.555ms
2025-04-13 00:44:09.380 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-13 00:44:09.387 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:09.387 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-13 00:44:09.388 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:09.417 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-13 00:44:09.418 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:10.137 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:10.138 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:10.540 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:10.542 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:10.539 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:10.556 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:10.804 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-13 00:44:10.846 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-13 00:44:10.861 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-13 00:44:10.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger - 301 null null 2073.9089ms
2025-04-13 00:44:10.981 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.html - null null
2025-04-13 00:44:11.205 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.html - 200 null text/html;charset=utf-8 224.0343ms
2025-04-13 00:44:12.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/swagger-ui.css - null null
2025-04-13 00:44:12.294 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.css - null null
2025-04-13 00:44:12.318 +01:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-13 00:44:12.319 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-13 00:44:12.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.css - 200 202 text/css 24.8897ms
2025-04-13 00:44:12.319 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/swagger-ui-bundle.js - null null
2025-04-13 00:44:12.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/swagger-ui.css - 200 154948 text/css 41.9733ms
2025-04-13 00:44:12.346 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/swagger-ui-standalone-preset.js - null null
2025-04-13 00:44:12.356 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-13 00:44:12.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.js - null null
2025-04-13 00:44:12.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4552ms
2025-04-13 00:44:12.365 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-13 00:44:12.368 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 21.8295ms
2025-04-13 00:44:12.446 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 126.4182ms
2025-04-13 00:44:12.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 00:44:12.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.6034ms
2025-04-13 00:44:12.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_vs/browserLink - null null
2025-04-13 00:44:12.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_vs/browserLink - 200 null text/javascript; charset=UTF-8 136.4694ms
2025-04-13 00:44:19.832 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-13 00:44:19.832 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-13 00:44:19.832 +01:00 [INF] Executed DbCommand (112ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-13 00:44:19.837 +01:00 [INF] Executed DbCommand (151ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:20.541 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p16='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Double), @p14='?' (Size = 4000), @p15='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [Users] SET [Department] = @p5, [Email] = @p6, [FirstName] = @p7, [IsActive] = @p8, [IsAdmin] = @p9, [IsLoggedIn] = @p10, [LastName] = @p11, [PasswordHash] = @p12, [Rating] = @p13, [School] = @p14, [UserType] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-04-13 00:44:20.613 +01:00 [INF] Executed DbCommand (137ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p16='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Double), @p14='?' (Size = 4000), @p15='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [Users] SET [Department] = @p5, [Email] = @p6, [FirstName] = @p7, [IsActive] = @p8, [IsAdmin] = @p9, [IsLoggedIn] = @p10, [LastName] = @p11, [PasswordHash] = @p12, [Rating] = @p13, [School] = @p14, [UserType] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-04-13 00:44:20.617 +01:00 [INF] Executed DbCommand (150ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p16='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Double), @p14='?' (Size = 4000), @p15='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [Users] SET [Department] = @p5, [Email] = @p6, [FirstName] = @p7, [IsActive] = @p8, [IsAdmin] = @p9, [IsLoggedIn] = @p10, [LastName] = @p11, [PasswordHash] = @p12, [Rating] = @p13, [School] = @p14, [UserType] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-04-13 00:44:20.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - null null
2025-04-13 00:44:20.749 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-12T23:44:20.7444181Z". Session will expire at "2025-04-13T00:44:20.0628671Z".
2025-04-13 00:44:20.758 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-12T23:44:20.7442537Z". Session will expire at "2025-04-13T00:44:20.0598052Z".
2025-04-13 00:44:20.763 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-12T23:44:20.7442537Z". Session will expire at "2025-04-13T00:44:20.0625645Z".
2025-04-13 00:44:20.779 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:20.779 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:20.784 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:20.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.3142ms
2025-04-13 00:44:21.059 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 10494.2974ms
2025-04-13 00:44:21.059 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 10501.6963ms
2025-04-13 00:44:21.060 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:21.060 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:21.073 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 461 application/json; charset=utf-8 11684.7481ms
2025-04-13 00:44:21.074 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 461 application/json; charset=utf-8 11657.0334ms
2025-04-13 00:44:21.093 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 10542.1239ms
2025-04-13 00:44:21.093 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-13 00:44:21.095 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 461 application/json; charset=utf-8 11714.2228ms
2025-04-13 00:44:23.685 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:27.314 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:30.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-13 00:44:30.313 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:30.317 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 2.695ms
2025-04-13 00:44:30.321 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:44:30.322 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:30.322 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 4.2437ms
2025-04-13 00:44:30.365 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-13 00:44:30.365 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:30.381 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:44:30.384 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:30.531 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:30.531 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:30.539 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:44:30.541 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:30.549 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:44:30.557 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:44:30.578 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:44:30.607 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:44:30.615 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:44:30.616 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:30.621 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 79.9287ms
2025-04-13 00:44:30.621 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:30.622 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 257.5121ms
2025-04-13 00:44:30.677 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:30.748 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:44:30.759 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:44:30.761 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:30.776 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 236.2295ms
2025-04-13 00:44:30.776 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:30.776 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 395.717ms
2025-04-13 00:44:30.930 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:31.497 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:44:31.497 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.497 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.9429ms
2025-04-13 00:44:31.498 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=10 - null null
2025-04-13 00:44:31.498 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.498 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=10 - 204 null null 0.6866ms
2025-04-13 00:44:31.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:44:31.512 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.576 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:31.577 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:44:31.584 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:44:31.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=10 - application/json null
2025-04-13 00:44:31.593 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:44:31.593 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.594 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:31.594 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:31.598 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:44:31.599 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:31.607 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.608 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:44:31.608 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-13 00:44:31.611 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:44:31.615 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:44:31.617 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:44:31.626 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:44:31.627 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:31.627 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:31.627 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 33.157ms
2025-04-13 00:44:31.627 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:31.628 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 50.8297ms
2025-04-13 00:44:31.628 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:31.628 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.7703ms
2025-04-13 00:44:31.628 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 116.863ms
2025-04-13 00:44:31.643 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:31.662 +01:00 [INF] Fetching books with search: null, sort: Id, order: asc, filter: null, page: 1, pageSize: 10
2025-04-13 00:44:31.695 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 00:44:31.710 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
ORDER BY [b].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 00:44:31.756 +01:00 [INF] Fetched 9 books, page 1 of 1.
2025-04-13 00:44:31.757 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Library.Models.Book, Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:31.783 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBooks (Library) in 139.3743ms
2025-04-13 00:44:31.783 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-13 00:44:31.783 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=10 - 200 7075 application/json; charset=utf-8 190.5899ms
2025-04-13 00:44:31.790 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:31.790 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.791 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 204 null null 0.8614ms
2025-04-13 00:44:31.796 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:31.797 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.798 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:31.814 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:31.880 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:31.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:31.884 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:31.900 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:31.913 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:31.924 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:31.952 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:31.957 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:31.958 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:31.972 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 157.9039ms
2025-04-13 00:44:31.973 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:31.973 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 176.6913ms
2025-04-13 00:44:31.978 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - null null
2025-04-13 00:44:31.978 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.979 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - 204 null null 0.7016ms
2025-04-13 00:44:31.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - application/json null
2025-04-13 00:44:31.985 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:31.987 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:31.991 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.004 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.008 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.019 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 27.5422ms
2025-04-13 00:44:32.019 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - 200 14819 image/png 34.865ms
2025-04-13 00:44:32.026 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.026 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 204 null null 0.7944ms
2025-04-13 00:44:32.031 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.031 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.032 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.032 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.041 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.043 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.050 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.079 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.086 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.090 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.091 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.092 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 59.0548ms
2025-04-13 00:44:32.092 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 61.6116ms
2025-04-13 00:44:32.097 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - null null
2025-04-13 00:44:32.097 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.097 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - 204 null null 0.7662ms
2025-04-13 00:44:32.105 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - application/json null
2025-04-13 00:44:32.105 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.106 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.106 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.109 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.110 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.114 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 7.7863ms
2025-04-13 00:44:32.114 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - 200 21259 image/png 10.2041ms
2025-04-13 00:44:32.124 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.124 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.125 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 204 null null 0.5761ms
2025-04-13 00:44:32.131 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.132 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.132 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.133 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.138 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.142 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.149 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.158 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.159 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.160 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 27.2549ms
2025-04-13 00:44:32.160 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 29.8433ms
2025-04-13 00:44:32.167 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - null null
2025-04-13 00:44:32.167 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.168 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - 204 null null 1.0063ms
2025-04-13 00:44:32.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - application/json null
2025-04-13 00:44:32.174 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.176 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.176 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.182 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.183 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.184 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 7.8628ms
2025-04-13 00:44:32.184 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - 200 21265 image/png 10.6127ms
2025-04-13 00:44:32.223 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.223 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.223 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 204 null null 0.5984ms
2025-04-13 00:44:32.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.230 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.231 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.231 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.237 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.242 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.245 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.253 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.255 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.259 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.260 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.261 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 29.8759ms
2025-04-13 00:44:32.261 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.261 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 31.515ms
2025-04-13 00:44:32.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - null null
2025-04-13 00:44:32.269 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.269 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - 204 null null 0.8024ms
2025-04-13 00:44:32.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - application/json null
2025-04-13 00:44:32.279 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.280 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.280 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.283 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.284 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.285 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.6462ms
2025-04-13 00:44:32.287 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - 200 7862 image/png 9.7826ms
2025-04-13 00:44:32.293 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.294 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.294 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 204 null null 0.5982ms
2025-04-13 00:44:32.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.300 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.300 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.301 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.311 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.313 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.324 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.329 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.330 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.331 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 29.8692ms
2025-04-13 00:44:32.331 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.331 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 31.9966ms
2025-04-13 00:44:32.347 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - null null
2025-04-13 00:44:32.348 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.348 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - 204 null null 0.7495ms
2025-04-13 00:44:32.366 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - application/json null
2025-04-13 00:44:32.367 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.367 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.367 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.373 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.374 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.375 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 7.4666ms
2025-04-13 00:44:32.375 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - 200 17951 image/png 9.304ms
2025-04-13 00:44:32.394 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.396 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.396 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - 204 null null 2.2475ms
2025-04-13 00:44:32.404 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.404 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.405 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.405 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.412 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.414 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.424 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.427 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.430 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.433 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.438 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.442 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.442 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.443 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 37.4877ms
2025-04-13 00:44:32.443 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.444 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 39.9069ms
2025-04-13 00:44:32.462 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/0486468984 - null null
2025-04-13 00:44:32.463 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.463 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/0486468984 - 204 null null 0.5098ms
2025-04-13 00:44:32.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/0486468984 - application/json null
2025-04-13 00:44:32.470 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.471 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.471 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.475 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.476 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.477 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 5.9613ms
2025-04-13 00:44:32.477 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.478 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/0486468984 - 200 31385 image/png 8.4041ms
2025-04-13 00:44:32.495 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.495 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.496 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - 204 null null 0.5496ms
2025-04-13 00:44:32.514 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.515 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.515 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.515 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.529 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.531 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.536 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.539 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.545 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.549 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.550 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.550 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 34.7473ms
2025-04-13 00:44:32.551 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.551 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 36.7212ms
2025-04-13 00:44:32.560 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK1 - null null
2025-04-13 00:44:32.560 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.561 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK1 - 204 null null 0.7771ms
2025-04-13 00:44:32.565 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/BOOK1 - application/json null
2025-04-13 00:44:32.566 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.566 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.567 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.571 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.572 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.574 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 6.819ms
2025-04-13 00:44:32.574 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/BOOK1 - 200 9792 image/png 8.8164ms
2025-04-13 00:44:32.581 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.581 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.582 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - 204 null null 2.1717ms
2025-04-13 00:44:32.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.590 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.591 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.591 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.601 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.605 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.612 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.616 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.619 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.622 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.631 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.637 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.637 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.638 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 46.2965ms
2025-04-13 00:44:32.638 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 48.409ms
2025-04-13 00:44:32.645 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK2 - null null
2025-04-13 00:44:32.646 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.646 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK2 - 204 null null 0.8994ms
2025-04-13 00:44:32.659 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/BOOK2 - application/json null
2025-04-13 00:44:32.659 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.660 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.660 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.663 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.664 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.665 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.5787ms
2025-04-13 00:44:32.665 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/BOOK2 - 200 9487 image/png 7.634ms
2025-04-13 00:44:32.673 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - null null
2025-04-13 00:44:32.673 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.673 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - 204 null null 0.5059ms
2025-04-13 00:44:32.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - application/json null
2025-04-13 00:44:32.677 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.678 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.678 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-13 00:44:32.689 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:44:32.691 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:44:32.693 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:32.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-13 00:44:32.700 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:44:32.700 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:32.701 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 22.4772ms
2025-04-13 00:44:32.701 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:44:32.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - 200 176 application/json; charset=utf-8 24.5479ms
2025-04-13 00:44:32.708 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780890514665 - null null
2025-04-13 00:44:32.708 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780890514665 - 204 null null 0.8259ms
2025-04-13 00:44:32.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780890514665 - application/json null
2025-04-13 00:44:32.715 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:32.715 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.715 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:44:32.722 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:44:32.723 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:44:32.724 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 8.4067ms
2025-04-13 00:44:32.724 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:44:32.724 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780890514665 - 200 26083 image/png 9.8573ms
2025-04-13 00:44:34.262 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:44:34.263 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:34.264 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:34.264 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:44:34.279 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:44:34.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:44:34.282 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:44:34.282 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:34.283 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:44:34.293 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:44:34.294 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:44:34.299 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:44:34.307 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:44:34.308 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:34.308 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:44:34.308 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 44.0304ms
2025-04-13 00:44:34.308 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:44:34.309 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 46.7083ms
2025-04-13 00:44:34.313 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:44:34.323 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:44:34.324 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:44:34.325 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 41.848ms
2025-04-13 00:44:34.325 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:44:34.325 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 43.6875ms
2025-04-13 00:44:34.609 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:38.227 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:41.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:45.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:49.070 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:52.691 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:56.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:44:59.957 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:03.571 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:07.181 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:10.816 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:14.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:18.046 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:21.660 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:25.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:28.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:45:28.209 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:45:28.210 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.229ms
2025-04-13 00:45:28.214 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:45:28.215 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:45:28.216 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:45:28.216 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:45:28.221 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:45:28.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:45:28.231 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:45:28.234 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:45:28.235 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:45:28.235 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.896ms
2025-04-13 00:45:28.235 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:45:28.236 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.176ms
2025-04-13 00:45:28.917 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:32.528 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:36.145 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:39.781 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:43.413 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:47.114 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:50.731 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:54.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:45:57.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:01.545 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:05.154 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:08.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:12.385 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:15.984 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:19.607 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:23.216 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:27.206 +01:00 [INF] Executed DbCommand (219ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:30.816 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:34.467 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:38.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:39.408 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:46:39.408 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:39.410 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 6.1105ms
2025-04-13 00:46:39.421 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:46:39.421 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:39.422 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6632ms
2025-04-13 00:46:39.433 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:46:39.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:39.434 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:39.434 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:46:39.441 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:46:39.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:46:39.441 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:39.442 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:39.442 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:46:39.443 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:46:39.459 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:46:39.495 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:46:39.495 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:39.495 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:46:39.496 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 61.8795ms
2025-04-13 00:46:39.496 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:39.497 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 63.628ms
2025-04-13 00:46:39.502 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:39.505 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:46:39.512 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:46:39.514 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:39.514 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 72.5357ms
2025-04-13 00:46:39.515 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:39.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 73.9823ms
2025-04-13 00:46:41.714 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:42.248 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false - null null
2025-04-13 00:46:42.249 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.249 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false - 204 null null 0.7614ms
2025-04-13 00:46:42.253 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false - application/json null
2025-04-13 00:46:42.253 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.254 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:46:42.254 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:46:42.282 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2
2025-04-13 00:46:42.296 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:42.298 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2
2025-04-13 00:46:42.310 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 00:46:42.318 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 00:46:42.332 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:42.348 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-04-13 00:46:42.351 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-13 00:46:42.351 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:42.352 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 98.3024ms
2025-04-13 00:46:42.352 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 00:46:42.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false - 200 176 application/json; charset=utf-8 100.1537ms
2025-04-13 00:46:42.359 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/BOOK1 - null null
2025-04-13 00:46:42.360 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.360 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/BOOK1 - 204 null null 0.5721ms
2025-04-13 00:46:42.365 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/BOOK1 - application/json null
2025-04-13 00:46:42.365 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.366 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-13 00:46:42.370 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:46:42.381 +01:00 [INF] Fetching book with serial number: BOOK1
2025-04-13 00:46:42.444 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:46:42.449 +01:00 [INF] Fetched book details for serial number: BOOK1
2025-04-13 00:46:42.449 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:42.516 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 145.842ms
2025-04-13 00:46:42.516 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-13 00:46:42.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/BOOK1 - 200 564 application/json; charset=utf-8 151.6537ms
2025-04-13 00:46:42.784 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:46:42.784 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.785 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:42.785 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:46:42.819 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:46:42.845 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:46:42.865 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:46:42.869 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:46:42.869 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:42.870 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 84.8912ms
2025-04-13 00:46:42.870 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:42.870 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 86.199ms
2025-04-13 00:46:42.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:46:42.870 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.871 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:42.871 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:46:42.883 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:46:42.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/BOOK1 - application/json null
2025-04-13 00:46:42.900 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.907 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-13 00:46:42.907 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:46:42.907 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:42.919 +01:00 [INF] Fetching book with serial number: BOOK1
2025-04-13 00:46:42.920 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:46:42.928 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:46:42.929 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:42.930 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 58.6483ms
2025-04-13 00:46:42.930 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:42.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 60.1255ms
2025-04-13 00:46:42.931 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:46:42.937 +01:00 [INF] Fetched book details for serial number: BOOK1
2025-04-13 00:46:42.937 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:42.939 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 31.9755ms
2025-04-13 00:46:42.939 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-13 00:46:42.940 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/BOOK1 - 200 564 application/json; charset=utf-8 42.3751ms
2025-04-13 00:46:42.946 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BOOK1 - null null
2025-04-13 00:46:42.946 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.947 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BOOK1 - 204 null null 0.3868ms
2025-04-13 00:46:42.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/image/BOOK1 - application/json null
2025-04-13 00:46:42.951 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:42.952 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:46:42.952 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-13 00:46:42.961 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-13 00:46:42.962 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-13 00:46:42.963 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 10.1741ms
2025-04-13 00:46:42.963 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-13 00:46:42.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/image/BOOK1 - 200 9792 image/png 12.1588ms
2025-04-13 00:46:45.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:46.502 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:46:46.503 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:46.503 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5909ms
2025-04-13 00:46:46.523 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:46:46.525 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:46.525 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 2.2134ms
2025-04-13 00:46:46.526 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:46:46.526 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:46.528 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:46.529 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:46:46.536 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:46:46.543 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:46:46.543 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:46.544 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:46.544 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:46:46.549 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:46:46.553 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:46:46.559 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:46:46.563 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:46:46.564 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:46.564 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.7017ms
2025-04-13 00:46:46.564 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:46.565 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:46.565 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 38.9252ms
2025-04-13 00:46:46.581 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:46:46.596 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:46:46.597 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:46.597 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 53.446ms
2025-04-13 00:46:46.598 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:46.599 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 56.0083ms
2025-04-13 00:46:48.699 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:46:48.699 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:48.700 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:48.700 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:46:48.726 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:46:48.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:46:48.728 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:48.729 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:48.729 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:46:48.732 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:46:48.760 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:46:48.766 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:46:48.771 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:46:48.772 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:48.774 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 74.5699ms
2025-04-13 00:46:48.775 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:48.775 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 76.2722ms
2025-04-13 00:46:48.775 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:48.796 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:46:48.815 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:46:48.815 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:48.815 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 86.5556ms
2025-04-13 00:46:48.815 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:48.817 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 88.5682ms
2025-04-13 00:46:49.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:52.746 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:46:54.480 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:46:54.481 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:54.481 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.964ms
2025-04-13 00:46:54.527 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:46:54.528 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:54.529 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:54.529 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:46:54.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:46:54.530 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:54.530 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4389ms
2025-04-13 00:46:54.550 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:46:54.561 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:46:54.561 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:46:54.561 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:54.562 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:46:54.574 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:46:54.579 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:46:54.581 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:46:54.585 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:46:54.586 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:54.587 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 57.1415ms
2025-04-13 00:46:54.587 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:46:54.587 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 59.7699ms
2025-04-13 00:46:54.588 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:46:54.599 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:46:54.606 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:46:54.606 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:46:54.607 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 45.2099ms
2025-04-13 00:46:54.607 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:46:54.607 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 46.6667ms
2025-04-13 00:46:56.428 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:00.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:03.656 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:07.277 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:10.886 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:14.506 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:18.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:21.842 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:25.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:29.083 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:32.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:36.298 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:39.912 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:43.527 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:47.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:50.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:54.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:47:55.484 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:47:55.484 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:47:55.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.558ms
2025-04-13 00:47:55.490 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:47:55.490 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:47:55.493 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:47:55.494 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:47:55.499 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:47:55.502 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:47:55.507 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:47:55.517 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:47:55.519 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:47:55.519 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.3232ms
2025-04-13 00:47:55.519 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:47:55.519 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.4428ms
2025-04-13 00:47:58.010 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:01.622 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:05.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:08.855 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:12.471 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:16.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:19.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:23.302 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:26.912 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:30.569 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:34.202 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:37.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:41.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:45.048 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:48.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:52.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:55.430 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:48:55.430 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:48:55.431 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.0575ms
2025-04-13 00:48:55.434 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:48:55.434 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:48:55.435 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:48:55.435 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:48:55.438 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:48:55.439 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:48:55.443 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:48:55.447 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:48:55.447 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:48:55.448 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.7533ms
2025-04-13 00:48:55.448 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:48:55.448 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.9291ms
2025-04-13 00:48:55.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:48:59.508 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:03.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:06.751 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:10.356 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:13.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:17.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:21.206 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:24.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:28.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:32.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:35.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:39.284 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:42.899 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:46.534 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:50.170 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:53.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:49:55.425 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:49:55.425 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:49:55.425 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8341ms
2025-04-13 00:49:55.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:49:55.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:49:55.433 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:49:55.433 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:49:55.437 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:49:55.438 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:49:55.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:49:55.442 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:49:55.443 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:49:55.443 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 10.1636ms
2025-04-13 00:49:55.444 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:49:55.444 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 11.8137ms
2025-04-13 00:49:57.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:01.013 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:04.644 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:08.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:11.911 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:15.524 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:19.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:22.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:26.360 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:29.975 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:33.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:37.204 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:40.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:44.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:48.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:51.693 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:55.299 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:50:55.430 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:50:55.430 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:50:55.431 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6928ms
2025-04-13 00:50:55.434 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:50:55.434 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:50:55.435 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:50:55.435 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:50:55.439 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:50:55.441 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:50:55.444 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:50:55.449 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:50:55.449 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:50:55.449 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.7754ms
2025-04-13 00:50:55.449 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:50:55.449 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.8681ms
2025-04-13 00:50:58.914 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:02.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:06.147 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:09.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:13.384 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:16.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:20.614 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:24.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:27.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:31.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:35.072 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:38.719 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:42.337 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:45.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:49.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:53.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:51:55.423 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:51:55.423 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:51:55.424 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6116ms
2025-04-13 00:51:55.428 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:51:55.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:51:55.429 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:51:55.429 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:51:55.435 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:51:55.437 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:51:55.439 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:51:55.441 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:51:55.442 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:51:55.442 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.4323ms
2025-04-13 00:51:55.442 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:51:55.442 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.1412ms
2025-04-13 00:51:56.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:00.435 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:04.051 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:07.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:11.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:14.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:18.501 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:22.116 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:25.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:29.353 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:32.961 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:36.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:40.194 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:43.857 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:47.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:51.077 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:54.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:52:56.425 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:52:56.425 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:52:56.426 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.9376ms
2025-04-13 00:52:56.429 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:52:56.429 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:52:56.431 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:52:56.431 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:52:56.443 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:52:56.447 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:52:56.454 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:52:56.459 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:52:56.459 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:52:56.460 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 28.9757ms
2025-04-13 00:52:56.460 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:52:56.460 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 31.2063ms
2025-04-13 00:52:58.305 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:02.058 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:05.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:09.284 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:12.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:16.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:20.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:23.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:27.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:30.971 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:34.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:38.197 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:41.829 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:45.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:49.054 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:52.657 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:56.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:53:57.427 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:53:57.427 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:53:57.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7629ms
2025-04-13 00:53:57.430 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:53:57.431 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:53:57.431 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:53:57.431 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:53:57.435 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:53:57.436 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:53:57.440 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:53:57.446 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:53:57.446 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:53:57.447 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.3142ms
2025-04-13 00:53:57.447 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:53:57.447 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.6131ms
2025-04-13 00:53:59.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:03.506 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:07.123 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:10.756 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:14.369 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:17.986 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:21.607 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:25.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:28.853 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:32.611 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:36.225 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:39.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:43.456 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:47.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:50.666 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:54.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:57.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:54:58.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:54:58.429 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:54:58.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.2078ms
2025-04-13 00:54:58.433 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:54:58.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:54:58.433 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:54:58.433 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:54:58.436 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:54:58.438 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:54:58.442 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:54:58.446 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:54:58.446 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:54:58.447 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.0673ms
2025-04-13 00:54:58.447 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:54:58.447 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.1944ms
2025-04-13 00:55:01.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:05.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:08.740 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:12.391 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:16.001 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:19.623 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:23.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:26.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:30.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:34.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:37.733 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:41.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:44.953 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:48.567 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:52.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:55.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:59.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:55:59.438 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:55:59.438 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:55:59.439 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7084ms
2025-04-13 00:55:59.443 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:55:59.444 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:55:59.445 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:55:59.445 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:55:59.450 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:55:59.452 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:55:59.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:55:59.457 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:55:59.458 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:55:59.458 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.4255ms
2025-04-13 00:55:59.458 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:55:59.459 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.3427ms
2025-04-13 00:56:03.011 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:06.623 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:10.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:13.844 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:17.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:21.076 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:24.677 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:28.306 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:31.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:35.539 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:39.151 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:42.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:46.368 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:49.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:53.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:57.207 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:56:59.436 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:56:59.436 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:56:59.436 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3695ms
2025-04-13 00:56:59.439 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:56:59.439 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:56:59.440 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:56:59.440 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:56:59.443 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:56:59.448 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:56:59.450 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:56:59.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:56:59.453 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:56:59.454 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.4954ms
2025-04-13 00:56:59.454 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:56:59.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.7767ms
2025-04-13 00:57:00.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:04.431 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:08.047 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:11.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:15.278 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:18.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:22.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:26.110 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:29.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:33.325 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:36.939 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:40.557 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:44.172 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:47.787 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:51.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:55.054 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:58.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:57:59.429 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:57:59.429 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:57:59.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8484ms
2025-04-13 00:57:59.435 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:57:59.436 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:57:59.437 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:57:59.437 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:57:59.445 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:57:59.449 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:57:59.453 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:57:59.461 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:57:59.461 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:57:59.461 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.6227ms
2025-04-13 00:57:59.461 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:57:59.461 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.4602ms
2025-04-13 00:58:02.287 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:05.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:09.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:13.134 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:16.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:20.366 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:23.976 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:27.607 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:31.322 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:34.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:38.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:42.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:45.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:49.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:53.020 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:56.730 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:58:59.427 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:58:59.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:58:59.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.809ms
2025-04-13 00:58:59.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:58:59.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:58:59.433 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:58:59.434 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:58:59.438 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:58:59.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:58:59.441 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:58:59.445 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:58:59.445 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:58:59.445 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.0265ms
2025-04-13 00:58:59.446 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:58:59.446 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.712ms
2025-04-13 00:59:00.381 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:03.758 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:03.760 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:03.760 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:03.761 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:03.772 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:03.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:03.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:03.780 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:03.780 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:03.780 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.4785ms
2025-04-13 00:59:03.781 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:03.781 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.6074ms
2025-04-13 00:59:03.839 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:03.839 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:03.839 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.502ms
2025-04-13 00:59:03.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:03.846 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:03.846 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:03.846 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:03.865 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:03.875 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:03.881 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:03.889 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:03.889 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:03.890 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 43.2828ms
2025-04-13 00:59:03.890 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:03.890 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 44.5496ms
2025-04-13 00:59:04.051 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:06.581 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:06.587 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:06.587 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 5.4481ms
2025-04-13 00:59:06.592 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:06.592 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:06.593 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:06.593 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:06.634 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:06.649 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:06.751 +01:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:06.798 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:06.798 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:06.802 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 208.6829ms
2025-04-13 00:59:06.802 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:06.802 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 210.3685ms
2025-04-13 00:59:07.341 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:07.341 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:07.344 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:07.344 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:07.352 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:07.355 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:07.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:07.375 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:07.375 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:07.376 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 31.3979ms
2025-04-13 00:59:07.376 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:07.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 35.0402ms
2025-04-13 00:59:07.688 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:10.112 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:10.113 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:10.114 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:10.114 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:10.127 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:10.130 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:10.134 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:10.138 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:10.138 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:10.139 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.3411ms
2025-04-13 00:59:10.139 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:10.139 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.2096ms
2025-04-13 00:59:10.172 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:10.172 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:10.173 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.432ms
2025-04-13 00:59:10.177 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:10.177 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:10.178 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:10.178 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:10.187 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:10.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:10.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:10.196 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:10.196 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:10.196 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.5539ms
2025-04-13 00:59:10.196 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:10.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.6317ms
2025-04-13 00:59:11.443 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:12.996 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:12.997 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:13.002 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 5.4747ms
2025-04-13 00:59:13.007 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:13.007 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:13.008 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:13.008 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:13.020 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:13.022 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:13.034 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:13.043 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:13.043 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:13.043 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.8159ms
2025-04-13 00:59:13.043 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:13.044 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 37.0742ms
2025-04-13 00:59:13.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:13.376 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:13.377 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:13.383 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:13.390 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:13.395 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:13.409 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:13.421 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:13.421 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:13.422 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 38.9138ms
2025-04-13 00:59:13.422 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:13.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 46.8057ms
2025-04-13 00:59:15.084 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:18.745 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:19.172 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:19.172 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:19.172 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4151ms
2025-04-13 00:59:19.185 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:19.185 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:19.186 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:19.186 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:19.209 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:19.221 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:19.224 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:19.232 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:19.232 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:19.233 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 46.5908ms
2025-04-13 00:59:19.233 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:19.233 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 47.9369ms
2025-04-13 00:59:19.339 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:19.339 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:19.339 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3648ms
2025-04-13 00:59:19.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:19.345 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:19.350 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:19.350 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:19.356 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:19.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:19.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:19.370 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:19.370 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:19.370 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.4813ms
2025-04-13 00:59:19.371 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:19.371 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.2899ms
2025-04-13 00:59:19.968 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:19.968 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:19.969 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:19.969 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:19.973 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:19.985 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:19.987 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:19.991 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:19.992 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:19.992 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.0498ms
2025-04-13 00:59:19.992 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:19.992 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.4983ms
2025-04-13 00:59:20.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:20.072 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:20.073 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:20.074 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:20.089 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:20.095 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:20.110 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:20.119 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:20.119 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:20.121 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 46.6957ms
2025-04-13 00:59:20.121 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:20.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 49.0814ms
2025-04-13 00:59:22.426 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:24.486 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:24.486 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:24.486 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6253ms
2025-04-13 00:59:24.489 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:24.490 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:24.490 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:24.491 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:24.504 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:24.508 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:24.510 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:24.517 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:24.517 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:24.518 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 26.9193ms
2025-04-13 00:59:24.518 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:24.518 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.5832ms
2025-04-13 00:59:24.555 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:24.555 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:24.556 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6837ms
2025-04-13 00:59:24.565 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:24.566 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:24.566 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:24.566 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:24.573 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:24.575 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:24.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:24.583 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:24.583 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:24.583 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.0604ms
2025-04-13 00:59:24.584 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:24.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.4747ms
2025-04-13 00:59:25.303 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:25.304 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:25.304 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:25.305 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:25.310 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:25.313 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:25.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:25.318 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:25.318 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:25.319 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.9429ms
2025-04-13 00:59:25.319 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:25.319 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.5512ms
2025-04-13 00:59:25.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:25.351 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:25.352 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:25.352 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:25.356 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:25.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:25.384 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:25.394 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:25.397 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:25.398 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 45.7006ms
2025-04-13 00:59:25.398 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:25.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 47.7145ms
2025-04-13 00:59:26.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:26.870 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:26.870 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:26.871 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:26.872 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:26.876 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:26.887 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:26.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:26.893 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:26.893 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:26.894 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.6123ms
2025-04-13 00:59:26.894 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:26.894 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.7194ms
2025-04-13 00:59:26.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:26.938 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:26.939 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:26.939 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:26.943 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:26.947 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:26.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:26.954 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:26.955 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:26.956 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 16.9813ms
2025-04-13 00:59:26.956 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:26.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.776ms
2025-04-13 00:59:28.004 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:28.004 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:28.005 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:28.005 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:28.017 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:28.019 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:28.022 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:28.025 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:28.026 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:28.026 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.4683ms
2025-04-13 00:59:28.026 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:28.026 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.1626ms
2025-04-13 00:59:28.238 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:28.238 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:28.238 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:28.239 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:28.248 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:28.256 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:28.259 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:28.273 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:28.273 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:28.274 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.7152ms
2025-04-13 00:59:28.274 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:28.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 35.9517ms
2025-04-13 00:59:29.753 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:31.082 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:31.082 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:31.083 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3601ms
2025-04-13 00:59:31.174 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:31.175 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:31.175 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:31.175 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:31.224 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:31.301 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:31.306 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:31.323 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:31.323 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:31.323 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 147.2553ms
2025-04-13 00:59:31.323 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:31.323 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 150.1672ms
2025-04-13 00:59:33.161 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:33.161 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:33.162 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:33.162 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:33.167 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:33.169 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:33.172 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:33.175 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:33.176 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:33.177 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.6868ms
2025-04-13 00:59:33.177 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:33.177 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.9409ms
2025-04-13 00:59:33.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:33.212 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:33.213 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.1675ms
2025-04-13 00:59:33.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:33.217 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:33.218 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:33.218 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:33.223 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:33.238 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:33.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:33.251 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:33.251 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:33.252 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 33.246ms
2025-04-13 00:59:33.252 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:33.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 34.9944ms
2025-04-13 00:59:33.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:33.767 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:33.767 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:33.767 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:33.767 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:33.773 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:33.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:33.785 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:33.788 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:33.788 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:33.788 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.748ms
2025-04-13 00:59:33.788 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:33.788 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.6107ms
2025-04-13 00:59:33.982 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:33.982 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:33.983 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:33.983 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:33.986 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:33.990 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:33.994 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:33.998 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:33.998 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:33.998 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.347ms
2025-04-13 00:59:33.998 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:33.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.7954ms
2025-04-13 00:59:36.818 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:36.819 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:36.819 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5155ms
2025-04-13 00:59:36.824 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:36.824 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:36.824 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:36.824 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:36.846 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:36.856 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:36.861 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:36.867 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:36.867 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:36.867 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 43.4338ms
2025-04-13 00:59:36.868 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:36.868 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 44.1863ms
2025-04-13 00:59:37.099 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:37.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:37.113 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:37.113 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:37.113 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:37.117 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:37.126 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:37.131 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:37.135 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:37.135 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:37.135 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.3318ms
2025-04-13 00:59:37.136 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:37.136 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.2282ms
2025-04-13 00:59:40.710 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:44.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:47.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:51.034 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:51.034 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:51.035 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8032ms
2025-04-13 00:59:51.038 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:51.038 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:51.042 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:51.042 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:51.046 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:51.048 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:51.050 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:51.053 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:51.053 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:51.053 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.1065ms
2025-04-13 00:59:51.053 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:51.054 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.0203ms
2025-04-13 00:59:51.095 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:51.095 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:51.095 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6781ms
2025-04-13 00:59:51.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:51.101 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:51.101 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:51.101 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:51.109 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:51.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:51.115 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:51.118 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:51.119 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:51.119 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.0712ms
2025-04-13 00:59:51.119 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:51.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.3951ms
2025-04-13 00:59:51.566 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:55.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 00:59:58.109 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 00:59:58.109 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:58.110 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5955ms
2025-04-13 00:59:58.113 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 00:59:58.113 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:58.113 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:58.113 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 00:59:58.117 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 00:59:58.119 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 00:59:58.124 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 00:59:58.128 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 00:59:58.128 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:58.128 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.6867ms
2025-04-13 00:59:58.128 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 00:59:58.129 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.1902ms
2025-04-13 00:59:58.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 00:59:58.209 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:58.210 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.0534ms
2025-04-13 00:59:58.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 00:59:58.214 +01:00 [INF] CORS policy execution successful.
2025-04-13 00:59:58.214 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:58.214 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 00:59:58.251 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 00:59:58.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 00:59:58.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 00:59:58.261 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 00:59:58.261 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 00:59:58.261 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 46.6722ms
2025-04-13 00:59:58.261 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 00:59:58.262 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 48.7012ms
2025-04-13 00:59:58.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:01.852 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:01.852 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:01.855 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:01.855 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:01.863 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:01.874 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:01.880 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:01.891 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:01.892 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:01.892 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 36.5373ms
2025-04-13 01:00:01.892 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:01.892 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 40.202ms
2025-04-13 01:00:02.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:02.214 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:02.214 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:02.214 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:02.223 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:02.241 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:02.363 +01:00 [INF] Executed DbCommand (121ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:02.422 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:02.422 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:02.423 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 209.2257ms
2025-04-13 01:00:02.423 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:02.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 210.2613ms
2025-04-13 01:00:02.560 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:03.772 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:03.772 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:03.773 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.1941ms
2025-04-13 01:00:03.776 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:03.776 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:03.776 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:03.776 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:03.780 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:03.795 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:03.800 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:03.808 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:03.809 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:03.809 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.4362ms
2025-04-13 01:00:03.809 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:03.809 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.5966ms
2025-04-13 01:00:04.441 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:04.441 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:04.441 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3705ms
2025-04-13 01:00:04.446 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:04.446 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:04.446 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:04.446 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:04.450 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:04.457 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:04.460 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:04.465 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:04.465 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:04.466 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.2264ms
2025-04-13 01:00:04.466 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:04.467 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.2379ms
2025-04-13 01:00:06.246 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:06.659 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:06.659 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:06.662 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:06.662 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:06.675 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:06.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:06.680 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:06.694 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:06.694 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:06.695 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.3068ms
2025-04-13 01:00:06.695 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:06.695 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 35.7383ms
2025-04-13 01:00:06.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:06.766 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:06.766 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:06.766 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:06.777 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:06.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:06.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:06.790 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:06.790 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:06.790 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.0837ms
2025-04-13 01:00:06.790 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:06.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.1261ms
2025-04-13 01:00:09.177 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:09.177 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:09.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.2622ms
2025-04-13 01:00:09.182 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:09.182 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:09.183 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:09.183 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:09.190 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:09.192 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:09.194 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:09.197 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:09.197 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:09.198 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3794ms
2025-04-13 01:00:09.198 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:09.198 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.7285ms
2025-04-13 01:00:09.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:09.213 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:09.214 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:09.214 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:09.221 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:09.226 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:09.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:09.233 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:09.233 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:09.234 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.5516ms
2025-04-13 01:00:09.235 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:09.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 22.3052ms
2025-04-13 01:00:09.873 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:13.010 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:13.010 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:13.011 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:13.011 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:13.021 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:13.022 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:13.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:13.029 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:13.029 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:13.029 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.1108ms
2025-04-13 01:00:13.029 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:13.030 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.8968ms
2025-04-13 01:00:13.406 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:13.406 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:13.406 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4226ms
2025-04-13 01:00:13.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:13.413 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:13.414 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:13.414 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:13.426 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:13.434 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:13.437 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:13.444 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:13.444 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:13.444 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.5283ms
2025-04-13 01:00:13.445 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:13.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 31.7485ms
2025-04-13 01:00:13.549 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:17.155 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:19.503 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:19.503 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:19.503 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8398ms
2025-04-13 01:00:19.506 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:19.506 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:19.506 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:19.507 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:19.510 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:19.512 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:19.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:19.524 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:19.525 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:19.525 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.1019ms
2025-04-13 01:00:19.525 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:19.525 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.2449ms
2025-04-13 01:00:19.580 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:19.580 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:19.580 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4163ms
2025-04-13 01:00:19.599 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:19.600 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:19.600 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:19.600 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:19.622 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:19.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:19.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:19.634 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:19.635 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:19.635 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.652ms
2025-04-13 01:00:19.635 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:19.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 37.134ms
2025-04-13 01:00:20.852 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:21.640 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:21.640 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:21.640 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:21.640 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:21.645 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:21.651 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:21.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:21.657 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:21.657 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:21.657 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.0521ms
2025-04-13 01:00:21.657 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:21.658 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.0164ms
2025-04-13 01:00:21.695 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:21.696 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:21.696 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:21.696 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:21.702 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:21.704 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:21.705 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:21.709 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:21.709 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:21.710 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 13.3501ms
2025-04-13 01:00:21.710 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:21.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 15.6731ms
2025-04-13 01:00:24.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:28.109 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:30.512 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:30.519 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:30.519 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 7.3253ms
2025-04-13 01:00:30.526 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:30.526 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:30.526 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:30.526 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:30.533 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:30.535 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:30.538 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:30.544 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:30.545 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:30.545 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.4617ms
2025-04-13 01:00:30.545 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:30.545 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.723ms
2025-04-13 01:00:30.601 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:30.601 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:30.602 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5374ms
2025-04-13 01:00:30.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:30.607 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:30.661 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:30.661 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:30.736 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:30.758 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:30.760 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:30.769 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:30.770 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:30.770 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 108.8965ms
2025-04-13 01:00:30.770 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:30.771 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 164.1862ms
2025-04-13 01:00:31.883 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:33.021 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:33.021 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:33.022 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:33.022 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:33.026 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:33.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:33.032 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:33.035 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:33.035 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:33.035 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.3326ms
2025-04-13 01:00:33.036 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:33.036 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.4129ms
2025-04-13 01:00:33.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:33.077 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:33.078 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:33.078 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:33.127 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:33.135 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:33.137 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:33.158 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:33.159 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:33.160 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 82.1609ms
2025-04-13 01:00:33.160 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:33.160 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 83.4742ms
2025-04-13 01:00:35.516 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:39.130 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:41.139 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:41.140 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:41.140 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8542ms
2025-04-13 01:00:41.147 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:41.147 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:41.147 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:41.148 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:41.152 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:41.153 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:41.155 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:41.159 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:41.159 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:41.160 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.8448ms
2025-04-13 01:00:41.160 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:41.160 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.2623ms
2025-04-13 01:00:41.175 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:41.175 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:41.175 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7654ms
2025-04-13 01:00:41.182 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:41.183 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:41.184 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:41.185 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:41.189 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:41.198 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:41.201 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:41.207 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:41.207 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:41.207 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.5458ms
2025-04-13 01:00:41.207 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:41.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.1912ms
2025-04-13 01:00:42.763 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:45.207 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:45.208 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:45.208 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:45.208 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:45.220 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:45.224 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:45.231 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:45.236 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:45.236 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:45.236 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 28.4899ms
2025-04-13 01:00:45.237 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:45.237 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.458ms
2025-04-13 01:00:45.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:45.299 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:45.299 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:45.299 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:45.307 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:45.322 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:45.332 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:45.341 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:45.341 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:45.341 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 42.1774ms
2025-04-13 01:00:45.342 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:45.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 43.2918ms
2025-04-13 01:00:46.438 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:48.402 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:48.402 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:48.403 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5962ms
2025-04-13 01:00:48.407 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:48.407 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:48.407 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:48.407 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:48.422 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:48.433 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:48.435 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:48.447 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:48.447 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:48.447 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 39.7598ms
2025-04-13 01:00:48.447 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:48.447 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 40.9071ms
2025-04-13 01:00:48.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:48.485 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:48.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3892ms
2025-04-13 01:00:48.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:48.490 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:48.490 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:48.490 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:48.499 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:48.501 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:48.517 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:48.540 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:48.540 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:48.541 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 50.294ms
2025-04-13 01:00:48.541 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:48.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 51.8874ms
2025-04-13 01:00:49.636 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:49.636 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:49.637 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:49.637 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:49.646 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:49.648 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:49.652 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:49.655 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:49.655 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:49.655 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.0544ms
2025-04-13 01:00:49.655 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:49.655 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.1027ms
2025-04-13 01:00:49.702 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:49.702 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:49.702 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:49.702 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:49.707 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:49.713 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:49.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:49.719 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:49.719 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:49.720 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.2676ms
2025-04-13 01:00:49.720 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:49.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.521ms
2025-04-13 01:00:50.072 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:53.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:55.670 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:00:55.670 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:55.672 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 2.3241ms
2025-04-13 01:00:55.677 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:55.677 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:55.678 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:55.678 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:55.682 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:55.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:55.686 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:55.689 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:55.689 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:55.690 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.4824ms
2025-04-13 01:00:55.690 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:55.690 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.0809ms
2025-04-13 01:00:55.716 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:00:55.717 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:55.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5876ms
2025-04-13 01:00:55.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:55.722 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:55.722 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:55.723 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:55.732 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:55.736 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:55.737 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:55.751 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:55.751 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:55.752 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 29.1108ms
2025-04-13 01:00:55.752 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:55.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 30.6257ms
2025-04-13 01:00:57.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:00:57.967 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:00:57.967 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:57.967 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:57.967 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:00:57.971 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:00:57.979 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:00:57.981 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:00:57.986 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:00:57.986 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:57.986 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.3143ms
2025-04-13 01:00:57.986 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:00:57.986 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.4019ms
2025-04-13 01:00:58.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:00:58.050 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:00:58.050 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:58.050 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:00:58.055 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:00:58.066 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:00:58.088 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:00:58.098 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:00:58.098 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:00:58.098 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 47.8867ms
2025-04-13 01:00:58.099 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:00:58.099 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 49.2079ms
2025-04-13 01:01:00.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:04.556 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:07.857 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:07.858 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:07.858 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6205ms
2025-04-13 01:01:07.861 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:07.861 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:07.861 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:07.862 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:07.866 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:07.867 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:07.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:07.876 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:07.876 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:07.876 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3543ms
2025-04-13 01:01:07.876 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:07.876 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.7873ms
2025-04-13 01:01:07.903 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:07.903 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:07.905 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.9425ms
2025-04-13 01:01:07.908 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:07.908 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:07.908 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:07.909 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:07.913 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:07.916 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:07.917 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:07.929 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:07.930 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:07.930 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.1843ms
2025-04-13 01:01:07.931 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:07.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.1285ms
2025-04-13 01:01:08.180 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:10.671 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:10.671 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:10.671 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:10.671 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:10.676 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:10.681 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:10.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:10.689 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:10.689 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:10.689 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.0864ms
2025-04-13 01:01:10.690 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:10.690 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.9564ms
2025-04-13 01:01:10.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:10.815 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:10.815 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:10.815 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:10.822 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:10.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:10.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:10.833 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:10.833 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:10.833 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.9904ms
2025-04-13 01:01:10.833 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:10.834 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.2395ms
2025-04-13 01:01:11.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:15.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:19.072 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:22.677 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:24.174 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:24.175 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:24.175 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4427ms
2025-04-13 01:01:24.179 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:24.180 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:24.180 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:24.180 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:24.185 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:24.187 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:24.188 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:24.192 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:24.192 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:24.192 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.9649ms
2025-04-13 01:01:24.193 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:24.193 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.3462ms
2025-04-13 01:01:24.213 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:24.213 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:24.214 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5088ms
2025-04-13 01:01:24.222 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:24.222 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:24.223 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:24.223 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:24.226 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:24.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:24.230 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:24.235 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:24.235 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:24.236 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 13.4143ms
2025-04-13 01:01:24.236 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:24.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 14.6713ms
2025-04-13 01:01:26.300 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:26.726 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:26.726 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:26.727 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:26.727 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:26.730 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:26.735 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:26.739 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:26.742 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:26.742 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:26.743 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.082ms
2025-04-13 01:01:26.743 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:26.743 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.831ms
2025-04-13 01:01:26.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:26.827 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:26.828 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:26.829 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:26.833 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:26.836 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:26.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:26.842 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:26.842 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:26.842 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 13.5944ms
2025-04-13 01:01:26.843 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:26.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 15.8044ms
2025-04-13 01:01:29.778 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:29.778 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:29.780 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.5779ms
2025-04-13 01:01:29.785 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:29.786 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:29.787 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:29.787 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:29.791 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:29.793 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:29.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:29.798 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:29.798 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:29.798 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.5569ms
2025-04-13 01:01:29.799 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:29.799 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.5077ms
2025-04-13 01:01:29.829 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:29.829 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:29.829 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5115ms
2025-04-13 01:01:29.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:29.837 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:29.838 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:29.838 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:29.843 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:29.847 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:29.853 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:29.863 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:29.863 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:29.864 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 26.0671ms
2025-04-13 01:01:29.864 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:29.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.8657ms
2025-04-13 01:01:29.926 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:33.572 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:37.191 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:37.191 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:37.192 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.3023ms
2025-04-13 01:01:37.195 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:37.196 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:37.196 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:37.197 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:37.218 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:37.221 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:37.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:37.228 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:37.228 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:37.229 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 22.6593ms
2025-04-13 01:01:37.229 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:37.229 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.7811ms
2025-04-13 01:01:37.354 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:37.423 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:37.424 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:37.424 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.886ms
2025-04-13 01:01:37.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:37.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:37.430 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:37.431 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:37.441 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:37.445 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:37.453 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:37.479 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:37.479 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:37.487 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 56.2914ms
2025-04-13 01:01:37.487 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:37.487 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 59.6751ms
2025-04-13 01:01:38.855 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:38.855 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:38.856 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:38.856 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:38.861 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:38.873 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:38.895 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:38.901 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:38.902 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:38.902 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 45.9918ms
2025-04-13 01:01:38.902 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:38.902 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 46.9044ms
2025-04-13 01:01:38.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:38.970 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:38.970 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:38.970 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:38.974 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:38.977 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:38.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:38.993 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:38.993 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:38.994 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.8521ms
2025-04-13 01:01:38.994 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:38.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.9269ms
2025-04-13 01:01:40.965 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:44.706 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:46.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:46.050 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:46.051 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.3726ms
2025-04-13 01:01:46.069 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:46.069 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:46.070 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:46.070 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:46.081 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:46.084 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:46.086 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:46.091 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:46.091 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:46.091 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.3406ms
2025-04-13 01:01:46.091 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:46.091 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.8123ms
2025-04-13 01:01:46.181 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:46.181 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:46.181 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4054ms
2025-04-13 01:01:46.188 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:46.188 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:46.189 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:46.189 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:46.194 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:46.200 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:46.204 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:46.209 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:46.210 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:46.210 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 20.9651ms
2025-04-13 01:01:46.210 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:46.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 22.8457ms
2025-04-13 01:01:48.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:50.118 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:50.118 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:50.119 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:50.119 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:50.126 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:50.132 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:50.135 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:50.138 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:50.138 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:50.138 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.2782ms
2025-04-13 01:01:50.138 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:50.139 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.3589ms
2025-04-13 01:01:50.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:50.263 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:50.264 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:50.264 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:50.270 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:50.275 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:50.283 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:50.287 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:50.287 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:50.288 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.6608ms
2025-04-13 01:01:50.288 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:50.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.731ms
2025-04-13 01:01:51.937 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:55.550 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:01:55.770 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:01:55.771 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:55.771 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4136ms
2025-04-13 01:01:55.775 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:01:55.775 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:55.779 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:55.779 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:01:55.791 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:01:55.815 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:01:55.821 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:01:55.831 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:01:55.831 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:55.831 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 52.2672ms
2025-04-13 01:01:55.831 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:01:55.832 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 56.4858ms
2025-04-13 01:01:56.273 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:01:56.273 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:56.273 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5596ms
2025-04-13 01:01:56.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:01:56.279 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:01:56.279 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:56.279 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:01:56.288 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:01:56.292 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:01:56.301 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:01:56.304 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:01:56.305 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:01:56.305 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 26.2488ms
2025-04-13 01:01:56.305 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:01:56.306 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.4816ms
2025-04-13 01:01:59.178 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:02.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:03.536 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:02:03.536 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:03.537 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.1158ms
2025-04-13 01:02:03.544 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:02:03.544 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:03.545 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:02:03.545 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:02:03.550 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:02:03.552 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:02:03.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:02:03.557 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:02:03.557 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:02:03.558 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.6594ms
2025-04-13 01:02:03.558 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:02:03.558 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.2924ms
2025-04-13 01:02:03.594 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:02:03.595 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:03.596 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4483ms
2025-04-13 01:02:03.602 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:02:03.603 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:03.603 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:02:03.603 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:02:03.610 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:02:03.619 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:02:03.623 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:02:03.628 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:02:03.628 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:02:03.628 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.7253ms
2025-04-13 01:02:03.629 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:02:03.629 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.6674ms
2025-04-13 01:02:05.873 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:02:05.873 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:05.879 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:02:05.879 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:02:05.886 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:02:05.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:02:05.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:02:05.896 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:02:05.896 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:02:05.896 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.8863ms
2025-04-13 01:02:05.896 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:02:05.896 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.4901ms
2025-04-13 01:02:05.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:02:05.923 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:02:05.925 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:02:05.926 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:02:05.963 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:02:05.966 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:02:05.967 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:02:05.971 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:02:05.971 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:02:05.972 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 46.1481ms
2025-04-13 01:02:05.972 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:02:05.973 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 49.6923ms
2025-04-13 01:02:06.445 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:10.051 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:13.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:17.264 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:20.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:24.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:28.090 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:31.705 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:35.316 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:35.328 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - null null
2025-04-13 01:02:35.328 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:02:35.328 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:02:35.397 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:02:35.405 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:02:35.407 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:02:35.412 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:02:35.422 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:02:35.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:02:35.453 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:02:35.510 +01:00 [INF] Fetched borrow history with 10 records for page 1
2025-04-13 01:02:35.510 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:02:35.515 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 186.6361ms
2025-04-13 01:02:35.515 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:02:35.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - 200 3534 application/json; charset=utf-8 187.9407ms
2025-04-13 01:02:38.936 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:42.553 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:46.168 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:49.784 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:53.399 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:02:57.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:00.649 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:03.358 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:03.358 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:03.358 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4109ms
2025-04-13 01:03:03.366 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:03.366 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:03.367 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:03.367 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:03.371 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:03.372 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:03.374 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:03.384 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:03.384 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:03.385 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.73ms
2025-04-13 01:03:03.385 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:03.385 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.1016ms
2025-04-13 01:03:03.498 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:03.498 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:03.498 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4713ms
2025-04-13 01:03:03.505 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:03.505 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:03.505 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:03.505 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:03.510 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:03.515 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:03.519 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:03.524 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:03.524 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:03.524 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.9313ms
2025-04-13 01:03:03.524 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:03.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.8774ms
2025-04-13 01:03:04.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:05.617 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:05.617 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:05.618 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:05.618 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:05.622 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:05.627 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:05.630 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:05.635 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:05.635 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:05.636 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.8614ms
2025-04-13 01:03:05.636 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:05.636 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.901ms
2025-04-13 01:03:05.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:05.672 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:05.673 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:05.673 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:05.679 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:05.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:05.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:05.691 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:05.692 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:05.696 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.3166ms
2025-04-13 01:03:05.696 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:05.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.5052ms
2025-04-13 01:03:07.058 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:07.058 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:07.058 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:07.058 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:07.072 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:07.081 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:07.089 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:07.096 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:07.096 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:07.096 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 37.8389ms
2025-04-13 01:03:07.096 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:07.097 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 38.6535ms
2025-04-13 01:03:07.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:07.176 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:07.180 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:07.180 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:07.184 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:07.188 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:07.195 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:07.200 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:07.201 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:07.201 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.2276ms
2025-04-13 01:03:07.201 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:07.202 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.4119ms
2025-04-13 01:03:07.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:11.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:14.119 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:14.119 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:14.120 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.3631ms
2025-04-13 01:03:14.126 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:14.127 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:14.128 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:14.128 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:14.132 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:14.133 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:14.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:14.138 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:14.138 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:14.139 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 10.7039ms
2025-04-13 01:03:14.139 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:14.139 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 12.8277ms
2025-04-13 01:03:14.149 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:14.149 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:14.150 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7355ms
2025-04-13 01:03:14.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:14.155 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:14.156 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:14.156 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:14.168 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:14.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:14.172 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:14.178 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:14.178 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:14.179 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.6433ms
2025-04-13 01:03:14.180 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:14.181 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.8174ms
2025-04-13 01:03:15.147 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:16.019 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:16.020 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:16.020 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:16.020 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:16.030 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:16.032 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:16.034 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:16.038 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:16.038 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:16.038 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.0538ms
2025-04-13 01:03:16.038 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:16.038 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.1545ms
2025-04-13 01:03:16.073 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:16.074 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:16.075 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:16.075 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:16.080 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:16.083 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:16.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:16.089 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:16.089 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:16.090 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.3956ms
2025-04-13 01:03:16.090 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:16.092 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.0925ms
2025-04-13 01:03:18.846 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:22.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:25.430 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:25.431 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:25.433 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 2.1317ms
2025-04-13 01:03:25.437 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:25.437 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:25.437 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:25.438 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:25.446 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:25.447 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:25.450 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:25.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:25.453 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:25.454 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.5181ms
2025-04-13 01:03:25.454 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:25.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.1823ms
2025-04-13 01:03:25.533 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:25.533 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:25.534 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4638ms
2025-04-13 01:03:25.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:25.540 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:25.540 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:25.540 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:25.544 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:25.546 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:25.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:25.552 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:25.552 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:25.553 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 12.061ms
2025-04-13 01:03:25.553 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:25.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 15.0671ms
2025-04-13 01:03:26.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:27.729 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:27.729 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:27.730 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:27.730 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:27.736 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:27.748 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:27.753 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:27.766 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:27.766 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:27.766 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 36.1378ms
2025-04-13 01:03:27.766 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:27.766 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 37.0409ms
2025-04-13 01:03:27.909 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:27.909 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:27.909 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:27.909 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:27.913 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:27.917 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:27.920 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:27.929 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:27.929 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:27.930 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 20.62ms
2025-04-13 01:03:27.930 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:27.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.618ms
2025-04-13 01:03:29.706 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:30.019 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:30.019 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:30.020 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:30.020 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:30.035 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:30.042 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:30.044 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:30.048 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:30.048 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:30.048 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.9772ms
2025-04-13 01:03:30.048 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:30.048 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.8579ms
2025-04-13 01:03:30.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:30.072 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:30.073 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:30.073 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:30.078 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:30.080 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:30.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:30.086 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:30.087 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:30.088 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.8443ms
2025-04-13 01:03:30.089 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:30.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.22ms
2025-04-13 01:03:33.334 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:34.792 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:34.792 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:34.792 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5219ms
2025-04-13 01:03:34.796 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:34.796 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:34.797 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:34.797 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:34.808 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:34.810 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:34.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:34.819 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:34.819 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:34.819 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.8619ms
2025-04-13 01:03:34.820 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:34.820 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.0218ms
2025-04-13 01:03:34.876 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:34.876 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:34.877 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5667ms
2025-04-13 01:03:34.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:34.882 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:34.882 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:34.882 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:34.887 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:34.891 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:34.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:34.899 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:34.899 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:34.899 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.4492ms
2025-04-13 01:03:34.900 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:34.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.5038ms
2025-04-13 01:03:36.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:39.691 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:39.691 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:39.692 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:39.692 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:39.697 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:39.701 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:39.712 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:39.722 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:39.722 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:39.722 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 30.3671ms
2025-04-13 01:03:39.722 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:39.722 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 31.1349ms
2025-04-13 01:03:39.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:39.842 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:39.842 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:39.842 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:39.848 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:39.861 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:39.892 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:39.899 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:39.899 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:39.900 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 57.8706ms
2025-04-13 01:03:39.900 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:39.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 58.7912ms
2025-04-13 01:03:40.666 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:44.296 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:47.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:50.160 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:50.160 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:50.161 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3971ms
2025-04-13 01:03:50.165 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:50.165 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:50.165 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:50.165 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:50.177 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:50.204 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:50.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:50.212 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:50.212 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:50.212 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 46.4937ms
2025-04-13 01:03:50.212 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:50.212 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 47.2608ms
2025-04-13 01:03:50.349 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:50.349 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:50.349 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4051ms
2025-04-13 01:03:50.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:50.363 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:50.364 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:50.364 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:50.378 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:50.389 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:50.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:50.397 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:50.397 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:50.397 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 33.4015ms
2025-04-13 01:03:50.398 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:50.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 34.9008ms
2025-04-13 01:03:51.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:52.085 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:52.085 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:52.085 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:52.085 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:52.139 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:52.148 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:52.196 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:52.211 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:52.211 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:52.212 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 126.3184ms
2025-04-13 01:03:52.212 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:52.212 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 127.1608ms
2025-04-13 01:03:52.388 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:52.389 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:52.389 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:52.389 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:52.401 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:52.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:52.406 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:52.411 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:52.411 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:52.412 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.4396ms
2025-04-13 01:03:52.412 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:52.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.563ms
2025-04-13 01:03:55.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:55.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:03:55.627 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:55.627 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3845ms
2025-04-13 01:03:55.638 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:55.638 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:55.639 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:55.639 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:55.643 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:55.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:55.646 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:55.652 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:55.653 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:55.653 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.7943ms
2025-04-13 01:03:55.653 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:55.653 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.1439ms
2025-04-13 01:03:55.793 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:03:55.794 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:55.794 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3505ms
2025-04-13 01:03:55.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:55.799 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:55.799 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:55.800 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:55.805 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:55.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:55.838 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:55.867 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:55.867 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:55.867 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 67.6584ms
2025-04-13 01:03:55.867 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:55.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 68.6514ms
2025-04-13 01:03:58.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:03:59.202 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:03:59.202 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:59.202 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:59.202 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:03:59.207 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:03:59.211 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:03:59.213 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:03:59.221 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:03:59.221 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:59.222 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.0099ms
2025-04-13 01:03:59.222 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:03:59.222 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.8901ms
2025-04-13 01:03:59.322 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:03:59.323 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:03:59.323 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:59.323 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:03:59.328 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:03:59.335 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:03:59.337 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:03:59.342 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:03:59.342 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:03:59.342 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.0633ms
2025-04-13 01:03:59.342 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:03:59.343 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.2863ms
2025-04-13 01:04:02.027 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:02.027 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:02.028 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3839ms
2025-04-13 01:04:02.036 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:02.036 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:02.036 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:02.036 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:02.041 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:02.043 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:02.045 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:02.052 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:02.052 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:02.052 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.5937ms
2025-04-13 01:04:02.052 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:02.052 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.7224ms
2025-04-13 01:04:02.241 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:02.241 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:02.241 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3168ms
2025-04-13 01:04:02.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:02.247 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:02.248 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:02.248 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:02.257 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:02.260 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:02.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:02.294 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:02.294 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:02.294 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 45.8985ms
2025-04-13 01:04:02.294 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:02.295 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 48.7498ms
2025-04-13 01:04:02.652 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:05.026 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:05.026 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:05.027 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:05.027 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:05.036 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:05.039 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:05.041 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:05.045 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:05.045 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:05.045 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.4037ms
2025-04-13 01:04:05.045 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:05.045 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.218ms
2025-04-13 01:04:05.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:05.077 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:05.078 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:05.078 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:05.093 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:05.095 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:05.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:05.108 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:05.109 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:05.109 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.8224ms
2025-04-13 01:04:05.109 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:05.109 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.8985ms
2025-04-13 01:04:06.288 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:08.570 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:08.570 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:08.570 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4878ms
2025-04-13 01:04:08.575 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:08.576 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:08.576 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:08.577 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:08.586 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:08.587 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:08.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:08.593 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:08.593 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:08.593 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.8284ms
2025-04-13 01:04:08.594 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:08.594 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.3287ms
2025-04-13 01:04:08.610 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:08.610 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:08.611 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.9191ms
2025-04-13 01:04:08.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:08.622 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:08.623 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:08.623 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:08.627 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:08.630 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:08.634 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:08.638 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:08.639 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:08.639 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.8128ms
2025-04-13 01:04:08.639 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:08.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 17.2105ms
2025-04-13 01:04:09.906 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:13.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:15.004 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:15.004 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:15.004 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5962ms
2025-04-13 01:04:15.007 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:15.007 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:15.008 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:15.008 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:15.018 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:15.020 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:15.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:15.031 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:15.031 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:15.032 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.9996ms
2025-04-13 01:04:15.032 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:15.032 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.5799ms
2025-04-13 01:04:15.134 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:15.134 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:15.135 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.8356ms
2025-04-13 01:04:15.139 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:15.139 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:15.141 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:15.141 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:15.157 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:15.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:15.165 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:15.169 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:15.169 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:15.170 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 28.1716ms
2025-04-13 01:04:15.170 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:15.170 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 31.4728ms
2025-04-13 01:04:17.149 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:19.192 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:19.193 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:19.195 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:19.195 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:19.201 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:19.203 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:19.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:19.210 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:19.211 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:19.211 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.3539ms
2025-04-13 01:04:19.212 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:19.212 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.0193ms
2025-04-13 01:04:19.235 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:19.235 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:19.236 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:19.236 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:19.242 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:19.249 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:19.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:19.256 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:19.256 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:19.256 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.874ms
2025-04-13 01:04:19.256 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:19.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.7173ms
2025-04-13 01:04:20.791 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:23.431 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:23.431 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:23.432 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.0107ms
2025-04-13 01:04:23.434 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:23.435 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:23.435 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:23.435 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:23.439 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:23.442 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:23.451 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:23.482 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:23.482 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:23.482 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 47.3654ms
2025-04-13 01:04:23.483 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:23.483 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 48.3795ms
2025-04-13 01:04:23.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:23.483 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:23.483 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4044ms
2025-04-13 01:04:23.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:23.489 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:23.490 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:23.490 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:23.499 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:23.501 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:23.502 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:23.506 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:23.506 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:23.506 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 16.5381ms
2025-04-13 01:04:23.507 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:23.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.3315ms
2025-04-13 01:04:24.461 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:25.290 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:25.290 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:25.290 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:25.294 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:25.298 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:25.300 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:25.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:25.309 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:25.309 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:25.309 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.3316ms
2025-04-13 01:04:25.310 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:25.310 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.589ms
2025-04-13 01:04:25.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:25.489 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:25.489 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:25.489 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:25.495 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:25.500 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:25.502 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:25.515 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:25.515 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:25.515 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 25.613ms
2025-04-13 01:04:25.515 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:25.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.4839ms
2025-04-13 01:04:28.090 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:31.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:34.431 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:34.431 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:34.431 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4935ms
2025-04-13 01:04:34.437 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:34.438 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:34.439 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:34.440 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:34.447 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:34.448 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:34.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:34.454 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:34.454 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:34.455 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.5954ms
2025-04-13 01:04:34.455 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:34.455 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.7446ms
2025-04-13 01:04:34.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:34.485 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:34.486 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6378ms
2025-04-13 01:04:34.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:34.496 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:34.496 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:34.496 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:34.517 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:34.519 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:34.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:34.555 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:34.559 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:34.559 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 62.8973ms
2025-04-13 01:04:34.559 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:34.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 64.13ms
2025-04-13 01:04:35.411 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:36.435 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:36.435 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:36.435 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:36.435 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:36.443 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:36.448 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:36.450 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:36.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:36.454 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:36.454 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.4419ms
2025-04-13 01:04:36.454 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:36.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.6231ms
2025-04-13 01:04:36.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:36.483 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:36.483 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:36.483 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:36.488 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:36.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:36.493 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:36.496 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:36.498 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:36.499 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.408ms
2025-04-13 01:04:36.499 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:36.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 17.5718ms
2025-04-13 01:04:39.060 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:42.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:43.567 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:43.567 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:43.568 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.2757ms
2025-04-13 01:04:43.572 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:43.573 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:43.573 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:43.573 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:43.577 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:43.579 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:43.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:43.584 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:43.584 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:43.585 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.1808ms
2025-04-13 01:04:43.585 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:43.585 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 12.473ms
2025-04-13 01:04:43.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:43.651 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:43.651 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5541ms
2025-04-13 01:04:43.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:43.658 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:43.658 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:43.658 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:43.664 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:43.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:43.677 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:43.681 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:43.682 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:43.682 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.2766ms
2025-04-13 01:04:43.682 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:43.683 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.071ms
2025-04-13 01:04:46.310 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:46.455 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:46.455 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:46.455 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:46.456 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:46.462 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:46.465 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:46.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:46.475 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:46.475 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:46.476 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.9382ms
2025-04-13 01:04:46.476 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:46.476 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.0643ms
2025-04-13 01:04:46.583 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:46.583 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:46.583 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:46.583 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:46.594 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:46.599 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:46.601 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:46.616 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:46.617 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:46.617 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.2274ms
2025-04-13 01:04:46.618 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:46.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 35.8587ms
2025-04-13 01:04:49.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:53.582 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:53.611 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:04:53.611 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:53.611 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7089ms
2025-04-13 01:04:53.615 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:53.615 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:53.616 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:53.616 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:53.623 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:53.625 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:53.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:53.630 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:53.630 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:53.630 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.9794ms
2025-04-13 01:04:53.630 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:53.630 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.0506ms
2025-04-13 01:04:53.653 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:04:53.654 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:53.655 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.1851ms
2025-04-13 01:04:53.661 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:53.661 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:53.661 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:53.661 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:53.666 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:53.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:53.672 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:53.683 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:53.684 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:53.684 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.4818ms
2025-04-13 01:04:53.684 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:53.684 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.6622ms
2025-04-13 01:04:57.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:04:58.503 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:04:58.504 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:58.505 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:58.505 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:04:58.520 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:04:58.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:04:58.524 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:04:58.528 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:04:58.528 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:58.528 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.107ms
2025-04-13 01:04:58.528 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:04:58.528 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.7486ms
2025-04-13 01:04:58.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:04:58.558 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:04:58.559 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:58.559 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:04:58.563 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:04:58.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:04:58.568 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:04:58.573 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:04:58.573 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:04:58.574 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.5839ms
2025-04-13 01:04:58.574 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:04:58.583 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.9715ms
2025-04-13 01:05:00.851 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:04.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:04.819 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:05:04.820 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:04.824 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 4.6042ms
2025-04-13 01:05:04.831 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:04.835 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:04.835 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:04.836 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:04.840 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:04.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:04.844 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:04.848 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:04.848 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:04.848 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.3307ms
2025-04-13 01:05:04.848 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:04.849 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.5548ms
2025-04-13 01:05:04.876 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:05:04.876 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:04.877 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6466ms
2025-04-13 01:05:04.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:04.880 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:04.880 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:04.880 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:04.886 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:04.890 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:04.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:04.896 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:04.896 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:04.896 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.5981ms
2025-04-13 01:05:04.896 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:04.897 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.739ms
2025-04-13 01:05:08.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:11.715 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:15.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:18.934 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:22.552 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:26.162 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:29.771 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:33.378 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:36.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:37.432 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:05:37.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:37.433 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3772ms
2025-04-13 01:05:37.437 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:37.437 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:37.438 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:37.438 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:37.447 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:37.450 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:37.452 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:37.456 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:37.456 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:37.457 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.3733ms
2025-04-13 01:05:37.457 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:37.457 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.6415ms
2025-04-13 01:05:37.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:05:37.483 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:37.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.6927ms
2025-04-13 01:05:37.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:37.490 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:37.490 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:37.490 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:37.501 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:37.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:37.514 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:37.533 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:37.533 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:37.534 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 43.0328ms
2025-04-13 01:05:37.534 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:37.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 44.7384ms
2025-04-13 01:05:40.651 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:42.387 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:42.387 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:42.387 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:42.387 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:42.392 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:42.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:42.397 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:42.401 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:42.401 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:42.401 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.9057ms
2025-04-13 01:05:42.401 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:42.401 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.8173ms
2025-04-13 01:05:42.433 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:42.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:42.434 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:42.434 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:42.438 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:42.444 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:42.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:42.452 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:42.452 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:42.453 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.4884ms
2025-04-13 01:05:42.453 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:42.453 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.3251ms
2025-04-13 01:05:44.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:05:44.280 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:44.280 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3687ms
2025-04-13 01:05:44.282 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:44.283 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:44.283 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:44.283 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:44.283 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:44.289 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:44.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:44.299 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:44.302 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:44.302 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:44.303 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.6089ms
2025-04-13 01:05:44.303 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:44.303 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.417ms
2025-04-13 01:05:44.335 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:05:44.336 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:44.336 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.0757ms
2025-04-13 01:05:44.341 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:44.341 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:44.341 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:44.341 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:44.348 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:44.350 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:44.352 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:44.362 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:44.363 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:44.363 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.5742ms
2025-04-13 01:05:44.363 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:44.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 22.924ms
2025-04-13 01:05:46.615 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:46.615 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:46.617 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:46.617 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:46.629 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:46.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:46.634 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:46.637 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:46.638 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:46.638 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.8468ms
2025-04-13 01:05:46.638 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:46.638 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.3128ms
2025-04-13 01:05:46.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:46.668 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:46.669 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:46.669 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:46.683 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:46.686 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:46.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:46.696 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:46.696 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:46.696 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 26.58ms
2025-04-13 01:05:46.696 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:46.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 28.9141ms
2025-04-13 01:05:47.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:48.987 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:05:48.988 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:48.993 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:48.993 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:05:49.000 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:05:49.003 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:05:49.007 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:05:49.011 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:05:49.011 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:49.011 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.0096ms
2025-04-13 01:05:49.011 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:05:49.012 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.7781ms
2025-04-13 01:05:49.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:05:49.046 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:05:49.047 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:49.047 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:05:49.053 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:05:49.058 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:05:49.061 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:05:49.068 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:05:49.068 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:05:49.069 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.7926ms
2025-04-13 01:05:49.069 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:05:49.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.4684ms
2025-04-13 01:05:51.553 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:55.157 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:05:58.846 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:00.285 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:00.285 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:00.285 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4959ms
2025-04-13 01:06:00.294 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:00.294 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:00.294 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:00.294 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:00.299 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:00.301 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:00.315 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:00.330 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:00.330 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:00.330 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 35.7505ms
2025-04-13 01:06:00.331 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:00.331 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 37.2272ms
2025-04-13 01:06:00.432 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:00.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:00.433 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4199ms
2025-04-13 01:06:00.445 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:00.445 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:00.446 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:00.446 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:00.449 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:00.452 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:00.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:00.462 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:00.462 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:00.462 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 16.4079ms
2025-04-13 01:06:00.463 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:00.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.2129ms
2025-04-13 01:06:02.490 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:06.091 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:09.713 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:13.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:14.753 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:14.753 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:14.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 4.2566ms
2025-04-13 01:06:14.761 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:14.761 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:14.761 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:14.761 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:14.765 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:14.775 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:14.778 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:14.791 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:14.791 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:14.792 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 30.3961ms
2025-04-13 01:06:14.792 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:14.792 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 31.1765ms
2025-04-13 01:06:14.889 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:14.889 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:14.889 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3945ms
2025-04-13 01:06:14.922 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:14.922 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:14.922 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:14.922 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:14.926 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:14.931 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:14.940 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:14.945 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:14.945 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:14.945 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.977ms
2025-04-13 01:06:14.945 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:14.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.9455ms
2025-04-13 01:06:16.952 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:17.496 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:17.497 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:17.497 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:17.497 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:17.512 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:17.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:17.520 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:17.526 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:17.526 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:17.526 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 29.3138ms
2025-04-13 01:06:17.527 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:17.527 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 30.6336ms
2025-04-13 01:06:17.563 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:17.563 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:17.564 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:17.564 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:17.570 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:17.576 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:17.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:17.588 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:17.589 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:17.589 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.8863ms
2025-04-13 01:06:17.589 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:17.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.7168ms
2025-04-13 01:06:18.912 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:18.912 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:18.913 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:18.913 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:18.920 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:18.922 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:18.926 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:18.960 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:18.960 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:18.961 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 48.2523ms
2025-04-13 01:06:18.961 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:18.961 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 49.1338ms
2025-04-13 01:06:19.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:19.055 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:19.055 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:19.056 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:19.078 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:19.083 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:19.087 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:19.090 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:19.090 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:19.091 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 35.0093ms
2025-04-13 01:06:19.091 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:19.091 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 36.1962ms
2025-04-13 01:06:20.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:23.594 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:23.594 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:23.594 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6063ms
2025-04-13 01:06:23.602 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:23.602 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:23.602 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:23.603 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:23.607 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:23.608 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:23.611 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:23.617 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:23.617 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:23.617 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3364ms
2025-04-13 01:06:23.617 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:23.618 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.792ms
2025-04-13 01:06:23.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:23.659 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:23.660 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5725ms
2025-04-13 01:06:23.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:23.670 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:23.671 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:23.671 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:23.676 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:23.680 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:23.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:23.689 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:23.689 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:23.690 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.7121ms
2025-04-13 01:06:23.690 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:23.690 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.0029ms
2025-04-13 01:06:24.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:24.401 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:24.402 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:24.403 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:24.403 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:24.409 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:24.410 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:24.412 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:24.418 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:24.419 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:24.420 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.2548ms
2025-04-13 01:06:24.420 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:24.420 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.6066ms
2025-04-13 01:06:24.492 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:24.492 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:24.493 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:24.493 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:24.506 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:24.510 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:24.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:24.523 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:24.523 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:24.524 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.2197ms
2025-04-13 01:06:24.524 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:24.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.7892ms
2025-04-13 01:06:27.866 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:27.866 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:27.866 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:27.866 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:27.871 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:27.876 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:27.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:27.887 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:27.888 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:27.888 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.4817ms
2025-04-13 01:06:27.888 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:27.888 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.2722ms
2025-04-13 01:06:27.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:27.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:27.912 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:27.912 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:27.914 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:27.928 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:27.933 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:27.935 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:27.941 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:27.941 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:27.941 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 27.3244ms
2025-04-13 01:06:27.941 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:27.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 29.7542ms
2025-04-13 01:06:29.843 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:29.843 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:29.843 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5708ms
2025-04-13 01:06:29.850 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:29.850 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:29.850 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:29.850 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:29.856 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:29.859 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:29.867 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:29.876 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:29.876 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:29.876 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 26.0503ms
2025-04-13 01:06:29.876 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:29.877 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.954ms
2025-04-13 01:06:30.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:30.050 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:30.051 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6889ms
2025-04-13 01:06:30.054 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:30.055 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:30.055 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:30.055 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:30.059 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:30.064 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:30.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:30.072 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:30.072 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:30.073 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.2286ms
2025-04-13 01:06:30.074 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:30.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.5399ms
2025-04-13 01:06:31.541 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:34.216 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:34.216 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:34.216 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:34.217 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:34.223 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:34.228 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:34.237 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:34.242 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:34.242 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:34.242 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.7044ms
2025-04-13 01:06:34.242 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:34.243 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.5441ms
2025-04-13 01:06:34.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:34.311 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:34.313 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:34.313 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:34.321 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:34.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:34.336 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:34.350 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:34.350 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:34.350 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 37.4231ms
2025-04-13 01:06:34.350 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:34.351 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 41.4722ms
2025-04-13 01:06:35.538 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:38.023 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:38.024 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:38.024 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7072ms
2025-04-13 01:06:38.028 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:38.029 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:38.029 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:38.029 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:38.034 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:38.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:38.038 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:38.042 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:38.042 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:38.042 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.7089ms
2025-04-13 01:06:38.042 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:38.042 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.3002ms
2025-04-13 01:06:38.097 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:38.098 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:38.098 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3927ms
2025-04-13 01:06:38.102 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:38.102 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:38.103 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:38.103 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:38.107 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:38.117 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:38.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:38.124 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:38.124 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:38.125 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.4287ms
2025-04-13 01:06:38.125 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:38.125 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.1223ms
2025-04-13 01:06:39.276 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:40.601 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:40.601 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:40.601 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:40.601 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:40.607 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:40.609 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:40.615 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:40.619 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:40.620 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:40.620 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.2446ms
2025-04-13 01:06:40.620 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:40.620 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.2668ms
2025-04-13 01:06:40.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:40.658 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:40.659 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:40.659 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:40.665 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:40.685 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:40.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:40.700 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:40.700 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:40.702 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 42.5933ms
2025-04-13 01:06:40.702 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:40.702 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 44.1171ms
2025-04-13 01:06:42.957 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:44.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:06:44.312 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:44.313 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5709ms
2025-04-13 01:06:44.317 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:06:44.317 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:44.318 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:44.318 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:44.322 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:44.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:44.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:44.332 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:44.332 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:44.332 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.9679ms
2025-04-13 01:06:44.332 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:44.332 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.492ms
2025-04-13 01:06:44.465 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:44.465 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:44.465 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3263ms
2025-04-13 01:06:44.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:44.485 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:44.486 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:44.486 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:44.495 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:44.508 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:44.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:44.520 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:44.520 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:44.521 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.3842ms
2025-04-13 01:06:44.521 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:44.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 36.9063ms
2025-04-13 01:06:46.580 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:50.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:51.806 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-13 01:06:51.805 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:06:51.806 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:51.806 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:51.806 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7195ms
2025-04-13 01:06:51.806 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.9066ms
2025-04-13 01:06:51.815 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-13 01:06:51.815 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:51.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:06:51.815 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:06:51.815 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:51.815 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:51.815 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:06:51.815 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:06:51.822 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:06:51.839 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:06:51.888 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:06:51.934 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:06:51.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:06:51.937 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:06:51.950 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:06:51.956 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:06:51.957 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:51.958 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 142.7773ms
2025-04-13 01:06:51.958 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:06:51.959 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 144.2195ms
2025-04-13 01:06:51.959 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:06:51.960 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 144.4405ms
2025-04-13 01:06:51.960 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:06:51.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 145.586ms
2025-04-13 01:06:53.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:06:57.475 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:01.095 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:04.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:04.984 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:07:04.985 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:04.986 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.4798ms
2025-04-13 01:07:05.014 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:07:05.014 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:05.014 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.489ms
2025-04-13 01:07:05.018 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:07:05.018 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:05.018 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:05.019 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:07:05.036 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:07:05.042 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:07:05.042 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:05.043 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:05.043 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:07:05.044 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:07:05.061 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:07:05.098 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:07:05.098 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:05.070 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:07:05.099 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 79.9697ms
2025-04-13 01:07:05.099 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:05.099 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 81.0366ms
2025-04-13 01:07:05.103 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:07:05.108 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:07:05.114 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:07:05.114 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:05.114 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 71.3767ms
2025-04-13 01:07:05.115 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:05.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 72.8377ms
2025-04-13 01:07:08.327 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:11.939 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:15.547 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:17.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:07:17.693 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:17.693 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:07:17.693 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:07:17.699 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:07:17.701 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:07:17.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:07:17.716 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:07:17.728 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:07:17.732 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:07:17.737 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:07:17.741 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:07:17.742 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:17.743 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 49.5562ms
2025-04-13 01:07:17.743 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:07:17.743 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 50.9387ms
2025-04-13 01:07:19.154 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:22.788 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:26.402 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:30.007 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:31.212 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:07:31.213 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:31.213 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:07:31.213 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:07:31.223 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:07:31.225 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:07:31.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:07:31.231 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:07:31.239 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:07:31.264 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:07:31.269 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:07:31.273 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:07:31.274 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:31.274 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 61.1055ms
2025-04-13 01:07:31.274 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:07:31.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 62.5263ms
2025-04-13 01:07:33.616 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:37.233 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:40.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:44.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:48.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:51.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:55.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:07:55.696 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:07:55.696 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:55.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6176ms
2025-04-13 01:07:55.703 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:07:55.703 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:55.703 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:55.703 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:07:55.711 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:07:55.724 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:07:55.728 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:07:55.733 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:07:55.733 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:55.733 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 29.6911ms
2025-04-13 01:07:55.733 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:55.733 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 30.5948ms
2025-04-13 01:07:55.943 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:07:55.944 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:55.944 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3556ms
2025-04-13 01:07:55.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:07:55.951 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:55.951 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:55.951 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:07:55.955 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:07:55.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:07:55.967 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:07:55.972 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:07:55.972 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:55.973 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.2769ms
2025-04-13 01:07:55.973 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:55.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.3221ms
2025-04-13 01:07:58.150 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:07:58.150 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:58.153 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:58.154 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:07:58.158 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:07:58.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:07:58.163 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:07:58.167 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:07:58.167 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:58.167 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.7956ms
2025-04-13 01:07:58.168 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:07:58.168 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.7637ms
2025-04-13 01:07:58.188 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:07:58.188 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:07:58.188 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:58.189 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:07:58.198 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:07:58.202 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:07:58.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:07:58.213 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:07:58.213 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:07:58.214 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.9073ms
2025-04-13 01:07:58.214 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:07:58.215 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.1421ms
2025-04-13 01:07:58.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:00.883 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:08:00.883 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:00.884 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3435ms
2025-04-13 01:08:00.901 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:08:00.901 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:00.901 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:00.901 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:08:00.905 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:08:00.906 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:08:00.913 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:08:00.917 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:08:00.917 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:00.917 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.0937ms
2025-04-13 01:08:00.917 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:00.918 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.8736ms
2025-04-13 01:08:00.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:08:00.987 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:00.987 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.8567ms
2025-04-13 01:08:00.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:08:00.996 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:00.996 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:00.997 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:08:01.002 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:08:01.004 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:01.006 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:08:01.021 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:08:01.021 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:01.022 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 25.1954ms
2025-04-13 01:08:01.022 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:01.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.8681ms
2025-04-13 01:08:01.946 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:08:01.946 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:01.947 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:01.947 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:08:01.951 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:08:01.953 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:08:01.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:08:01.962 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:08:01.962 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:01.963 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.6422ms
2025-04-13 01:08:01.963 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:01.963 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.2086ms
2025-04-13 01:08:01.988 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:08:01.988 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:01.989 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:01.989 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:08:01.997 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:08:02.000 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:02.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:08:02.006 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:08:02.007 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:02.007 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.1224ms
2025-04-13 01:08:02.009 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:02.009 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.5837ms
2025-04-13 01:08:02.602 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:05.368 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:08:05.368 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:05.369 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:05.369 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:08:05.379 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:08:05.381 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:08:05.383 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:08:05.387 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:08:05.387 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:05.387 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.1405ms
2025-04-13 01:08:05.387 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:05.388 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.4977ms
2025-04-13 01:08:05.411 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:08:05.413 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:05.414 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:05.414 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:08:05.418 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:08:05.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:05.423 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:08:05.430 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:08:05.430 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:05.430 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 16.5554ms
2025-04-13 01:08:05.431 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:05.431 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.2583ms
2025-04-13 01:08:06.261 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:07.020 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:08:07.021 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:07.027 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6191ms
2025-04-13 01:08:07.032 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:08:07.033 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:07.033 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:07.033 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:08:07.037 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:08:07.039 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:08:07.042 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:08:07.045 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:08:07.046 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:07.046 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 12.7041ms
2025-04-13 01:08:07.046 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:07.047 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.2314ms
2025-04-13 01:08:07.071 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:08:07.071 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:07.072 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7514ms
2025-04-13 01:08:07.080 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:08:07.080 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:07.081 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:07.081 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:08:07.085 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:08:07.087 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:07.089 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:08:07.099 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:08:07.099 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:07.100 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.2641ms
2025-04-13 01:08:07.100 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:07.100 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.1603ms
2025-04-13 01:08:09.876 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:10.931 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:08:10.931 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:10.933 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:10.933 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:08:10.938 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:08:10.944 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:08:10.947 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:08:10.951 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:08:10.951 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:10.951 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.2438ms
2025-04-13 01:08:10.951 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:08:10.951 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.4284ms
2025-04-13 01:08:10.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:08:10.993 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:10.993 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:10.994 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:08:10.998 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:08:11.001 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:11.003 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:08:11.010 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:08:11.010 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:11.011 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.3677ms
2025-04-13 01:08:11.011 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:08:11.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.0879ms
2025-04-13 01:08:13.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:15.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:08:15.284 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:15.284 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:08:15.284 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:08:15.330 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:08:15.341 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:08:15.396 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:08:15.453 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:08:15.476 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:08:15.481 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:15.634 +01:00 [INF] Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:08:15.659 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:08:15.660 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:15.669 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 384.0173ms
2025-04-13 01:08:15.669 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:08:15.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 385.3827ms
2025-04-13 01:08:17.227 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:17.296 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:08:17.296 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:08:17.297 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:08:17.297 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:08:17.335 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:08:17.347 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:08:17.351 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:08:17.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:08:17.360 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:08:17.362 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:08:17.364 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:08:17.398 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:08:17.398 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:08:17.398 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 101.1898ms
2025-04-13 01:08:17.399 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:08:17.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 102.8342ms
2025-04-13 01:08:20.841 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:24.459 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:28.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:31.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:35.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:38.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:42.569 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:46.236 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:49.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:53.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:08:57.091 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:00.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:04.312 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:07.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:11.421 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:09:11.421 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:11.421 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6503ms
2025-04-13 01:09:11.424 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:09:11.424 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:11.427 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:11.427 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:09:11.433 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:09:11.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:09:11.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:09:11.441 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:09:11.442 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:11.442 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3874ms
2025-04-13 01:09:11.442 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:11.443 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.4151ms
2025-04-13 01:09:11.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:15.137 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:18.744 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:22.392 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:26.008 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:29.624 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:33.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:36.856 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:40.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:44.083 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:45.797 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:09:45.797 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:45.798 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.5555ms
2025-04-13 01:09:45.807 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:09:45.808 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:45.808 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:45.808 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:09:45.813 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:09:45.815 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:09:45.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:09:45.823 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:09:45.823 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:45.824 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.9489ms
2025-04-13 01:09:45.824 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:45.824 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.7785ms
2025-04-13 01:09:45.929 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:09:45.929 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:45.930 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7616ms
2025-04-13 01:09:45.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:09:45.940 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:45.940 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:45.940 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:09:46.014 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:09:46.023 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:09:46.030 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:09:46.043 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:09:46.043 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:46.043 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 103.3105ms
2025-04-13 01:09:46.044 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:46.044 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 104.2486ms
2025-04-13 01:09:47.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:47.765 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:09:47.766 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:47.766 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:47.766 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:09:47.776 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:09:47.778 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:09:47.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:09:47.786 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:09:47.786 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:47.786 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.4257ms
2025-04-13 01:09:47.786 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:47.787 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.3087ms
2025-04-13 01:09:47.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:09:47.826 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:47.827 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:47.827 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:09:47.840 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:09:47.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:09:47.881 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:09:47.893 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:09:47.893 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:47.894 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 66.3572ms
2025-04-13 01:09:47.894 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:47.894 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 67.9875ms
2025-04-13 01:09:51.411 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:52.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:09:52.271 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:52.271 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4785ms
2025-04-13 01:09:52.277 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:09:52.277 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:52.278 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:52.278 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:09:52.286 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:09:52.288 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:09:52.291 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:09:52.295 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:09:52.295 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:52.295 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.6842ms
2025-04-13 01:09:52.295 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:09:52.296 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.7169ms
2025-04-13 01:09:52.532 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:09:52.539 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:52.540 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 8.3011ms
2025-04-13 01:09:52.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:09:52.544 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:52.544 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:52.545 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:09:52.555 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:09:52.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:09:52.563 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:09:52.576 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:09:52.576 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:52.577 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 32.1841ms
2025-04-13 01:09:52.577 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:09:52.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 34.4654ms
2025-04-13 01:09:55.223 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:09:58.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:09:58.578 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:09:58.584 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:09:58.584 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:09:58.590 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:09:58.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:09:58.603 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:09:58.605 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:09:58.607 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:09:58.609 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:09:58.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:09:58.619 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:09:58.620 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:09:58.621 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 37.3798ms
2025-04-13 01:09:58.621 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:09:58.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 43.4856ms
2025-04-13 01:09:58.841 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:00.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:10:00.721 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:10:00.721 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:10:00.722 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:10:00.740 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:10:00.743 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:10:00.746 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:10:00.749 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:10:00.753 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:10:00.755 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:10:00.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:10:00.773 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:10:00.773 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:10:00.773 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 51.7794ms
2025-04-13 01:10:00.774 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:10:00.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 53.7799ms
2025-04-13 01:10:02.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:06.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:09.697 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:13.300 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:17.918 +01:00 [INF] Executed DbCommand (686ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:21.528 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:25.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:28.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:32.370 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:35.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:39.578 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:43.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:46.793 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:50.405 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:52.431 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:10:52.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:10:52.432 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7991ms
2025-04-13 01:10:52.440 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:10:52.440 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:10:52.441 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:10:52.441 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:10:52.443 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:10:52.445 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:10:52.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:10:52.450 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:10:52.450 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:10:52.450 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 9.5937ms
2025-04-13 01:10:52.451 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:10:52.451 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 10.8637ms
2025-04-13 01:10:54.021 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:10:57.636 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:01.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:04.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:08.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:12.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:15.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:19.296 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:22.920 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:26.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:29.770 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:11:29.770 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:29.770 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4918ms
2025-04-13 01:11:29.777 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:11:29.779 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:29.779 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:29.779 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:11:29.785 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:11:29.787 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:11:29.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:11:29.795 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:11:29.795 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:29.796 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.4802ms
2025-04-13 01:11:29.796 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:29.796 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.6798ms
2025-04-13 01:11:29.855 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:11:29.855 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:29.856 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5219ms
2025-04-13 01:11:29.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:11:29.862 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:29.863 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:29.863 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:11:29.870 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:11:29.875 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:29.887 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:11:29.892 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:11:29.894 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:29.894 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 31.2741ms
2025-04-13 01:11:29.895 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:29.896 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.804ms
2025-04-13 01:11:30.236 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:33.121 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:11:33.121 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:33.122 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:33.122 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:11:33.136 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:11:33.138 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:11:33.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:11:33.148 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:11:33.148 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:33.148 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.9443ms
2025-04-13 01:11:33.148 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:33.148 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.32ms
2025-04-13 01:11:33.866 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:34.119 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:11:34.119 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:34.120 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:34.120 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:11:34.124 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:11:34.135 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:34.146 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:11:34.152 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:11:34.153 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:34.153 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 32.982ms
2025-04-13 01:11:34.153 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:34.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.9066ms
2025-04-13 01:11:34.516 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:11:34.516 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:34.516 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:34.516 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:11:34.606 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:11:34.617 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:11:34.621 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:11:34.637 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:11:34.638 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:34.638 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 120.4363ms
2025-04-13 01:11:34.638 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:11:34.638 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 122.4218ms
2025-04-13 01:11:35.317 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:11:35.317 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:35.317 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3777ms
2025-04-13 01:11:35.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:11:35.323 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:35.323 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:35.323 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:11:35.341 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:11:35.352 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:35.356 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:11:35.753 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:11:35.754 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:35.754 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 430.6329ms
2025-04-13 01:11:35.754 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:11:35.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 431.5567ms
2025-04-13 01:11:37.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:39.494 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:11:39.495 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:39.495 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:39.495 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:11:39.503 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:39.584 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:11:39.601 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:39.611 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:11:39.623 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:11:39.640 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:39.645 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:11:39.652 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:11:39.653 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:39.654 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 159.3537ms
2025-04-13 01:11:39.655 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:39.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 161.5614ms
2025-04-13 01:11:41.537 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:43.571 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:11:43.571 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:43.571 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:43.571 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:11:43.585 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:43.594 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:11:43.610 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:43.634 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:11:43.648 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:11:43.655 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:43.687 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:11:43.730 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:11:43.730 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:43.731 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 160.0244ms
2025-04-13 01:11:43.732 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:43.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 161.4491ms
2025-04-13 01:11:45.227 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:48.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:50.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:11:50.870 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:11:50.870 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:50.870 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:11:50.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:50.900 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:11:50.902 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:11:50.904 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:11:50.907 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:11:50.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:11:50.913 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:11:50.916 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:11:50.917 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:11:50.917 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 46.7634ms
2025-04-13 01:11:50.917 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:11:50.917 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 47.5592ms
2025-04-13 01:11:52.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:56.061 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:11:59.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:03.306 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:06.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:10.572 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:14.189 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:17.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:21.404 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:25.010 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:28.622 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:32.233 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:35.434 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:12:35.434 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:12:35.435 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7184ms
2025-04-13 01:12:35.438 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:12:35.438 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:12:35.438 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:12:35.438 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:12:35.442 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:12:35.443 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:12:35.445 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:12:35.449 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:12:35.449 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:12:35.450 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.027ms
2025-04-13 01:12:35.450 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:12:35.450 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 12.2108ms
2025-04-13 01:12:35.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:39.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:43.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:46.696 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:50.303 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:53.930 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:12:57.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:01.145 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:04.807 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:08.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:08.966 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:13:08.966 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:08.967 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6861ms
2025-04-13 01:13:08.971 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:13:08.971 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:08.972 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:13:08.972 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:13:08.978 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:13:08.980 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:13:08.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:13:08.992 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:13:08.992 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:08.992 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.2256ms
2025-04-13 01:13:08.992 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:13:08.993 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.5109ms
2025-04-13 01:13:09.041 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:13:09.041 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:09.041 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3472ms
2025-04-13 01:13:09.074 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:13:09.079 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:09.079 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:13:09.079 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:13:09.085 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:13:09.092 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:13:09.094 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:13:09.100 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:13:09.101 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:09.101 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.9077ms
2025-04-13 01:13:09.101 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:13:09.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.322ms
2025-04-13 01:13:12.068 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:12.566 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:13:12.566 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:12.567 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:13:12.567 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:13:12.576 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:13:12.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:13:12.583 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:13:12.643 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:13:12.643 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:12.643 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 75.3784ms
2025-04-13 01:13:12.643 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:13:12.643 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 76.9917ms
2025-04-13 01:13:12.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:13:12.677 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:12.677 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:13:12.677 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:13:12.684 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:13:12.687 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:13:12.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:13:12.695 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:13:12.695 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:12.695 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.8684ms
2025-04-13 01:13:12.695 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:13:12.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.9313ms
2025-04-13 01:13:15.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:13:15.174 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:15.174 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:15.174 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:13:15.241 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:15.245 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:13:15.271 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:15.357 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:13:15.382 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:13:15.468 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:13:15.508 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:13:15.537 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:13:15.541 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:15.543 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 368.5585ms
2025-04-13 01:13:15.544 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:15.546 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 371.715ms
2025-04-13 01:13:15.756 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:17.254 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:13:17.255 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:17.255 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:17.255 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:13:17.259 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:17.261 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:13:17.263 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:17.271 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:13:17.276 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:13:17.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:13:17.281 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:13:17.383 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:13:17.383 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:17.384 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 128.9976ms
2025-04-13 01:13:17.386 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:17.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 132.6273ms
2025-04-13 01:13:19.404 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:22.109 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:13:22.110 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:13:22.110 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:22.110 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:13:22.115 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:22.122 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:13:22.125 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:13:22.128 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:13:22.131 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:13:22.133 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:13:22.139 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:13:22.144 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:13:22.145 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:13:22.145 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 34.8551ms
2025-04-13 01:13:22.145 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:13:22.145 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 36.3945ms
2025-04-13 01:13:23.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:26.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:30.227 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:33.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:37.450 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:41.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:44.803 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:48.422 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:52.031 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:55.645 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:13:59.261 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:02.880 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:06.494 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:10.115 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:13.441 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:14:13.441 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:13.441 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.622ms
2025-04-13 01:14:13.448 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:14:13.448 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:13.449 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:13.449 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:14:13.459 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:14:13.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:14:13.469 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:14:13.477 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:14:13.478 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:13.478 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 29.1669ms
2025-04-13 01:14:13.478 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:13.478 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 30.417ms
2025-04-13 01:14:13.741 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:17.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:20.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:24.574 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:28.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:31.810 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:35.422 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:39.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:42.655 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:46.269 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:49.884 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:51.635 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:14:51.635 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:51.635 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4494ms
2025-04-13 01:14:51.640 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:14:51.640 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:51.641 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:51.641 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:14:51.657 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:14:51.659 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:14:51.661 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:14:51.666 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:14:51.667 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:51.667 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.5867ms
2025-04-13 01:14:51.667 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:51.667 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.0045ms
2025-04-13 01:14:51.789 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:14:51.790 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:51.790 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.0065ms
2025-04-13 01:14:51.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:14:51.827 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:51.828 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:51.828 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:14:51.833 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:14:51.836 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:14:51.850 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:14:51.856 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:14:51.856 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:51.856 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 28.3466ms
2025-04-13 01:14:51.856 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:51.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 29.7575ms
2025-04-13 01:14:53.537 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:53.973 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:14:53.973 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:53.973 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:53.974 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:14:53.990 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:14:53.992 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:14:54.024 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:14:54.027 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:14:54.028 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:54.028 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 54.174ms
2025-04-13 01:14:54.028 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:54.028 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 55.1296ms
2025-04-13 01:14:54.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:14:54.166 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:54.167 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:54.167 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:14:54.172 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:14:54.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:14:54.176 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:14:54.217 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:14:54.217 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:54.217 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 50.2303ms
2025-04-13 01:14:54.218 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:54.218 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 51.9568ms
2025-04-13 01:14:55.884 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:14:55.884 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:55.884 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:55.884 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:14:55.890 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:14:55.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:14:55.896 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:14:55.901 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:14:55.901 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:55.902 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.2876ms
2025-04-13 01:14:55.902 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:55.902 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.0348ms
2025-04-13 01:14:55.935 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:14:55.936 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:55.936 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:55.936 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:14:55.943 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:14:55.949 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:14:55.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:14:55.970 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:14:55.970 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:55.973 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 36.2748ms
2025-04-13 01:14:55.973 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:55.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 38.7321ms
2025-04-13 01:14:57.011 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:14:57.026 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:57.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 15.1247ms
2025-04-13 01:14:57.037 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:14:57.037 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:57.037 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:57.053 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:14:57.067 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:14:57.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:14:57.071 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:14:57.077 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:14:57.077 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:57.077 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.8248ms
2025-04-13 01:14:57.077 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:14:57.078 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 40.7494ms
2025-04-13 01:14:57.149 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:14:57.150 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:57.150 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.0773ms
2025-04-13 01:14:57.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:14:57.226 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:14:57.227 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:57.227 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:14:57.247 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:14:57.275 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:14:57.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:14:57.310 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:14:57.317 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:14:57.318 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:14:57.318 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 91.6788ms
2025-04-13 01:14:57.319 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:14:57.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 92.9094ms
2025-04-13 01:15:00.540 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:15:00.541 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:00.541 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:00.541 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:15:00.549 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:15:00.552 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:15:00.557 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:15:00.572 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:15:00.572 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:00.573 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.6126ms
2025-04-13 01:15:00.573 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:00.573 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 32.3988ms
2025-04-13 01:15:00.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:15:00.843 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:00.843 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:00.843 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:15:00.855 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:15:00.859 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:00.891 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:15:00.903 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:15:00.903 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:00.903 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 60.0226ms
2025-04-13 01:15:00.903 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:00.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 67.2497ms
2025-04-13 01:15:00.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:04.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:06.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:15:06.887 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:06.887 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:06.887 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:15:06.901 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:06.902 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:15:06.906 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:06.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:15:06.913 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:15:06.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:06.917 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:15:06.928 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:15:06.928 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:06.929 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 42.2702ms
2025-04-13 01:15:06.929 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:06.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 43.511ms
2025-04-13 01:15:08.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:08.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:15:08.614 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:08.614 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:08.614 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:15:08.641 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:08.651 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:15:08.653 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:08.657 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:15:08.669 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:15:08.673 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:08.690 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:15:08.698 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:15:08.698 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:08.699 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 85.2171ms
2025-04-13 01:15:08.699 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:08.699 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 86.1494ms
2025-04-13 01:15:11.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:15.427 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:17.714 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:15:17.714 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:17.715 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6104ms
2025-04-13 01:15:17.718 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:15:17.718 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:17.718 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:17.719 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:15:17.728 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:15:17.730 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:15:17.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:15:17.736 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:15:17.737 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:17.737 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.9966ms
2025-04-13 01:15:17.737 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:17.737 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.4285ms
2025-04-13 01:15:17.918 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:15:17.918 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:17.918 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3361ms
2025-04-13 01:15:17.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:15:17.930 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:17.931 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:17.931 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:15:17.935 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:15:17.938 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:17.946 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:15:17.950 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:15:17.950 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:17.951 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.4975ms
2025-04-13 01:15:17.951 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:17.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.9442ms
2025-04-13 01:15:19.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:20.930 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:15:20.931 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:20.931 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:20.931 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:15:20.947 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:15:20.950 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:15:20.954 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:15:20.964 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:15:20.964 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:20.965 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 33.0579ms
2025-04-13 01:15:20.965 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:20.965 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 35.0616ms
2025-04-13 01:15:21.003 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:15:21.004 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:21.004 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:21.004 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:15:21.012 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:15:21.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:21.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:15:21.021 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:15:21.021 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:21.022 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.4467ms
2025-04-13 01:15:21.022 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:21.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.3786ms
2025-04-13 01:15:22.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:23.296 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:15:23.296 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:23.296 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3734ms
2025-04-13 01:15:23.316 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:15:23.316 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:23.316 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:23.316 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:15:23.336 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:15:23.351 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:15:23.366 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:15:23.371 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:15:23.371 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:23.372 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 55.584ms
2025-04-13 01:15:23.372 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:15:23.372 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 56.7528ms
2025-04-13 01:15:23.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:15:23.483 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:23.483 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6489ms
2025-04-13 01:15:23.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:15:23.492 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:23.494 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:23.494 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:15:23.498 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:15:23.501 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:23.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:15:23.514 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:15:23.515 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:23.515 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 20.6507ms
2025-04-13 01:15:23.515 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:15:23.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.3388ms
2025-04-13 01:15:26.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:26.985 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:15:26.985 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:26.985 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:26.985 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:15:27.014 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:27.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:15:27.020 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:27.025 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:15:27.027 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:15:27.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:27.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:15:27.042 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:15:27.043 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:27.046 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 60.4841ms
2025-04-13 01:15:27.046 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:27.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 62.2595ms
2025-04-13 01:15:27.693 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:15:27.694 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:15:27.694 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:27.694 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:15:27.714 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:27.716 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:15:27.719 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:15:27.726 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:15:27.762 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:15:27.834 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:15:27.840 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:15:27.846 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:15:27.846 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:15:27.847 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 152.5835ms
2025-04-13 01:15:27.847 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:15:27.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 153.5238ms
2025-04-13 01:15:30.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:33.674 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:37.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:40.886 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:44.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:48.108 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:51.723 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:55.336 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:15:58.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:02.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:06.164 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:09.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:13.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:17.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:20.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:23.432 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:16:23.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:16:23.432 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.873ms
2025-04-13 01:16:23.435 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:16:23.435 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:16:23.436 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:16:23.436 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:16:23.438 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:16:23.441 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:16:23.444 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:16:23.447 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:16:23.448 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:16:23.448 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.947ms
2025-04-13 01:16:23.448 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:16:23.448 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.1447ms
2025-04-13 01:16:24.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:27.848 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:31.512 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:35.209 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:38.849 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:42.508 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:46.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:49.722 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:53.336 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:16:56.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:00.569 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:04.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:07.991 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:11.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:15.276 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:18.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:22.508 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:23.522 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:17:23.522 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:23.523 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6516ms
2025-04-13 01:17:23.531 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:23.531 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:23.532 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:23.532 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:23.538 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:23.541 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:23.545 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:23.549 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:23.550 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:23.550 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.5671ms
2025-04-13 01:17:23.550 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:23.550 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.2633ms
2025-04-13 01:17:23.640 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:17:23.640 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:23.641 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.9125ms
2025-04-13 01:17:23.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:23.656 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:23.657 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:23.657 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:23.671 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:23.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:23.723 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:23.736 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:23.736 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:23.737 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 79.7394ms
2025-04-13 01:17:23.737 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:23.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 81.6038ms
2025-04-13 01:17:26.352 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:26.607 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:26.608 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:26.608 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:26.609 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:26.618 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:26.625 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:26.631 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:26.635 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:26.635 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:26.636 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 26.6972ms
2025-04-13 01:17:26.636 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:26.636 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.8818ms
2025-04-13 01:17:26.754 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:26.755 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:26.756 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:26.756 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:26.768 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:26.772 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:26.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:26.781 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:26.781 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:26.781 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 25.223ms
2025-04-13 01:17:26.781 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:26.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.4502ms
2025-04-13 01:17:28.219 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:28.219 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:28.219 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:28.219 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:28.230 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:28.232 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:28.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:28.238 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:28.238 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:28.238 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.6434ms
2025-04-13 01:17:28.238 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:28.238 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.5842ms
2025-04-13 01:17:28.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:28.256 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:28.256 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:28.257 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:28.264 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:28.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:28.269 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:28.273 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:28.274 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:28.274 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.4033ms
2025-04-13 01:17:28.274 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:28.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.4058ms
2025-04-13 01:17:30.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:33.783 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:35.757 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:17:35.757 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:35.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4432ms
2025-04-13 01:17:35.768 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:35.768 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:35.768 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:35.768 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:35.773 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:35.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:35.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:35.783 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:35.783 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:35.783 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.893ms
2025-04-13 01:17:35.783 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:35.783 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.8108ms
2025-04-13 01:17:35.819 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:17:35.819 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:35.820 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6872ms
2025-04-13 01:17:35.829 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:35.829 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:35.830 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:35.830 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:35.835 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:35.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:35.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:35.844 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:35.844 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:35.845 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 13.9603ms
2025-04-13 01:17:35.845 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:35.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.6681ms
2025-04-13 01:17:36.282 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:36.282 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:36.282 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:36.283 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:36.286 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:36.288 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:36.290 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:36.295 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:36.295 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:36.295 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 11.9312ms
2025-04-13 01:17:36.295 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:36.295 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 13.8368ms
2025-04-13 01:17:36.320 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:36.320 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:36.321 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:36.321 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:36.334 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:36.337 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:36.340 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:36.348 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:36.348 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:36.349 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 27.8393ms
2025-04-13 01:17:36.349 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:36.350 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 29.6514ms
2025-04-13 01:17:37.428 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:40.082 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:40.082 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:40.082 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:40.083 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:40.088 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:40.099 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:40.101 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:40.106 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:40.106 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:40.107 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.0556ms
2025-04-13 01:17:40.107 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:40.107 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.5837ms
2025-04-13 01:17:41.039 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:17:41.039 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:41.042 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 2.7344ms
2025-04-13 01:17:41.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:41.049 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:41.049 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:41.050 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:41.050 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:41.054 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:41.064 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:41.069 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:41.082 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:41.082 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:41.082 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 32.3758ms
2025-04-13 01:17:41.082 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:41.083 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.6824ms
2025-04-13 01:17:42.155 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:17:42.155 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:42.161 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 6.6806ms
2025-04-13 01:17:42.165 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:42.165 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:42.165 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:42.166 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:42.170 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:42.171 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:42.176 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:42.182 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:42.182 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:42.182 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.2167ms
2025-04-13 01:17:42.182 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:42.183 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.699ms
2025-04-13 01:17:42.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:42.205 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:42.206 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:42.210 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:42.244 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:42.249 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:42.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:42.264 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:42.264 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:42.264 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 54.317ms
2025-04-13 01:17:42.264 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:42.265 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 59.8186ms
2025-04-13 01:17:44.750 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:48.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:50.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:17:50.025 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:50.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6574ms
2025-04-13 01:17:50.029 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:50.029 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:50.030 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:50.030 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:50.034 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:50.035 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:50.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:50.079 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:50.079 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:50.079 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 48.853ms
2025-04-13 01:17:50.080 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:50.080 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 50.7812ms
2025-04-13 01:17:50.123 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:17:50.123 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:50.123 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4122ms
2025-04-13 01:17:50.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:50.129 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:50.130 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:50.130 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:50.134 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:50.136 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:50.145 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:50.177 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:50.177 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:50.178 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 47.2763ms
2025-04-13 01:17:50.178 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:50.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 48.859ms
2025-04-13 01:17:52.011 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:52.512 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:52.513 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:52.513 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:52.513 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:52.517 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:52.519 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:52.522 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:52.529 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:52.529 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:52.529 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.2242ms
2025-04-13 01:17:52.529 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:52.530 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.2706ms
2025-04-13 01:17:53.031 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:53.032 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:53.033 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:53.033 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:53.040 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:53.042 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:53.044 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:53.052 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:53.053 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:53.053 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 20.0598ms
2025-04-13 01:17:53.055 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:53.055 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.2608ms
2025-04-13 01:17:54.595 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:54.596 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:54.597 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:54.597 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:54.601 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:54.603 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:54.608 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:54.612 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:54.612 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:54.613 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.101ms
2025-04-13 01:17:54.613 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:54.613 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.3583ms
2025-04-13 01:17:54.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:54.663 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:54.664 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:54.664 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:54.669 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:54.677 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:54.679 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:54.683 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:54.684 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:54.684 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.9706ms
2025-04-13 01:17:54.684 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:54.684 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.8133ms
2025-04-13 01:17:55.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:17:56.758 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:17:56.758 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:56.759 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.0774ms
2025-04-13 01:17:56.765 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:17:56.765 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:56.766 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:56.766 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:17:56.773 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:17:56.776 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:17:56.782 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:17:56.790 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:17:56.791 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:56.791 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.592ms
2025-04-13 01:17:56.791 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:17:56.791 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.8112ms
2025-04-13 01:17:56.835 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:17:56.835 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:56.835 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4763ms
2025-04-13 01:17:56.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:17:56.843 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:17:56.844 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:56.844 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:17:56.848 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:17:56.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:17:56.851 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:17:56.858 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:17:56.858 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:17:56.859 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.9779ms
2025-04-13 01:17:56.859 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:17:56.860 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.8611ms
2025-04-13 01:17:59.272 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:00.113 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:18:00.113 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:00.113 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:00.114 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:18:00.126 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:18:00.134 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:18:00.147 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:18:00.154 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:18:00.154 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:00.154 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 40.7003ms
2025-04-13 01:18:00.154 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:00.155 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 41.4558ms
2025-04-13 01:18:00.385 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:18:00.390 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:00.390 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:00.390 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:18:00.401 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:18:00.526 +01:00 [INF] Executed DbCommand (119ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:18:00.562 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:18:00.583 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:18:00.584 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:00.585 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 194.4294ms
2025-04-13 01:18:00.585 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:00.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 202.0171ms
2025-04-13 01:18:01.399 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:18:01.399 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:01.400 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:01.400 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:18:01.408 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:18:01.415 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:18:01.427 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:18:01.431 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:18:01.431 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:01.431 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 30.8203ms
2025-04-13 01:18:01.431 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:01.431 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 32.0049ms
2025-04-13 01:18:01.560 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:18:01.560 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:01.561 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:01.561 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:18:01.565 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:18:01.575 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:18:01.596 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:18:01.601 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:18:01.601 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:01.603 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 41.7582ms
2025-04-13 01:18:01.603 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:01.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 43.8364ms
2025-04-13 01:18:02.679 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:18:02.679 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:02.679 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3036ms
2025-04-13 01:18:02.683 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:18:02.683 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:02.683 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:02.683 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:18:02.698 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:18:02.707 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:18:02.712 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:18:02.716 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:18:02.716 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:02.717 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 33.2049ms
2025-04-13 01:18:02.717 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:02.717 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.0559ms
2025-04-13 01:18:02.777 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:18:02.777 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:02.778 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3656ms
2025-04-13 01:18:02.797 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:18:02.797 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:02.798 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:02.798 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:18:02.816 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:18:02.831 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:18:02.841 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:18:02.846 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:18:02.846 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:02.846 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 47.0953ms
2025-04-13 01:18:02.846 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:02.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 49.4135ms
2025-04-13 01:18:03.099 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:05.817 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:18:05.817 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:05.824 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:05.824 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:18:05.830 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:18:05.833 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:18:05.840 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:18:05.844 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:18:05.844 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:05.845 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.8499ms
2025-04-13 01:18:05.845 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:05.845 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.4943ms
2025-04-13 01:18:05.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:18:05.912 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:05.913 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:05.913 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:18:05.921 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:18:05.924 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:18:05.926 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:18:05.965 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:18:05.965 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:05.966 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 52.7911ms
2025-04-13 01:18:05.966 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:05.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 54.2472ms
2025-04-13 01:18:06.741 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:07.500 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:18:07.500 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:07.506 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:07.506 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:18:07.512 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:18:07.515 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:18:07.520 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:18:07.525 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:18:07.525 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:07.525 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.9831ms
2025-04-13 01:18:07.525 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:18:07.525 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.9153ms
2025-04-13 01:18:07.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:18:07.612 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:18:07.612 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:07.612 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:18:07.617 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:18:07.624 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:18:07.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:18:07.631 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:18:07.631 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:18:07.632 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.0931ms
2025-04-13 01:18:07.632 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:18:07.633 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 21.5532ms
2025-04-13 01:18:10.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:13.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:17.586 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:21.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:24.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:28.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:32.032 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:35.647 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:39.264 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:42.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:46.490 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:50.108 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:53.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:18:57.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:00.956 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:04.586 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:08.195 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:08.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:08.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:08.429 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6325ms
2025-04-13 01:19:08.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:08.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:08.432 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:08.432 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:08.435 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:08.443 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:08.447 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:08.450 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:08.450 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:08.450 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.6698ms
2025-04-13 01:19:08.450 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:08.450 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.8268ms
2025-04-13 01:19:11.808 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:15.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:19.023 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:22.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:23.877 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:23.877 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:23.877 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3869ms
2025-04-13 01:19:23.894 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:23.894 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:23.895 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:23.895 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:23.902 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:23.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:23.908 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:23.912 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:23.912 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:23.913 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.7346ms
2025-04-13 01:19:23.913 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:23.913 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.6891ms
2025-04-13 01:19:24.062 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:19:24.062 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:24.062 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3785ms
2025-04-13 01:19:24.075 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:24.075 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:24.075 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:24.075 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:24.080 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:24.096 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:24.111 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:24.125 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:24.125 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:24.125 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 50.1809ms
2025-04-13 01:19:24.125 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:24.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 51.1448ms
2025-04-13 01:19:26.279 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:29.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:30.594 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:30.594 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:30.595 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6039ms
2025-04-13 01:19:30.602 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:30.602 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:30.603 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:30.603 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:30.609 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:30.610 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:30.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:30.619 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:30.619 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:30.620 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.8278ms
2025-04-13 01:19:30.620 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:30.620 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.7171ms
2025-04-13 01:19:30.663 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:19:30.663 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:30.664 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7393ms
2025-04-13 01:19:30.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:30.670 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:30.670 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:30.671 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:30.675 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:30.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:30.680 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:30.689 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:30.689 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:30.689 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.7313ms
2025-04-13 01:19:30.690 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:30.690 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.8119ms
2025-04-13 01:19:32.973 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:32.973 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:32.974 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:32.974 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:32.990 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:32.995 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:32.999 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:33.045 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:33.046 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:33.046 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 71.9599ms
2025-04-13 01:19:33.046 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:33.046 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 72.9887ms
2025-04-13 01:19:33.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:33.113 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:33.115 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:33.115 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:33.120 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:33.122 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:33.141 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:33.146 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:33.146 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:33.146 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.9492ms
2025-04-13 01:19:33.146 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:33.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.6305ms
2025-04-13 01:19:33.550 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:37.218 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:40.903 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:42.343 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:42.343 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:42.343 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.449ms
2025-04-13 01:19:42.349 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:42.349 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:42.350 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:42.350 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:42.365 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:42.368 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:42.370 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:42.377 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:42.377 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:42.378 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.5202ms
2025-04-13 01:19:42.378 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:42.378 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.8307ms
2025-04-13 01:19:42.675 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:19:42.676 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:42.676 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5655ms
2025-04-13 01:19:42.684 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:42.685 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:42.685 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:42.685 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:42.689 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:42.691 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:42.693 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:42.704 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:42.704 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:42.705 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.0091ms
2025-04-13 01:19:42.705 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:42.705 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.7055ms
2025-04-13 01:19:44.317 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:44.317 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:44.318 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:44.318 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:44.321 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:44.323 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:44.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:44.332 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:44.332 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:44.332 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.2549ms
2025-04-13 01:19:44.332 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:44.332 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.7119ms
2025-04-13 01:19:44.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:44.356 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:44.357 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:44.357 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:44.363 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:44.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:44.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:44.371 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:44.372 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:44.372 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.983ms
2025-04-13 01:19:44.373 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:44.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.9011ms
2025-04-13 01:19:44.526 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:46.400 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:46.400 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:46.400 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:46.400 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:46.417 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:46.421 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:46.424 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:46.432 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:46.432 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:46.433 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.3835ms
2025-04-13 01:19:46.433 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:46.433 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.3159ms
2025-04-13 01:19:46.715 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:46.715 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:46.715 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:46.715 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:46.737 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:46.752 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:46.760 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:46.800 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:46.800 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:46.801 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 85.7117ms
2025-04-13 01:19:46.801 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:46.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 86.6611ms
2025-04-13 01:19:48.199 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:51.448 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:51.448 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:51.448 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5967ms
2025-04-13 01:19:51.451 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:51.452 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:51.452 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:51.453 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:51.457 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:51.459 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:51.468 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:51.471 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:51.471 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:51.471 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.6262ms
2025-04-13 01:19:51.472 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:51.472 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.39ms
2025-04-13 01:19:51.507 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:19:51.507 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:51.508 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.9611ms
2025-04-13 01:19:51.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:51.512 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:51.513 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:51.513 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:51.517 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:51.519 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:51.521 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:51.524 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:51.524 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:51.525 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 11.8021ms
2025-04-13 01:19:51.525 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:51.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 13.5272ms
2025-04-13 01:19:51.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:55.445 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:19:56.369 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:56.370 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:56.371 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:56.371 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:56.377 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:56.379 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:56.381 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:56.385 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:56.385 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:56.385 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.0869ms
2025-04-13 01:19:56.385 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:56.385 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.5802ms
2025-04-13 01:19:56.408 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:19:56.408 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:56.410 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:56.410 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:19:56.414 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:19:56.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:19:56.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:19:56.423 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:19:56.423 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:56.423 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 12.917ms
2025-04-13 01:19:56.424 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:19:56.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.0995ms
2025-04-13 01:19:58.585 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:19:58.585 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:58.585 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4987ms
2025-04-13 01:19:58.589 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:19:58.589 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:19:58.589 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:58.589 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:19:58.596 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:19:58.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:19:58.600 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:19:58.604 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:19:58.604 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:19:58.604 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.4248ms
2025-04-13 01:19:58.604 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:19:58.604 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.6906ms
2025-04-13 01:19:59.089 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:00.150 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:20:00.150 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:00.150 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3338ms
2025-04-13 01:20:00.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:00.162 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:00.162 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:00.162 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:00.166 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:00.170 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:00.172 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:00.184 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:00.184 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:00.184 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.9545ms
2025-04-13 01:20:00.184 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:00.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 22.943ms
2025-04-13 01:20:02.712 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:06.332 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:09.947 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:11.977 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:20:11.978 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:11.978 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5668ms
2025-04-13 01:20:11.982 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:11.982 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:11.982 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:11.983 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:11.986 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:11.997 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:12.001 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:12.014 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:12.014 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:12.015 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.9896ms
2025-04-13 01:20:12.015 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:12.015 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.0163ms
2025-04-13 01:20:12.084 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:20:12.084 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:12.084 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3309ms
2025-04-13 01:20:12.091 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:12.091 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:12.092 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:12.092 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:12.097 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:12.119 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:12.136 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:12.147 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:12.147 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:12.147 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 54.7524ms
2025-04-13 01:20:12.147 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:12.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 56.369ms
2025-04-13 01:20:13.587 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:14.896 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:14.896 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:14.896 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:14.896 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:14.909 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:14.916 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:14.925 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:14.930 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:14.930 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:14.930 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.0638ms
2025-04-13 01:20:14.931 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:14.931 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 35.1107ms
2025-04-13 01:20:14.962 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:14.962 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:14.963 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:14.963 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:14.967 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:14.983 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:14.992 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:14.996 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:14.996 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:14.997 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.1693ms
2025-04-13 01:20:14.997 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:14.998 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 35.8054ms
2025-04-13 01:20:15.396 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:15.396 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:15.396 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:15.396 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:15.402 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:15.403 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:15.409 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:15.413 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:15.414 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:15.414 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.346ms
2025-04-13 01:20:15.414 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:15.414 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.6226ms
2025-04-13 01:20:15.436 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:15.436 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:15.437 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:15.437 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:15.617 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:15.758 +01:00 [INF] Executed DbCommand (140ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:15.774 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:15.777 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:15.777 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:15.778 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 340.7366ms
2025-04-13 01:20:15.778 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:15.778 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 342.0303ms
2025-04-13 01:20:17.407 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:19.251 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:20:19.251 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:19.251 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4241ms
2025-04-13 01:20:19.262 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:19.263 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:19.263 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:19.263 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:19.269 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:19.275 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:19.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:19.282 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:19.282 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:19.283 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.7972ms
2025-04-13 01:20:19.283 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:19.283 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.5571ms
2025-04-13 01:20:19.356 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:20:19.356 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:19.356 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4308ms
2025-04-13 01:20:19.360 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:19.361 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:19.361 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:19.361 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:19.376 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:19.381 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:19.383 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:19.389 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:19.390 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:19.390 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 28.6978ms
2025-04-13 01:20:19.390 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:19.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 30.0998ms
2025-04-13 01:20:21.040 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:24.657 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:28.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:31.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:34.493 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:20:34.494 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:34.494 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.464ms
2025-04-13 01:20:34.496 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:34.497 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:34.497 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:34.498 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:34.504 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:34.506 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:34.508 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:34.512 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:34.512 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:34.512 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.8238ms
2025-04-13 01:20:34.512 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:34.512 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.8737ms
2025-04-13 01:20:34.531 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:20:34.532 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:34.532 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6008ms
2025-04-13 01:20:34.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:34.542 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:34.543 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:34.543 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:34.552 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:34.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:34.558 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:34.564 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:34.564 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:34.565 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.326ms
2025-04-13 01:20:34.566 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:34.575 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.6316ms
2025-04-13 01:20:35.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:37.042 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:37.042 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:37.043 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:37.043 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:37.048 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:37.054 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:37.056 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:37.060 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:37.060 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:37.060 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.1997ms
2025-04-13 01:20:37.060 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:37.060 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.2359ms
2025-04-13 01:20:37.091 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:37.091 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:37.092 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:37.092 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:37.096 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:37.098 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:37.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:37.106 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:37.106 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:37.107 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.976ms
2025-04-13 01:20:37.107 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:37.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.6403ms
2025-04-13 01:20:38.708 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:38.709 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:38.709 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:38.709 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:38.713 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:38.717 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:38.720 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:38.725 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:38.725 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:38.725 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.951ms
2025-04-13 01:20:38.726 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:38.726 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.2886ms
2025-04-13 01:20:38.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:38.761 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:38.761 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:38.761 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:38.787 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:38.790 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:38.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:38.806 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:38.806 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:38.806 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 45.0574ms
2025-04-13 01:20:38.806 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:38.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 45.9359ms
2025-04-13 01:20:39.253 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:43.036 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:46.687 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:50.442 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:51.357 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:20:51.358 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:51.358 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:20:51.358 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:20:51.426 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:20:51.510 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:20:51.657 +01:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:20:51.841 +01:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:20:52.180 +01:00 [INF] Executed DbCommand (339ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:20:52.341 +01:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:52.583 +01:00 [INF] Executed DbCommand (241ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:20:52.925 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:20:52.926 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:53.278 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 1919.688ms
2025-04-13 01:20:53.278 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:20:53.278 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 1920.686ms
2025-04-13 01:20:54.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:20:54.872 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:54.872 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:20:54.872 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:20:55.501 +01:00 [INF] Executed DbCommand (679ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:20:55.511 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:20:55.524 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:20:55.527 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:20:55.536 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:20:55.540 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:20:55.542 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:55.550 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:20:55.554 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:20:55.554 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:55.555 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 682.7831ms
2025-04-13 01:20:55.555 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:20:55.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 683.5789ms
2025-04-13 01:20:56.735 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:20:56.735 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:56.735 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3704ms
2025-04-13 01:20:56.739 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:20:56.739 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:56.739 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:56.739 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:20:56.756 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:20:56.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:20:56.768 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:20:56.772 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:20:56.772 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:56.772 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 33.1163ms
2025-04-13 01:20:56.772 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:20:56.772 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.8855ms
2025-04-13 01:20:57.090 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:20:57.090 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:57.092 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4598ms
2025-04-13 01:20:57.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:20:57.097 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:20:57.097 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:57.097 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:20:57.186 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:20:57.207 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:20:57.210 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:20:57.322 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:20:57.322 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:20:57.322 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 225.0387ms
2025-04-13 01:20:57.322 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:20:57.323 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 226.415ms
2025-04-13 01:20:59.283 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:02.897 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:06.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:10.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:13.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:17.365 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:20.978 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:24.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:28.202 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:29.031 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:21:29.031 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:29.032 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6398ms
2025-04-13 01:21:29.036 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:29.036 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:29.036 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:29.036 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:29.043 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:29.049 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:29.053 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:29.069 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:29.070 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:29.070 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 33.3397ms
2025-04-13 01:21:29.070 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:29.071 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.8329ms
2025-04-13 01:21:29.582 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:21:29.582 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:29.582 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6067ms
2025-04-13 01:21:29.585 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:29.585 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:29.586 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:29.586 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:29.593 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:29.598 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:29.609 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:29.615 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:29.615 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:29.615 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 29.0782ms
2025-04-13 01:21:29.615 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:29.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 30.4992ms
2025-04-13 01:21:31.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:32.379 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:32.380 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:32.380 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:32.380 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:32.384 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:32.390 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:32.393 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:32.397 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:32.397 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:32.397 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.0011ms
2025-04-13 01:21:32.397 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:32.398 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.3167ms
2025-04-13 01:21:32.434 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:32.434 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:32.435 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:32.435 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:32.444 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:32.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:32.448 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:32.458 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:32.458 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:32.459 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.4461ms
2025-04-13 01:21:32.459 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:32.459 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.2275ms
2025-04-13 01:21:33.807 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:33.808 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:33.808 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:33.808 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:33.813 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:33.814 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:33.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:33.823 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:33.823 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:33.823 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.3623ms
2025-04-13 01:21:33.823 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:33.824 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.3549ms
2025-04-13 01:21:33.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:33.922 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:33.922 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:33.922 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:33.928 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:33.931 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:33.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:33.940 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:33.940 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:33.940 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.431ms
2025-04-13 01:21:33.941 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:33.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.0061ms
2025-04-13 01:21:35.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:21:35.050 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:35.050 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5717ms
2025-04-13 01:21:35.059 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:35.059 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:35.060 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:35.060 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:35.066 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:35.068 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:35.079 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:35.084 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:35.084 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:35.084 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.5796ms
2025-04-13 01:21:35.084 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:35.084 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.026ms
2025-04-13 01:21:35.138 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:21:35.138 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:35.139 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.1289ms
2025-04-13 01:21:35.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:35.144 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:35.145 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:35.145 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:35.157 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:35.162 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:35.167 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:35.212 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:35.212 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:35.212 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 66.7575ms
2025-04-13 01:21:35.212 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:35.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 68.6337ms
2025-04-13 01:21:35.570 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:39.197 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:39.704 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:39.704 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:39.704 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:39.705 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:39.710 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:39.712 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:39.714 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:39.717 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:39.718 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:39.718 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.5793ms
2025-04-13 01:21:39.718 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:39.718 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 14.9003ms
2025-04-13 01:21:39.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:39.772 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:39.772 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:39.773 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:39.777 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:39.778 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:39.792 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:39.797 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:39.798 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:39.798 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.7919ms
2025-04-13 01:21:39.798 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:39.799 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.1514ms
2025-04-13 01:21:40.874 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:21:40.874 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:40.874 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4308ms
2025-04-13 01:21:40.881 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:40.881 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:40.881 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:40.881 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:40.896 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:40.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:40.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:41.012 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:41.012 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:41.013 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 131.295ms
2025-04-13 01:21:41.013 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:41.013 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 132.4703ms
2025-04-13 01:21:41.099 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:21:41.099 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:41.099 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3453ms
2025-04-13 01:21:41.106 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:41.106 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:41.106 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:41.106 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:41.113 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:41.115 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:41.123 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:41.128 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:41.129 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:41.130 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.6087ms
2025-04-13 01:21:41.130 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:41.131 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.8081ms
2025-04-13 01:21:42.991 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:45.018 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:21:45.018 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:45.018 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:21:45.018 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:21:45.065 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:45.073 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:21:45.075 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:45.082 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:21:45.094 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:21:45.098 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:45.106 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:21:45.112 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:21:45.113 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:45.115 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 96.5417ms
2025-04-13 01:21:45.115 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:21:45.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 99.2327ms
2025-04-13 01:21:46.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:46.811 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:21:46.823 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:46.823 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:21:46.823 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:21:46.886 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:46.897 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:21:46.932 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:46.954 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:21:46.989 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:21:46.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:47.002 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:21:47.032 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:21:47.032 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:47.038 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 215.3503ms
2025-04-13 01:21:47.038 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:21:47.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 230.326ms
2025-04-13 01:21:50.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:53.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:56.589 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:21:56.589 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:56.590 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.2147ms
2025-04-13 01:21:56.594 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:21:56.594 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:56.595 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:56.595 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:21:56.603 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:21:56.608 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:21:56.618 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:21:56.622 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:21:56.622 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:56.622 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.1879ms
2025-04-13 01:21:56.622 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:21:56.622 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.2928ms
2025-04-13 01:21:56.776 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:21:56.776 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:56.777 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.706ms
2025-04-13 01:21:56.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:21:56.785 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:56.785 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:56.785 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:21:56.789 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:21:56.794 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:21:56.796 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:21:56.806 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:21:56.807 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:21:56.807 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.6927ms
2025-04-13 01:21:56.807 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:21:56.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.3476ms
2025-04-13 01:21:57.796 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:21:59.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:21:59.941 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:21:59.941 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:21:59.941 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:21:59.961 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:59.969 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:21:59.972 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:21:59.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:21:59.996 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:21:59.999 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:22:00.009 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:22:00.123 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:22:00.123 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:22:00.124 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 182.6158ms
2025-04-13 01:22:00.124 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:22:00.125 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 183.9429ms
2025-04-13 01:22:01.570 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:05.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:08.800 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:12.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:16.034 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:19.646 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:23.270 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:26.881 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:30.489 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:34.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:37.717 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:41.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:44.941 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:48.556 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:52.168 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:55.771 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:22:57.423 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:22:57.423 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:22:57.424 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6735ms
2025-04-13 01:22:57.427 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:22:57.427 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:22:57.428 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:22:57.428 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:22:57.431 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:22:57.439 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:22:57.443 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:22:57.449 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:22:57.449 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:22:57.450 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.8444ms
2025-04-13 01:22:57.450 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:22:57.450 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.1982ms
2025-04-13 01:22:59.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:03.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:06.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:10.237 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:13.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:17.464 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:21.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:24.692 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:28.332 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:31.952 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:35.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:39.171 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:42.788 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:46.402 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:50.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:53.621 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:57.244 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:23:57.431 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:23:57.431 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:23:57.432 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3436ms
2025-04-13 01:23:57.442 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:23:57.443 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:23:57.444 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:23:57.444 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:23:57.449 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:23:57.457 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:23:57.468 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:23:57.475 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:23:57.476 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:23:57.476 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.9249ms
2025-04-13 01:23:57.476 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:23:57.476 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 33.7601ms
2025-04-13 01:24:00.853 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:04.473 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:08.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:11.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:15.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:18.979 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:22.689 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:26.299 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:29.906 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:33.614 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:37.239 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:40.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:44.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:48.272 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:51.987 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:55.610 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:24:57.526 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:24:57.526 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:24:57.527 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3736ms
2025-04-13 01:24:57.532 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:24:57.533 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:24:57.533 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:24:57.533 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:24:57.544 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:24:57.555 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:24:57.569 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:24:57.583 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:24:57.583 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:24:57.584 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 50.5551ms
2025-04-13 01:24:57.584 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:24:57.584 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 51.3589ms
2025-04-13 01:24:59.364 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:03.028 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:03.581 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:25:03.581 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:03.581 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3526ms
2025-04-13 01:25:03.586 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:03.587 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:03.589 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:03.589 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:03.597 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:03.609 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:03.612 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:03.650 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:03.650 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:03.651 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 61.6991ms
2025-04-13 01:25:03.651 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:03.651 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 64.8849ms
2025-04-13 01:25:04.266 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:25:04.266 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:04.266 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.351ms
2025-04-13 01:25:04.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:04.276 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:04.276 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:04.276 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:04.283 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:04.296 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:04.311 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:04.319 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:04.319 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:04.319 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 43.247ms
2025-04-13 01:25:04.319 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:04.321 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 45.4373ms
2025-04-13 01:25:06.723 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:10.392 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:14.006 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:17.657 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:21.283 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:21.526 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:25:21.526 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:21.526 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3709ms
2025-04-13 01:25:21.530 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:21.530 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:21.531 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:21.531 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:21.546 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:21.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:21.552 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:21.556 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:21.556 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:21.557 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.7569ms
2025-04-13 01:25:21.557 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:21.557 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.5806ms
2025-04-13 01:25:21.810 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:25:21.810 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:21.810 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3471ms
2025-04-13 01:25:21.859 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:21.859 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:21.859 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:21.859 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:21.863 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:21.888 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:21.893 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:21.897 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:21.897 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:21.898 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 38.1982ms
2025-04-13 01:25:21.898 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:21.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 39.2485ms
2025-04-13 01:25:24.336 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:24.337 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:24.337 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:24.337 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:24.342 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:24.344 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:24.347 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:24.352 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:24.353 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:24.354 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.7817ms
2025-04-13 01:25:24.354 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:24.354 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.5014ms
2025-04-13 01:25:24.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:24.407 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:24.408 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:24.408 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:24.412 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:24.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:24.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:24.424 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:24.424 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:24.425 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 16.9206ms
2025-04-13 01:25:24.425 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:24.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.5204ms
2025-04-13 01:25:24.936 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:26.728 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:25:26.728 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:26.729 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5473ms
2025-04-13 01:25:26.735 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:26.735 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:26.736 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:26.736 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:26.742 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:26.744 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:26.746 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:26.762 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:26.762 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:26.762 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.6463ms
2025-04-13 01:25:26.762 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:26.762 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.2127ms
2025-04-13 01:25:26.890 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:25:26.890 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:26.890 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5512ms
2025-04-13 01:25:26.920 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:26.920 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:26.920 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:26.920 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:26.924 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:26.936 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:26.939 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:26.944 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:26.944 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:26.945 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.117ms
2025-04-13 01:25:26.945 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:26.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.1157ms
2025-04-13 01:25:27.488 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:27.488 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:27.489 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:27.489 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:27.495 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:27.497 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:27.502 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:27.506 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:27.506 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:27.506 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.5557ms
2025-04-13 01:25:27.507 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:27.507 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.1172ms
2025-04-13 01:25:27.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:27.558 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:27.558 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:27.559 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:27.564 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:27.580 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:27.606 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:27.611 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:27.611 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:27.611 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 52.5708ms
2025-04-13 01:25:27.611 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:27.612 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 53.5231ms
2025-04-13 01:25:28.641 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:32.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:35.871 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:39.490 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:43.103 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:46.707 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:50.334 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:50.739 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:25:50.740 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:50.740 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.866ms
2025-04-13 01:25:50.748 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:25:50.748 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:50.748 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:50.749 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:25:50.769 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:25:50.774 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:25:50.782 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:25:50.788 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:25:50.788 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:50.789 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 39.6729ms
2025-04-13 01:25:50.789 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:25:50.789 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 41.418ms
2025-04-13 01:25:50.851 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:25:50.852 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:50.852 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4074ms
2025-04-13 01:25:50.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:25:50.855 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:50.856 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:50.856 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:25:50.865 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:25:50.902 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:50.978 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:25:51.012 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:25:51.012 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:51.012 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 156.4951ms
2025-04-13 01:25:51.012 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:25:51.013 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 157.4236ms
2025-04-13 01:25:54.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:55.587 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:25:55.587 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:55.587 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:25:55.620 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:25:55.907 +01:00 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:25:55.917 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:25:55.923 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:25:55.957 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:25:55.969 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:25:55.972 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:55.982 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:25:55.988 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:25:55.989 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:55.991 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 370.9643ms
2025-04-13 01:25:55.991 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:25:55.993 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 406.5009ms
2025-04-13 01:25:57.664 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:25:58.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:25:58.552 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:25:58.552 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:25:58.552 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:25:58.557 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:25:58.568 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:25:58.569 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:25:58.573 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:25:58.581 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:25:58.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:25:58.588 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:25:58.630 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:25:58.630 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:25:58.631 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 78.6107ms
2025-04-13 01:25:58.631 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:25:58.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 79.813ms
2025-04-13 01:26:01.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:04.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:08.531 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:12.145 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:15.763 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:16.067 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:26:16.067 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:16.068 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4789ms
2025-04-13 01:26:16.076 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:16.076 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:16.076 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:16.077 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:16.082 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:16.086 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:16.091 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:16.095 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:16.095 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:16.095 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.2384ms
2025-04-13 01:26:16.095 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:16.095 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.3088ms
2025-04-13 01:26:16.383 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:26:16.383 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:16.385 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.5573ms
2025-04-13 01:26:16.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:16.392 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:16.393 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:16.393 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:16.397 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:16.399 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:16.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:16.416 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:16.417 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:16.417 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.6287ms
2025-04-13 01:26:16.418 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:16.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.0279ms
2025-04-13 01:26:18.744 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:18.744 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:18.744 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:18.744 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:18.752 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:18.801 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:18.813 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:18.818 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:18.818 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:18.818 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 73.9398ms
2025-04-13 01:26:18.818 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:18.819 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 74.9104ms
2025-04-13 01:26:18.898 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:18.898 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:18.899 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:18.899 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:18.913 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:18.927 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:18.935 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:18.946 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:18.947 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:18.950 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 50.6668ms
2025-04-13 01:26:18.950 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:18.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 52.5884ms
2025-04-13 01:26:19.435 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:23.110 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:26.791 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:29.974 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:26:29.978 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:29.978 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:29.978 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:26:30.396 +01:00 [INF] Executed DbCommand (415ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:30.565 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:26:30.840 +01:00 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:31.179 +01:00 [INF] Executed DbCommand (339ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:26:31.409 +01:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:26:31.449 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:26:31.449 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:31.449 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3258ms
2025-04-13 01:26:31.480 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:31.512 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:26:31.532 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:26:31.533 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:31.544 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 1566.4499ms
2025-04-13 01:26:31.559 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:31.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 1585.4424ms
2025-04-13 01:26:31.563 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:31.563 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:31.563 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:31.563 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:31.595 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:31.597 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:31.599 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:31.608 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:31.611 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:31.611 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:31.611 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.0805ms
2025-04-13 01:26:31.611 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:31.612 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 49.0342ms
2025-04-13 01:26:32.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:26:32.613 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:32.613 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:32.613 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:26:32.622 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:32.625 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:26:32.627 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:32.629 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:26:32.634 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:26:32.644 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:32.647 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:26:32.659 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:26:32.659 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:32.660 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 46.363ms
2025-04-13 01:26:32.660 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:32.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 47.1175ms
2025-04-13 01:26:35.247 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:36.054 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:26:36.054 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:36.054 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3859ms
2025-04-13 01:26:36.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:36.059 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:36.059 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:36.059 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:36.063 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:36.088 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:36.091 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:36.097 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:36.097 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:36.097 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 37.6787ms
2025-04-13 01:26:36.097 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:36.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 38.6195ms
2025-04-13 01:26:37.169 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:26:37.169 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:37.170 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:37.170 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:26:37.336 +01:00 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:37.554 +01:00 [INF] Executed DbCommand (217ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:26:37.621 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:26:37.624 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:26:37.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:26:37.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:37.635 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:26:37.643 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:26:37.643 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:37.643 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 472.9653ms
2025-04-13 01:26:37.643 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:26:37.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 474.64ms
2025-04-13 01:26:38.858 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:42.485 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:46.349 +01:00 [INF] Executed DbCommand (225ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:49.057 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:26:49.058 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:49.058 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.491ms
2025-04-13 01:26:49.070 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:49.070 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:49.070 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:49.070 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:49.077 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:49.092 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:49.097 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:49.100 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:49.101 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:49.101 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 30.5985ms
2025-04-13 01:26:49.101 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:49.101 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 31.4948ms
2025-04-13 01:26:49.166 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:26:49.166 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:49.166 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 3.9234ms
2025-04-13 01:26:49.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:49.170 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:49.171 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:49.171 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:49.176 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:49.189 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:49.199 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:49.225 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:49.225 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:49.225 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 54.4445ms
2025-04-13 01:26:49.226 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:49.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 55.8815ms
2025-04-13 01:26:50.020 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:51.066 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:51.066 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:51.066 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:51.066 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:51.075 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:51.077 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:51.083 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:51.091 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:51.091 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:51.091 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.697ms
2025-04-13 01:26:51.091 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:51.092 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.0257ms
2025-04-13 01:26:51.182 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:51.183 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:51.184 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:51.184 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:51.193 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:51.207 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:51.209 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:51.222 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:51.223 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:51.224 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 39.176ms
2025-04-13 01:26:51.224 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:51.224 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 46.0849ms
2025-04-13 01:26:53.674 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:53.875 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:53.875 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:53.876 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:53.877 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:53.887 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:53.889 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:53.891 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:53.899 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:53.899 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:53.899 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 22.3473ms
2025-04-13 01:26:53.899 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:53.900 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.7322ms
2025-04-13 01:26:53.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:53.952 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:53.952 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:53.952 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:53.957 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:53.961 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:53.971 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:53.975 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:53.975 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:53.975 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.1626ms
2025-04-13 01:26:53.975 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:53.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.5108ms
2025-04-13 01:26:57.371 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:26:58.816 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:26:58.816 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:58.817 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3438ms
2025-04-13 01:26:58.824 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:26:58.824 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:58.824 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:58.824 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:26:58.841 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:26:58.852 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:26:58.855 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:26:58.859 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:26:58.859 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:58.859 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.8298ms
2025-04-13 01:26:58.859 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:26:58.859 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 35.5467ms
2025-04-13 01:26:58.929 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:26:58.929 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:58.929 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3259ms
2025-04-13 01:26:58.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:26:58.934 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:26:58.934 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:58.934 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:26:58.940 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:26:58.952 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:26:58.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:26:58.969 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:26:58.969 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:26:58.970 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 35.154ms
2025-04-13 01:26:58.970 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:26:58.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 36.0584ms
2025-04-13 01:27:00.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:27:00.317 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:00.317 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:00.317 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:27:00.333 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:00.337 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:27:00.340 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:00.349 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:27:00.356 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:27:00.358 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:27:00.369 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:27:00.375 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:27:00.376 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:00.381 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 63.6269ms
2025-04-13 01:27:00.381 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:00.381 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 90.3426ms
2025-04-13 01:27:00.982 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:01.733 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:27:01.734 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:01.734 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:01.735 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:27:01.754 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:01.770 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:27:01.772 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:01.779 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:27:01.789 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:27:01.825 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:27:01.865 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:27:01.869 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:27:01.869 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:01.870 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 135.0199ms
2025-04-13 01:27:01.870 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:01.870 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 137.2491ms
2025-04-13 01:27:04.604 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:08.214 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:11.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:15.476 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:19.091 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:22.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:26.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:29.922 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:33.571 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:34.094 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:27:34.094 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:34.094 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4001ms
2025-04-13 01:27:34.098 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:27:34.098 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:34.099 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:27:34.099 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:27:34.118 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:27:34.144 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:27:34.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:27:34.151 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:27:34.151 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:34.151 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 52.113ms
2025-04-13 01:27:34.151 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:27:34.151 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 52.9811ms
2025-04-13 01:27:34.605 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:27:34.605 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:34.605 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6815ms
2025-04-13 01:27:34.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:27:34.611 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:34.611 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:27:34.611 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:27:34.617 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:27:34.621 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:27:34.623 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:27:34.630 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:27:34.630 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:34.630 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.6914ms
2025-04-13 01:27:34.630 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:27:34.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.848ms
2025-04-13 01:27:37.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:37.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:27:37.714 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:37.715 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:37.715 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:27:37.728 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:37.749 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:27:37.765 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:37.899 +01:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:27:37.904 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:27:37.908 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:27:37.910 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:27:37.942 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:27:37.942 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:37.943 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 227.2803ms
2025-04-13 01:27:37.943 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:37.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 229.4743ms
2025-04-13 01:27:40.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:43.612 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:27:43.615 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:27:43.615 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:43.615 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:27:43.639 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:43.673 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:27:43.676 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:27:43.680 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:27:43.684 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:27:43.689 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:27:43.695 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:27:43.706 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:27:43.706 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:27:43.707 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 91.7638ms
2025-04-13 01:27:43.707 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:27:43.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 95.8285ms
2025-04-13 01:27:44.456 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:48.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:51.702 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:55.335 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:27:59.192 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:01.820 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:28:01.820 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:01.820 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7229ms
2025-04-13 01:28:01.832 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:01.833 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:01.834 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:01.835 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:01.841 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:01.847 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:01.853 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:01.858 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:01.858 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:01.858 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.4059ms
2025-04-13 01:28:01.858 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:01.859 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.0326ms
2025-04-13 01:28:01.892 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:28:01.892 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:01.892 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3872ms
2025-04-13 01:28:01.911 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:01.911 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:01.911 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:01.911 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:01.922 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:01.928 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:01.943 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:01.953 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:01.953 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:01.954 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 42.0722ms
2025-04-13 01:28:01.954 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:01.954 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 43.4838ms
2025-04-13 01:28:02.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:03.725 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:03.727 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:03.728 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:03.728 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:03.737 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:03.740 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:03.742 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:03.749 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:03.749 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:03.749 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.1833ms
2025-04-13 01:28:03.749 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:03.749 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.0953ms
2025-04-13 01:28:03.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:03.761 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:03.768 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:03.768 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:03.774 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:03.776 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:03.779 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:03.785 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:03.785 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:03.786 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.0234ms
2025-04-13 01:28:03.786 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:03.786 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.1772ms
2025-04-13 01:28:04.738 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:04.738 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:04.739 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:04.739 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:04.754 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:04.757 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:04.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:04.767 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:04.767 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:04.767 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 28.4171ms
2025-04-13 01:28:04.767 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:04.767 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.3472ms
2025-04-13 01:28:04.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:04.834 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:04.834 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:04.834 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:04.842 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:04.857 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:04.867 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:04.924 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:04.924 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:04.925 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 90.595ms
2025-04-13 01:28:04.925 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:04.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 91.9162ms
2025-04-13 01:28:06.710 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:08.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:28:08.836 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:08.837 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:08.837 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:28:08.927 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:08.941 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:28:08.951 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:08.959 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:28:08.986 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:28:08.990 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:09.001 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:28:09.008 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:28:09.009 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:09.010 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 173.5229ms
2025-04-13 01:28:09.016 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:09.016 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 180.0147ms
2025-04-13 01:28:10.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:10.573 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:28:10.573 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:10.573 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:10.573 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:28:10.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:10.636 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:28:10.643 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:10.651 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:28:10.655 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:28:10.658 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:10.675 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:28:10.707 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:28:10.707 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:10.708 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 134.3705ms
2025-04-13 01:28:10.708 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:10.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 135.2675ms
2025-04-13 01:28:13.991 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:17.599 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:21.211 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:24.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:28.458 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:29.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:28:29.208 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:29.208 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3903ms
2025-04-13 01:28:29.211 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:29.211 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:29.212 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:29.212 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:29.246 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:29.248 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:29.250 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:29.254 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:29.254 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:29.254 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 42.1215ms
2025-04-13 01:28:29.254 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:29.254 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 43.3019ms
2025-04-13 01:28:29.347 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:28:29.348 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:29.348 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4209ms
2025-04-13 01:28:29.353 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:29.354 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:29.354 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:29.354 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:29.370 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:29.375 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:29.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:29.381 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:29.382 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:29.382 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 27.8203ms
2025-04-13 01:28:29.382 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:29.383 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 29.8966ms
2025-04-13 01:28:32.110 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:32.220 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:32.220 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:32.221 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:32.221 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:32.235 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:32.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:32.239 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:32.244 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:32.244 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:32.245 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.5611ms
2025-04-13 01:28:32.245 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:32.245 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.9935ms
2025-04-13 01:28:32.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:32.284 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:32.284 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:32.284 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:32.293 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:32.302 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:32.303 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:32.313 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:32.314 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:32.314 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 29.3027ms
2025-04-13 01:28:32.314 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:32.314 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 30.4849ms
2025-04-13 01:28:34.599 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:28:34.599 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:34.600 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6068ms
2025-04-13 01:28:34.602 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:34.602 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:34.603 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:34.603 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:34.611 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:34.612 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:34.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:34.617 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:34.617 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:34.618 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3147ms
2025-04-13 01:28:34.618 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:34.618 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.7625ms
2025-04-13 01:28:34.650 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:28:34.650 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:34.651 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.867ms
2025-04-13 01:28:34.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:34.660 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:34.660 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:34.661 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:34.666 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:34.675 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:34.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:34.682 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:34.682 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:34.683 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.9065ms
2025-04-13 01:28:34.683 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:34.683 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.2512ms
2025-04-13 01:28:35.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:39.379 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:42.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:28:42.180 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:42.180 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:42.180 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:28:42.434 +01:00 [INF] Executed DbCommand (251ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:42.491 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:28:42.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:42.534 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:28:42.566 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:28:42.580 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:42.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:28:42.594 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:28:42.595 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:42.596 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 415.7507ms
2025-04-13 01:28:42.596 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:42.596 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 417.7073ms
2025-04-13 01:28:43.000 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:43.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:28:43.781 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:43.782 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:43.783 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:28:43.808 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:43.851 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:28:43.859 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:28:43.879 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:28:43.883 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:28:44.006 +01:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:44.040 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:28:44.050 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:28:44.051 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:44.051 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 268.4595ms
2025-04-13 01:28:44.051 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:28:44.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 270.8002ms
2025-04-13 01:28:46.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:50.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:53.906 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:57.979 +01:00 [INF] Executed DbCommand (224ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:28:58.564 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:28:58.564 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:58.565 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5259ms
2025-04-13 01:28:58.569 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:28:58.570 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:58.571 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:58.574 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:28:58.599 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:28:58.609 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:28:58.617 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:28:58.622 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:28:58.622 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:58.623 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 48.2293ms
2025-04-13 01:28:58.623 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:28:58.623 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 53.5313ms
2025-04-13 01:28:58.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:28:58.732 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:58.734 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 2.5793ms
2025-04-13 01:28:58.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:28:58.742 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:28:58.742 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:58.742 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:28:58.747 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:28:58.755 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:28:58.763 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:28:58.772 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:28:58.772 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:28:58.773 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.9517ms
2025-04-13 01:28:58.773 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:28:58.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.4903ms
2025-04-13 01:29:00.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 01:29:00.147 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:29:00.147 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:29:00.147 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 01:29:00.221 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:29:00.263 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 01:29:00.271 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 01:29:00.275 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 01:29:00.281 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 01:29:00.287 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:29:00.294 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 01:29:00.302 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 01:29:00.302 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:29:00.303 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 155.8604ms
2025-04-13 01:29:00.303 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 01:29:00.303 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1847 application/json; charset=utf-8 157.0377ms
2025-04-13 01:29:01.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:05.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:08.818 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:12.433 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:16.038 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:19.648 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:23.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:26.985 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:30.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:34.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:37.826 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:41.435 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:45.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:48.663 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:52.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:55.876 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:29:59.425 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:29:59.425 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:29:59.426 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3212ms
2025-04-13 01:29:59.428 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:29:59.429 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:29:59.429 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:29:59.429 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:29:59.432 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:29:59.436 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:29:59.441 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:29:59.444 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:29:59.444 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:29:59.445 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.2251ms
2025-04-13 01:29:59.445 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:29:59.445 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.3735ms
2025-04-13 01:29:59.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:03.091 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:06.711 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:10.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:13.938 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:17.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:21.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:24.783 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:28.385 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:32.005 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:35.613 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:39.229 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:42.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:46.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:50.105 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:53.709 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:57.346 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:30:59.430 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:30:59.430 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:30:59.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.9193ms
2025-04-13 01:30:59.436 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:30:59.436 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:30:59.437 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:30:59.441 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:30:59.445 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:30:59.454 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:30:59.459 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:30:59.463 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:30:59.463 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:30:59.463 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 22.251ms
2025-04-13 01:30:59.463 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:30:59.464 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 27.8309ms
2025-04-13 01:31:00.958 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:04.581 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:08.198 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:11.807 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:15.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:19.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:22.637 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:26.247 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:29.861 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:33.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:37.083 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:40.709 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:44.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:47.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:51.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:55.162 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:58.765 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:31:59.435 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:31:59.435 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:31:59.436 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7321ms
2025-04-13 01:31:59.439 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:31:59.439 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:31:59.440 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:31:59.440 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:31:59.444 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:31:59.448 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:31:59.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:31:59.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:31:59.454 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:31:59.454 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.8872ms
2025-04-13 01:31:59.454 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:31:59.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.2711ms
2025-04-13 01:32:02.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:05.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:09.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:13.214 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:16.825 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:20.443 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:24.060 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:27.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:31.288 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:34.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:38.508 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:39.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:32:39.111 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:39.111 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4029ms
2025-04-13 01:32:39.118 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:32:39.118 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:39.119 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:32:39.119 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:32:39.123 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:32:39.130 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:32:39.142 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:32:39.173 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:32:39.173 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:32:39.174 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 54.6301ms
2025-04-13 01:32:39.174 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:32:39.174 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 55.9121ms
2025-04-13 01:32:39.260 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:32:39.261 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:39.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4072ms
2025-04-13 01:32:39.268 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:32:39.269 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:39.269 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:32:39.269 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:32:39.275 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:32:39.282 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:32:39.292 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:32:39.296 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:32:39.297 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:32:39.297 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 28.1477ms
2025-04-13 01:32:39.297 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:32:39.298 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 29.2241ms
2025-04-13 01:32:42.165 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:45.768 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:46.035 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:32:46.035 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:46.036 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3311ms
2025-04-13 01:32:46.039 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:32:46.039 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:46.040 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:32:46.040 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:32:46.043 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:32:46.046 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:32:46.054 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:32:46.058 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:32:46.058 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:32:46.058 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.4909ms
2025-04-13 01:32:46.058 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:32:46.059 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.2946ms
2025-04-13 01:32:46.078 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:32:46.078 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:46.079 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.144ms
2025-04-13 01:32:46.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:32:46.092 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:32:46.093 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:32:46.093 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:32:46.100 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:32:46.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:32:46.110 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:32:46.124 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:32:46.125 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:32:46.125 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 31.9762ms
2025-04-13 01:32:46.126 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:32:46.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.6886ms
2025-04-13 01:32:49.407 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:53.076 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:32:56.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:00.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:03.899 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:07.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:08.977 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:33:08.977 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:08.979 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 2.3249ms
2025-04-13 01:33:08.984 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:08.984 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:08.985 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:08.985 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:08.998 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:09.000 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:09.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:09.005 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:09.005 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:09.006 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.3158ms
2025-04-13 01:33:09.006 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:09.006 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.8606ms
2025-04-13 01:33:09.023 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:33:09.023 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:09.024 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4968ms
2025-04-13 01:33:09.039 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:09.039 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:09.039 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:09.040 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:09.048 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:09.054 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:09.062 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:09.066 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:09.066 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:09.066 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 26.6743ms
2025-04-13 01:33:09.066 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:09.067 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.7093ms
2025-04-13 01:33:11.154 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:11.237 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:11.237 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:11.237 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:11.238 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:11.251 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:11.255 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:11.267 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:11.273 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:11.273 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:11.273 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 35.54ms
2025-04-13 01:33:11.273 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:11.273 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 36.3609ms
2025-04-13 01:33:11.360 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:11.360 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:11.361 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:11.361 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:11.365 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:11.368 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:11.370 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:11.377 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:11.378 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:11.379 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.6583ms
2025-04-13 01:33:11.379 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:11.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.2454ms
2025-04-13 01:33:12.889 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:12.889 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:12.889 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:12.889 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:12.899 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:12.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:12.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:12.913 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:12.913 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:12.913 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.9439ms
2025-04-13 01:33:12.914 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:12.914 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.9245ms
2025-04-13 01:33:12.943 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:12.943 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:12.944 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:12.945 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:12.953 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:12.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:12.963 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:12.968 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:12.969 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:12.970 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 24.5289ms
2025-04-13 01:33:12.970 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:12.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 27.3507ms
2025-04-13 01:33:14.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:18.419 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:22.120 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:25.662 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:33:25.663 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:25.664 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.6016ms
2025-04-13 01:33:25.669 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:25.669 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:25.670 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:25.670 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:25.676 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:25.681 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:25.685 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:25.689 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:25.690 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:25.690 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.2043ms
2025-04-13 01:33:25.690 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:25.690 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.3801ms
2025-04-13 01:33:25.719 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:33:25.719 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:25.719 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4213ms
2025-04-13 01:33:25.724 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:25.724 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:25.725 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:25.725 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:25.729 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:25.785 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:25.795 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:25.809 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:25.809 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:25.810 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 85.0232ms
2025-04-13 01:33:25.810 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:25.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 86.6528ms
2025-04-13 01:33:25.820 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:28.314 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:28.314 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:28.314 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:28.314 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:28.318 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:28.334 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:28.341 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:28.345 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:28.345 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:28.345 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.0553ms
2025-04-13 01:33:28.345 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:28.345 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 31.8401ms
2025-04-13 01:33:28.478 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:28.478 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:28.479 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:28.479 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:28.485 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:28.490 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:28.493 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:28.497 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:28.498 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:28.498 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.9026ms
2025-04-13 01:33:28.498 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:28.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.4538ms
2025-04-13 01:33:29.445 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:30.966 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:33:30.966 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:30.966 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5317ms
2025-04-13 01:33:30.973 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:30.973 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:30.974 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:30.974 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:30.979 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:30.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:30.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:30.991 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:30.991 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:30.991 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.1188ms
2025-04-13 01:33:30.991 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:30.992 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.4056ms
2025-04-13 01:33:31.032 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:33:31.033 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:31.033 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4886ms
2025-04-13 01:33:31.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:31.044 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:31.044 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:31.045 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:31.049 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:31.051 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:31.057 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:31.062 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:31.063 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:31.063 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.2139ms
2025-04-13 01:33:31.063 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:31.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 19.8572ms
2025-04-13 01:33:33.147 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:36.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:40.391 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:44.006 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:47.608 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:51.239 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:54.891 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:33:57.908 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:33:57.908 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:57.908 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3393ms
2025-04-13 01:33:57.915 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:33:57.917 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:57.917 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:57.917 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:33:57.921 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:33:57.925 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:33:57.928 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:33:57.939 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:33:57.939 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:57.939 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.998ms
2025-04-13 01:33:57.939 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:33:57.939 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.6844ms
2025-04-13 01:33:58.128 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:33:58.128 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:58.128 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4218ms
2025-04-13 01:33:58.141 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:33:58.141 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:33:58.142 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:58.142 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:33:58.146 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:33:58.150 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:33:58.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:33:58.157 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:33:58.157 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:33:58.157 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.6091ms
2025-04-13 01:33:58.157 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:33:58.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.609ms
2025-04-13 01:33:58.589 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:02.244 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:05.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:05.010 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:05.010 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7059ms
2025-04-13 01:34:05.017 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:05.017 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:05.018 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:05.018 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:05.027 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:05.034 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:05.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:05.040 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:05.041 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:05.041 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 22.342ms
2025-04-13 01:34:05.041 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:05.041 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.9794ms
2025-04-13 01:34:05.073 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:05.073 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:05.073 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4016ms
2025-04-13 01:34:05.080 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:05.081 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:05.081 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:05.081 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:05.086 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:05.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:05.106 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:05.111 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:05.111 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:05.113 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 31.9782ms
2025-04-13 01:34:05.113 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:05.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.2361ms
2025-04-13 01:34:05.866 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:06.126 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:06.127 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:06.127 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:06.127 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:06.134 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:06.139 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:06.143 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:06.152 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:06.152 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:06.152 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.2175ms
2025-04-13 01:34:06.152 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:06.152 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.1614ms
2025-04-13 01:34:06.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:06.243 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:06.243 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:06.243 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:06.294 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:06.309 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:06.314 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:06.325 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:06.325 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:06.325 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 81.6136ms
2025-04-13 01:34:06.325 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:06.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 82.5071ms
2025-04-13 01:34:09.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:13.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:16.747 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:20.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:23.031 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:23.031 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:23.031 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5073ms
2025-04-13 01:34:23.034 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:23.034 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:23.035 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:23.035 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:23.039 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:23.047 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:23.049 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:23.052 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:23.052 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:23.053 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.7412ms
2025-04-13 01:34:23.053 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:23.053 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.1176ms
2025-04-13 01:34:23.088 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:23.088 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:23.089 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5335ms
2025-04-13 01:34:23.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:23.096 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:23.097 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:23.097 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:23.101 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:23.106 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:23.132 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:23.136 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:23.136 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:23.137 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 39.4649ms
2025-04-13 01:34:23.137 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:23.137 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 41.023ms
2025-04-13 01:34:23.981 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:26.472 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:26.472 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:26.472 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:26.472 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:26.481 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:26.489 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:26.495 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:26.499 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:26.499 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:26.500 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.0982ms
2025-04-13 01:34:26.500 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:26.500 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 28.1814ms
2025-04-13 01:34:27.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:27.281 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:27.282 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:27.282 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:27.287 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:27.312 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:27.332 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:27.336 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:27.336 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:27.336 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 54.275ms
2025-04-13 01:34:27.337 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:27.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 55.7235ms
2025-04-13 01:34:27.624 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:28.344 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:28.345 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:28.346 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.5314ms
2025-04-13 01:34:28.349 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:28.349 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:28.350 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:28.350 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:28.354 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:28.364 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:28.369 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:28.373 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:28.374 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:28.374 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.7696ms
2025-04-13 01:34:28.374 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:28.374 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.0884ms
2025-04-13 01:34:28.389 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:28.389 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:28.390 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.7736ms
2025-04-13 01:34:28.394 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:28.394 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:28.395 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:28.395 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:28.415 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:28.426 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:28.437 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:28.460 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:28.460 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:28.461 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 65.1813ms
2025-04-13 01:34:28.461 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:28.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 67.0379ms
2025-04-13 01:34:30.254 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:30.255 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:30.255 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:30.260 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:30.264 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:30.270 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:30.276 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:30.280 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:30.280 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:30.281 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.8931ms
2025-04-13 01:34:30.281 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:30.281 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.7645ms
2025-04-13 01:34:30.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:30.317 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:30.318 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:30.318 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:30.323 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:30.330 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:30.336 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:30.349 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:30.349 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:30.350 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 31.8389ms
2025-04-13 01:34:30.350 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:30.351 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 33.6259ms
2025-04-13 01:34:31.352 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:33.790 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:33.790 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:33.791 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.9207ms
2025-04-13 01:34:33.794 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:33.794 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:33.795 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:33.795 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:33.798 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:33.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:33.803 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:33.833 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:33.833 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:33.833 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 38.0862ms
2025-04-13 01:34:33.833 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:33.833 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 39.0993ms
2025-04-13 01:34:33.884 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:33.884 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:33.885 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.8096ms
2025-04-13 01:34:33.891 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:33.891 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:33.892 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:33.892 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:33.896 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:33.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:33.900 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:33.912 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:33.912 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:33.914 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.5394ms
2025-04-13 01:34:33.914 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:33.915 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.9943ms
2025-04-13 01:34:34.897 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:34.897 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:34.897 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:34.897 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:34.901 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:34.904 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:34.909 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:34.913 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:34.913 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:34.913 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.7167ms
2025-04-13 01:34:34.913 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:34.913 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 16.7646ms
2025-04-13 01:34:34.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:34.967 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:34.968 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:34.968 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:34.972 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:34.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:34.976 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:34.982 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:34.982 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:34.983 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.4744ms
2025-04-13 01:34:34.983 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:34.983 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 15.8964ms
2025-04-13 01:34:35.026 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:37.996 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:37.996 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:37.997 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:37.997 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:38.002 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:38.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:38.013 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:38.017 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:38.017 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:38.017 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.9726ms
2025-04-13 01:34:38.017 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:38.017 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.9308ms
2025-04-13 01:34:38.081 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:38.081 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:38.082 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:38.082 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:38.086 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:38.089 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:38.093 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:38.096 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:38.097 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:38.097 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.608ms
2025-04-13 01:34:38.097 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:38.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 16.1764ms
2025-04-13 01:34:38.370 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:38.374 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:38.375 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:38.375 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:38.380 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:38.382 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:38.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:38.391 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:38.391 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:38.391 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 15.5981ms
2025-04-13 01:34:38.391 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:38.391 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.7492ms
2025-04-13 01:34:38.440 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:38.440 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:38.440 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:38.441 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:38.445 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:38.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:38.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:38.461 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:38.461 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:38.462 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 20.611ms
2025-04-13 01:34:38.462 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:38.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 22.8321ms
2025-04-13 01:34:38.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:40.669 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:40.669 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:40.669 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4327ms
2025-04-13 01:34:40.682 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:40.682 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:40.683 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:40.683 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:40.709 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:40.711 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:40.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:40.718 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:40.718 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:40.718 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 35.4309ms
2025-04-13 01:34:40.718 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:40.718 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 36.3401ms
2025-04-13 01:34:40.765 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:40.765 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:40.766 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7467ms
2025-04-13 01:34:40.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:40.773 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:40.773 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:40.774 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:40.780 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:40.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:40.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:40.795 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:40.795 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:40.796 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.7284ms
2025-04-13 01:34:40.796 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:40.797 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 23.7086ms
2025-04-13 01:34:42.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:45.563 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:45.563 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:45.564 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:45.564 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:45.578 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:45.583 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:45.592 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:45.597 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:45.597 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:45.597 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.8992ms
2025-04-13 01:34:45.597 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:45.598 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.4623ms
2025-04-13 01:34:45.706 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:45.706 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:45.706 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:45.706 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:45.711 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:45.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:45.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:45.723 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:45.723 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:45.723 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.0407ms
2025-04-13 01:34:45.724 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:45.724 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 18.2442ms
2025-04-13 01:34:45.939 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:47.365 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:47.366 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:47.366 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.0107ms
2025-04-13 01:34:47.374 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:47.374 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:47.375 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:47.376 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:47.380 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:47.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:47.389 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:47.396 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:47.396 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:47.397 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.6276ms
2025-04-13 01:34:47.397 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:47.397 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.0719ms
2025-04-13 01:34:47.461 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:47.461 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:47.462 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.7945ms
2025-04-13 01:34:47.466 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:47.466 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:47.467 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:47.467 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:47.477 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:47.480 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:47.490 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:47.516 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:47.525 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:47.525 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 57.8487ms
2025-04-13 01:34:47.525 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:47.526 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 59.8418ms
2025-04-13 01:34:49.560 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:50.544 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:50.544 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:50.544 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:50.544 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:50.548 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:50.557 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:50.561 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:50.565 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:50.566 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:50.566 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.8001ms
2025-04-13 01:34:50.566 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:50.566 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.5114ms
2025-04-13 01:34:50.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:50.674 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:50.674 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:50.674 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:50.689 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:50.694 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:50.733 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:50.746 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:50.747 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:50.749 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 74.8778ms
2025-04-13 01:34:50.749 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:50.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 89.0141ms
2025-04-13 01:34:53.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:54.864 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:34:54.864 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:54.865 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4781ms
2025-04-13 01:34:54.873 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:54.873 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:54.873 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:54.874 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:54.879 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:54.895 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:54.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:54.906 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:54.907 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:54.907 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.6702ms
2025-04-13 01:34:54.907 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:54.907 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.2873ms
2025-04-13 01:34:56.978 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:34:57.804 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:34:57.804 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:57.804 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4324ms
2025-04-13 01:34:57.811 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:57.811 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:57.812 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:57.812 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:57.863 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:57.874 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:57.880 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:57.896 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:57.896 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:57.897 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 84.4769ms
2025-04-13 01:34:57.897 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:57.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 87.847ms
2025-04-13 01:34:58.306 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:58.307 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:58.307 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:58.307 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:58.312 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:58.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:58.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:58.324 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:58.324 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:58.324 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.6057ms
2025-04-13 01:34:58.325 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:58.325 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.3415ms
2025-04-13 01:34:58.350 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:58.350 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:58.354 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:58.354 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:58.359 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:58.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:58.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:58.369 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:58.369 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:58.370 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 15.7222ms
2025-04-13 01:34:58.370 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:58.370 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.5238ms
2025-04-13 01:34:59.254 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:34:59.254 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:59.254 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:59.254 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:34:59.259 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:34:59.263 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:34:59.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:34:59.276 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:34:59.277 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:59.277 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.5387ms
2025-04-13 01:34:59.277 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:34:59.277 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.3268ms
2025-04-13 01:34:59.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:34:59.330 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:34:59.330 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:59.331 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:34:59.340 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:34:59.342 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:34:59.344 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:34:59.353 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:34:59.353 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:34:59.353 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 22.735ms
2025-04-13 01:34:59.353 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:34:59.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 24.2764ms
2025-04-13 01:35:00.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:04.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:04.037 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:04.037 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3868ms
2025-04-13 01:35:04.044 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:04.044 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:04.045 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:04.045 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:04.073 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:04.075 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:04.078 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:04.085 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:04.085 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:04.086 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 40.6451ms
2025-04-13 01:35:04.086 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:04.086 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 41.5898ms
2025-04-13 01:35:04.255 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:04.255 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:04.255 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.33ms
2025-04-13 01:35:04.259 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:04.259 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:04.260 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:04.260 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:04.264 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:04.278 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:04.289 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:04.307 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:04.307 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:04.307 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 47.5513ms
2025-04-13 01:35:04.307 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:04.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 48.4515ms
2025-04-13 01:35:04.354 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:07.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:11.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:11.737 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:11.737 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:11.738 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8486ms
2025-04-13 01:35:11.741 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:11.741 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:11.741 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:11.742 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:11.748 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:11.760 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:11.765 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:11.769 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:11.769 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:11.770 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.9341ms
2025-04-13 01:35:11.770 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:11.770 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.2678ms
2025-04-13 01:35:11.817 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:11.818 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:11.818 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6469ms
2025-04-13 01:35:11.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:11.823 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:11.823 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:11.823 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:11.828 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:11.834 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:11.839 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:11.859 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:11.859 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:11.860 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 36.7826ms
2025-04-13 01:35:11.861 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:11.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 38.6796ms
2025-04-13 01:35:15.491 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:19.104 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:22.737 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:23.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:23.271 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:23.271 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3945ms
2025-04-13 01:35:23.274 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:23.274 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:23.275 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:23.275 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:23.281 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:23.285 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:23.292 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:23.300 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:23.300 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:23.301 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 26.0124ms
2025-04-13 01:35:23.301 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:23.301 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.7352ms
2025-04-13 01:35:23.393 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:23.396 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:23.396 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 3.1828ms
2025-04-13 01:35:23.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:23.403 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:23.403 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:23.403 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:23.408 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:23.420 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:23.425 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:23.451 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:23.451 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:23.451 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 48.402ms
2025-04-13 01:35:23.452 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:23.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 49.3676ms
2025-04-13 01:35:26.415 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:27.280 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:27.280 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:27.280 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:27.281 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:27.285 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:27.288 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:27.294 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:27.298 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:27.299 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:27.299 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.1946ms
2025-04-13 01:35:27.299 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:27.299 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.3326ms
2025-04-13 01:35:27.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:27.370 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:27.370 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:27.381 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:27.383 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:27.385 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:27.389 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:27.390 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:27.390 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.6372ms
2025-04-13 01:35:27.390 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:27.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.7485ms
2025-04-13 01:35:30.172 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:33.862 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:36.504 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:36.504 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:36.505 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.0045ms
2025-04-13 01:35:36.512 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:36.513 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:36.513 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:36.513 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:36.518 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:36.527 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:36.534 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:36.538 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:36.538 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:36.538 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.805ms
2025-04-13 01:35:36.538 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:36.539 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.1996ms
2025-04-13 01:35:36.601 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:36.601 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:36.601 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4959ms
2025-04-13 01:35:36.604 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:36.604 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:36.605 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:36.605 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:36.611 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:36.618 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:36.630 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:36.635 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:36.635 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:36.636 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.6036ms
2025-04-13 01:35:36.636 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:36.637 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.468ms
2025-04-13 01:35:36.945 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:36.946 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:36.946 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:36.946 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:36.951 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:36.953 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:36.955 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:36.970 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:36.970 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:36.970 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.864ms
2025-04-13 01:35:36.970 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:36.970 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.8169ms
2025-04-13 01:35:37.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:37.026 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:37.026 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:37.026 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:37.056 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:37.061 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:37.084 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:37.166 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:37.166 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:37.167 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 140.3816ms
2025-04-13 01:35:37.167 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:37.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 141.4764ms
2025-04-13 01:35:37.482 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:41.096 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:41.709 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:41.710 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:41.710 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3611ms
2025-04-13 01:35:41.731 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:41.732 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:41.732 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:41.732 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:41.742 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:41.757 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:41.767 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:41.770 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:41.770 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:41.770 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 38.2326ms
2025-04-13 01:35:41.770 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:41.771 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 39.1252ms
2025-04-13 01:35:42.820 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:42.820 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:42.820 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5443ms
2025-04-13 01:35:42.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:42.826 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:42.826 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:42.826 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:42.829 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:42.838 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:42.846 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:42.851 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:42.851 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:42.851 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 25.2589ms
2025-04-13 01:35:42.851 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:42.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 26.1011ms
2025-04-13 01:35:43.333 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:43.333 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:43.333 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:43.333 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:43.338 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:43.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:43.348 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:43.352 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:43.352 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:43.353 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.0473ms
2025-04-13 01:35:43.353 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:43.353 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.3096ms
2025-04-13 01:35:43.599 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:43.599 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:43.599 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:43.599 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:43.613 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:43.629 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:43.633 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:43.637 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:43.637 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:43.637 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 37.9751ms
2025-04-13 01:35:43.637 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:43.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 39.1156ms
2025-04-13 01:35:44.745 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:46.712 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:46.712 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:46.712 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:46.713 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:46.717 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:46.720 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:46.728 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:46.733 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:46.733 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:46.733 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.2915ms
2025-04-13 01:35:46.733 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:46.733 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.5164ms
2025-04-13 01:35:46.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:46.879 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:46.880 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:46.880 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:46.895 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:46.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:46.902 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:46.912 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:46.913 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:46.914 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 33.7215ms
2025-04-13 01:35:46.914 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:46.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 36.2396ms
2025-04-13 01:35:48.461 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:48.797 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:48.797 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:48.797 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5066ms
2025-04-13 01:35:48.800 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:48.800 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:48.800 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:48.800 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:48.805 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:48.808 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:48.811 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:48.818 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:48.818 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:48.818 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.5479ms
2025-04-13 01:35:48.818 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:48.818 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.743ms
2025-04-13 01:35:49.065 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:49.065 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:49.065 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.858ms
2025-04-13 01:35:49.069 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:49.069 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:49.069 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:49.070 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:49.079 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:49.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:49.086 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:49.100 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:49.100 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:49.100 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.6286ms
2025-04-13 01:35:49.101 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:49.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 32.1228ms
2025-04-13 01:35:50.461 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:50.461 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:50.462 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:50.462 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:50.467 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:50.475 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:50.478 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:50.482 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:50.482 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:50.482 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.1391ms
2025-04-13 01:35:50.482 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:50.482 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 21.0513ms
2025-04-13 01:35:50.551 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:50.552 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:50.552 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:50.552 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:50.591 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:50.593 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:50.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:50.601 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:50.601 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:50.602 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 49.5052ms
2025-04-13 01:35:50.602 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:50.603 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 51.369ms
2025-04-13 01:35:52.112 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:53.526 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:53.526 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:53.527 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:53.527 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:53.531 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:53.535 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:53.541 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:53.545 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:53.545 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:53.545 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.6486ms
2025-04-13 01:35:53.546 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:53.546 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.573ms
2025-04-13 01:35:53.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:53.968 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:53.968 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:53.968 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:54.065 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:54.099 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:54.101 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:54.113 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:54.113 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:54.114 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 145.3636ms
2025-04-13 01:35:54.114 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:54.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 146.2523ms
2025-04-13 01:35:55.117 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:35:55.118 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:55.118 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4228ms
2025-04-13 01:35:55.125 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:55.125 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:55.125 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:55.125 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:55.129 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:55.130 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:55.133 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:55.139 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:55.139 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:55.139 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.3245ms
2025-04-13 01:35:55.139 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:55.140 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.1369ms
2025-04-13 01:35:55.198 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:35:55.198 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:55.198 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5762ms
2025-04-13 01:35:55.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:55.202 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:55.203 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:55.204 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:55.231 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:55.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:55.281 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:55.312 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:55.312 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:55.313 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 108.3867ms
2025-04-13 01:35:55.313 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:55.313 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 111.939ms
2025-04-13 01:35:55.915 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:35:56.614 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:56.614 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:56.614 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:56.614 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:56.625 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:56.631 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:56.634 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:56.646 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:56.646 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:56.646 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.5767ms
2025-04-13 01:35:56.646 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:56.646 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 32.326ms
2025-04-13 01:35:56.851 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:56.851 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:56.851 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:56.851 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:56.910 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:56.942 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:56.978 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:57.021 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:57.022 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:57.022 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 170.9174ms
2025-04-13 01:35:57.022 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:57.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 171.923ms
2025-04-13 01:35:58.784 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:35:58.784 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:58.790 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:58.791 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:35:58.794 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:35:58.796 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:35:58.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:35:58.804 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:35:58.804 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:58.804 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 13.4961ms
2025-04-13 01:35:58.804 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:35:58.804 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.2961ms
2025-04-13 01:35:58.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:35:58.897 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:35:58.897 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:58.897 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:35:58.915 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:35:58.923 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:35:58.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:35:58.961 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:35:58.961 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:35:58.962 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 64.1958ms
2025-04-13 01:35:58.962 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:35:58.962 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 65.6617ms
2025-04-13 01:35:59.650 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:03.260 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:03.813 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:36:03.813 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:03.813 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4043ms
2025-04-13 01:36:03.816 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:36:03.817 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:03.818 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:03.818 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:36:03.824 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:36:03.827 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:36:03.832 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:36:03.839 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:36:03.839 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:03.840 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 20.0628ms
2025-04-13 01:36:03.840 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:03.840 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.3721ms
2025-04-13 01:36:03.882 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:36:03.882 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:03.883 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.9249ms
2025-04-13 01:36:03.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:36:03.888 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:03.889 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:03.889 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:36:03.894 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:36:03.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:36:03.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:36:03.908 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:36:03.908 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:03.908 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 18.8418ms
2025-04-13 01:36:03.908 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:03.909 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 20.781ms
2025-04-13 01:36:05.193 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:36:05.193 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:05.193 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:05.194 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:36:05.198 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:36:05.204 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:36:05.207 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:36:05.247 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:36:05.247 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:05.248 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 54.1546ms
2025-04-13 01:36:05.248 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:05.248 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 55.037ms
2025-04-13 01:36:05.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:36:05.324 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:05.325 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:05.325 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:36:05.329 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:36:05.339 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:36:05.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:36:05.394 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:36:05.394 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:05.394 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 68.9221ms
2025-04-13 01:36:05.395 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:05.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 70.6379ms
2025-04-13 01:36:06.954 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:09.643 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:36:09.643 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:09.643 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3781ms
2025-04-13 01:36:09.652 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:36:09.652 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:09.653 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:09.653 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:36:09.659 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:36:09.663 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:36:09.667 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:36:09.673 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:36:09.674 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:09.674 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 21.0255ms
2025-04-13 01:36:09.674 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:09.674 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 23.3675ms
2025-04-13 01:36:09.709 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:36:09.709 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:09.710 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3662ms
2025-04-13 01:36:09.713 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:36:09.713 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:09.714 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:09.714 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:36:09.721 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:36:09.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:36:09.727 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:36:09.737 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:36:09.737 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:09.738 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 23.7783ms
2025-04-13 01:36:09.738 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:09.739 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 25.8466ms
2025-04-13 01:36:10.587 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:13.364 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:36:13.364 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:13.364 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:13.366 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:36:13.371 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:36:13.373 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:36:13.376 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:36:13.388 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:36:13.388 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:13.388 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 22.1391ms
2025-04-13 01:36:13.388 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:13.388 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 24.0648ms
2025-04-13 01:36:13.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:36:13.468 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:13.468 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:13.468 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:36:13.496 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:36:13.522 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:36:13.533 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:36:13.538 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:36:13.538 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:13.538 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 70.3413ms
2025-04-13 01:36:13.538 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:13.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 71.2574ms
2025-04-13 01:36:14.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:15.305 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:36:15.306 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:15.306 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.415ms
2025-04-13 01:36:15.311 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:36:15.311 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:15.312 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:15.312 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:36:15.323 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:36:15.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:36:15.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:36:15.339 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:36:15.339 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:15.340 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 27.5865ms
2025-04-13 01:36:15.340 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:36:15.340 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 29.2587ms
2025-04-13 01:36:15.393 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-13 01:36:15.393 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:15.394 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4392ms
2025-04-13 01:36:15.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-13 01:36:15.404 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:36:15.404 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:15.404 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-13 01:36:15.421 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-13 01:36:15.438 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 01:36:15.454 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsLoggedIn], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-13 01:36:15.488 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-13 01:36:15.488 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:36:15.488 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 84.2834ms
2025-04-13 01:36:15.489 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-13 01:36:15.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 299 application/json; charset=utf-8 85.9457ms
2025-04-13 01:36:17.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:21.516 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:25.137 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:28.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:32.361 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:35.970 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:39.590 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:43.199 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:46.813 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:50.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:54.038 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:36:57.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:01.259 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:04.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:08.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:12.090 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:15.815 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:17.531 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:37:17.531 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:37:17.531 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4065ms
2025-04-13 01:37:17.539 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:37:17.539 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:37:17.539 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:37:17.539 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:37:17.548 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:37:17.560 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:37:17.570 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:37:17.575 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:37:17.575 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:37:17.575 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 35.8765ms
2025-04-13 01:37:17.576 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:37:17.576 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 36.7959ms
2025-04-13 01:37:19.444 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:23.056 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:26.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:30.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:33.902 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:37.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:41.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:44.752 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:48.369 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:51.980 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:55.593 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:37:59.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:02.829 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:06.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:10.043 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:13.660 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:15.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:38:15.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:38:15.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3469ms
2025-04-13 01:38:15.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:38:15.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:38:15.432 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:38:15.432 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:38:15.436 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:38:15.445 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:38:15.450 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:38:15.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:38:15.453 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:38:15.456 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.7119ms
2025-04-13 01:38:15.457 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:38:15.457 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.1123ms
2025-04-13 01:38:17.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:20.889 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:24.509 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:28.123 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:31.738 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:35.355 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:38.968 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:42.583 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:46.199 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:49.825 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:53.436 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:38:57.047 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:00.684 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:04.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:07.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:11.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:15.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:15.429 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:39:15.429 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:39:15.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6976ms
2025-04-13 01:39:15.433 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:39:15.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:39:15.434 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:39:15.434 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:39:15.437 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:39:15.444 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:39:15.448 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:39:15.452 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:39:15.452 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:39:15.452 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 18.1213ms
2025-04-13 01:39:15.452 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:39:15.453 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 19.2667ms
2025-04-13 01:39:18.743 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:22.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:25.975 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:29.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:33.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:36.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:40.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:44.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:47.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:51.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:54.891 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:39:58.504 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:02.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:05.728 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:09.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:12.963 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:15.434 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:40:15.434 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:40:15.435 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6676ms
2025-04-13 01:40:15.438 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:40:15.438 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:40:15.439 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:40:15.439 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:40:15.443 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:40:15.449 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:40:15.452 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:40:15.455 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:40:15.455 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:40:15.456 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.1985ms
2025-04-13 01:40:15.456 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:40:15.457 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.7085ms
2025-04-13 01:40:16.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:20.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:23.812 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:27.412 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:31.027 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:34.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:38.255 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:41.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:45.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:49.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:52.723 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:56.339 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:40:59.958 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:03.574 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:07.180 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:10.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:14.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:15.433 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:41:15.433 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:41:15.434 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5375ms
2025-04-13 01:41:15.437 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:41:15.437 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:41:15.437 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:41:15.438 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:41:15.441 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:41:15.444 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:41:15.450 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:41:15.453 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:41:15.454 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:41:15.454 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.2446ms
2025-04-13 01:41:15.454 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:41:15.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.4494ms
2025-04-13 01:41:18.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:21.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:25.265 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:28.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:32.493 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:36.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:39.725 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:43.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:46.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:50.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:54.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:41:57.788 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:01.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:05.029 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:08.644 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:12.255 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:15.866 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:16.427 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:42:16.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:42:16.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6187ms
2025-04-13 01:42:16.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:42:16.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:42:16.432 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:42:16.432 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:42:16.436 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:42:16.440 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:42:16.443 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:42:16.446 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:42:16.446 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:42:16.447 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.4353ms
2025-04-13 01:42:16.447 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:42:16.448 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 15.9145ms
2025-04-13 01:42:19.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:23.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:26.714 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:30.365 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:33.982 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:37.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:41.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:44.829 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:48.443 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:52.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:55.673 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:42:59.292 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:02.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:06.524 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:10.131 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:13.743 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:17.359 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:17.423 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:43:17.423 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:43:17.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4064ms
2025-04-13 01:43:17.426 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:43:17.426 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:43:17.427 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:43:17.427 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:43:17.430 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:43:17.434 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:43:17.439 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:43:17.443 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:43:17.443 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:43:17.444 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 16.6249ms
2025-04-13 01:43:17.444 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:43:17.444 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 17.7639ms
2025-04-13 01:43:20.972 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:24.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:28.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:31.799 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:35.403 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:39.019 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:42.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:46.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:49.853 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:53.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:43:57.077 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:00.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:04.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:07.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:11.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:15.123 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:18.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:44:18.428 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:44:18.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3385ms
2025-04-13 01:44:18.432 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:44:18.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:44:18.432 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:44:18.432 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:44:18.436 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:44:18.443 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:44:18.447 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:44:18.450 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-13 01:44:18.450 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 01:44:18.450 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.6016ms
2025-04-13 01:44:18.450 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:44:18.450 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 18.9341ms
2025-04-13 01:44:18.738 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:22.348 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:25.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:29.575 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:33.184 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:36.792 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:40.400 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:44.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:47.626 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:51.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:54.851 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:44:58.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:02.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:05.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:09.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:12.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:16.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:19.431 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-13 01:45:19.432 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:45:19.432 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.8085ms
2025-04-13 01:45:19.441 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-13 01:45:19.441 +01:00 [INF] CORS policy execution successful.
2025-04-13 01:45:19.442 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:45:19.443 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-13 01:45:19.446 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-13 01:45:19.449 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-13 01:45:19.454 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-13 01:45:19.468 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Users] SET [IsLoggedIn] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-04-13 01:45:19.477 +01:00 [INF] UserId: 22/2464 auto-logged out due to session expiry at "2025-04-13T00:44:20.0628671".
2025-04-13 01:45:19.478 +01:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-04-13 01:45:19.481 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 38.4761ms
2025-04-13 01:45:19.481 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-13 01:45:19.482 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 401 null text/plain; charset=utf-8 41.4155ms
2025-04-13 01:45:20.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:23.752 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:27.372 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:30.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:34.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:38.214 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:41.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:45.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:49.048 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:52.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:56.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:45:59.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:03.485 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:07.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:10.705 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:14.323 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:17.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:21.538 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:25.147 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:28.760 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:32.371 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:35.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:39.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:43.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:46.812 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:50.428 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:54.041 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:46:57.657 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:01.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:04.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:08.481 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:12.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:15.696 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:19.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:22.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:26.531 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:30.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:33.756 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:37.372 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:40.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:44.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:48.201 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:51.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:55.418 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:47:59.023 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:02.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:06.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:09.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:13.491 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:17.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:20.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:24.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:27.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:31.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:35.158 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:38.765 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:42.390 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:46.009 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:49.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:53.233 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:48:56.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:00.450 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:04.059 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:07.673 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:11.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:14.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:18.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:22.104 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:25.717 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:29.332 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:32.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:36.556 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:40.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:43.790 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:47.424 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:51.045 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:54.648 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:49:58.262 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:01.877 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:05.483 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:09.098 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:12.704 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:16.322 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:19.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:23.546 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:27.152 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:30.762 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:34.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:37.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:41.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:45.203 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:48.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:52.425 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:56.047 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:50:59.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:03.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:06.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:10.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:14.097 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:17.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:21.328 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:24.947 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:28.571 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:32.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:35.791 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:39.412 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:43.010 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:46.610 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:50.224 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:53.824 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:51:57.482 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:01.092 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:04.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:08.301 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:11.919 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:15.533 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:19.152 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:22.766 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:26.383 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:29.998 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:33.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:37.227 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:40.846 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:44.455 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:48.059 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:51.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:55.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:52:58.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:02.527 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:06.147 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:09.753 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:13.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:16.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:20.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:24.451 +01:00 [INF] Executed DbCommand (195ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:28.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:31.663 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:35.268 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:38.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:42.640 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:46.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:49.861 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:53.476 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:53:57.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:00.677 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:04.294 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:07.911 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:11.664 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:15.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:18.942 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:22.553 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:26.189 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:30.186 +01:00 [INF] Executed DbCommand (144ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:33.795 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:37.405 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:41.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:44.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:48.294 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:52.109 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:55.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:54:59.348 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:02.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:06.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:10.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:13.815 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:17.430 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:21.041 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:24.654 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:28.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:31.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:35.504 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:39.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:42.736 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:46.353 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:49.963 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:53.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:55:57.184 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:00.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:04.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:08.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:11.632 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:15.267 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:18.878 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:22.536 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:26.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:29.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:33.597 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:37.206 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:40.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:44.446 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:48.086 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:51.707 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:55.336 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:56:59.130 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:02.755 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:06.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:09.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:13.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:17.215 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:20.831 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:24.452 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:28.063 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:31.679 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:35.381 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:38.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:42.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:46.224 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:49.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:53.455 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:57:57.059 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:00.676 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:04.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:08.158 +01:00 [INF] Executed DbCommand (195ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:11.787 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:15.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:19.003 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:22.615 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:26.232 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:29.852 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:33.468 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:37.072 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:40.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:44.330 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:47.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:51.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:55.245 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:58:58.927 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:02.567 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:06.182 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:10.024 +01:00 [INF] Executed DbCommand (136ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:13.668 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:17.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:21.028 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:24.709 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:28.355 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:31.965 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:35.587 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:39.214 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:42.837 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:46.507 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:50.117 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:53.730 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 01:59:57.347 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:01.100 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:04.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:08.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:12.149 +01:00 [INF] Executed DbCommand (100ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:15.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:19.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:22.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:26.606 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:30.224 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:33.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:37.435 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:41.055 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:44.669 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:48.284 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:51.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:55.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:00:59.127 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:02.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:06.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:09.960 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:13.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:17.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:20.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:24.407 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:28.021 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:31.637 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:35.252 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:38.868 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:42.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:46.101 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:49.707 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:53.318 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:01:56.934 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:00.547 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:04.165 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:07.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:11.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:15.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:18.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:22.234 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:25.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:29.455 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:33.073 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:36.687 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:40.299 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:43.914 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:47.520 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:51.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:54.737 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:02:58.356 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:01.967 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:05.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:09.199 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:12.803 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:16.402 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:20.012 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:23.619 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:27.231 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:30.845 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:34.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:38.076 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:41.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:45.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:48.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:52.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:56.137 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:03:59.763 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:03.381 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:07.013 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:10.682 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:14.306 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:17.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:21.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:25.148 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:28.763 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:32.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:35.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:39.592 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:43.213 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:46.868 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:50.532 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:54.167 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:04:57.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:01.549 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:05.278 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:08.887 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:12.493 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:16.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:19.719 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:23.327 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:27.068 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:30.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:34.450 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:38.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:41.785 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:45.433 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:49.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:52.659 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:56.300 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:05:59.913 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:03.763 +01:00 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:07.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:11.083 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:14.696 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:18.343 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:21.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:25.616 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:29.237 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:33.872 +01:00 [INF] Executed DbCommand (261ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:37.639 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:06:41.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:20.457 +01:00 [INF] User profile is available. Using 'C:\Users\Oluwademilade.Fajolu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 02:07:26.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.html - null null
2025-04-13 02:07:26.479 +01:00 [INF] Executed DbCommand (266ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:26.573 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 02:07:26.605 +01:00 [INF] Hosting environment: Development
2025-04-13 02:07:26.621 +01:00 [INF] Content root path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library
2025-04-13 02:07:27.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.html - 200 null text/html;charset=utf-8 936.9037ms
2025-04-13 02:07:27.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.js - null null
2025-04-13 02:07:27.410 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_vs/browserLink - null null
2025-04-13 02:07:27.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 02:07:27.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.js - 200 null application/javascript;charset=utf-8 35.2482ms
2025-04-13 02:07:27.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 57.5246ms
2025-04-13 02:07:27.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_vs/browserLink - 200 null text/javascript; charset=UTF-8 341.9587ms
2025-04-13 02:07:28.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - null null
2025-04-13 02:07:28.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.8455ms
2025-04-13 02:07:30.540 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:34.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:37.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:41.492 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:45.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:48.744 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:52.350 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:55.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:07:59.558 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:03.165 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:06.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:10.380 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:13.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:17.610 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:21.254 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:24.881 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:28.494 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:32.119 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:35.739 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:39.388 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:42.992 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:44.239 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/Users - null null
2025-04-13 02:08:44.504 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-13 02:08:44.511 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-13 02:08:44.513 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/Users - 401 null null 274.1455ms
2025-04-13 02:08:46.657 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:50.270 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:53.885 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:08:57.502 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:01.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:04.717 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:08.333 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:11.965 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:15.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:19.223 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:22.836 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:25.372 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - null null
2025-04-13 02:09:25.406 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:09:25.452 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 02:09:25.581 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:09:25.599 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 02:09:25.636 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-13 02:09:25.661 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 02:09:25.663 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:09:25.679 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 02:09:25.690 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-13 02:09:25.700 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 02:09:25.709 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 02:09:25.771 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 02:09:25.903 +01:00 [INF] Fetched borrow history with 10 records for page 1
2025-04-13 02:09:25.919 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 02:09:26.130 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 668.0351ms
2025-04-13 02:09:26.132 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:09:26.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - 200 3588 application/json; charset=utf-8 774.8343ms
2025-04-13 02:09:26.518 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:30.229 +01:00 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:33.864 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:37.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:41.091 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:44.707 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:48.321 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:51.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:55.537 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:09:59.152 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:02.770 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:06.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:10.001 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:13.602 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:17.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:20.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:24.452 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:28.057 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:31.666 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:35.339 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:38.971 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:42.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:46.181 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:49.793 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:53.396 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:10:57.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:00.636 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:04.261 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:08.256 +01:00 [INF] Executed DbCommand (270ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:12.185 +01:00 [INF] Executed DbCommand (143ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:16.112 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:19.792 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:23.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:27.278 +01:00 [INF] Executed DbCommand (138ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:30.934 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:34.601 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:38.253 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:41.866 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:45.490 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:49.111 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:52.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:56.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:11:59.956 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:03.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:07.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:10.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:14.392 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:18.005 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:21.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:25.222 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:28.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:32.456 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:36.070 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:39.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:43.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:46.913 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:50.534 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:54.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:12:57.756 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:01.379 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:04.999 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:08.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:12.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:15.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:19.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:23.056 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:26.763 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:30.542 +01:00 [INF] Executed DbCommand (132ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:34.153 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:37.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:41.368 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:44.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:48.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:52.222 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:55.836 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:13:59.449 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:03.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:06.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:10.320 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:13.928 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:17.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:21.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:24.775 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:28.393 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:32.010 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:35.621 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:39.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:42.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:46.469 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:50.088 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:53.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:14:57.326 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:00.936 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:04.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:08.163 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:11.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:15.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:19.013 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:22.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:26.242 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:29.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:33.475 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:37.110 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:40.728 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:44.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:47.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:51.563 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:55.172 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:15:58.785 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:02.393 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:06.003 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:09.618 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:13.228 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:16.832 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:20.448 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:24.065 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:27.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:31.286 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:34.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:38.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:42.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:45.743 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:49.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:52.958 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:16:56.574 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:00.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:03.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:07.414 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:11.027 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:14.639 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:18.247 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:21.868 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:25.481 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:29.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:32.854 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:38.814 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:42.432 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:46.046 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:49.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:53.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:17:56.893 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:00.509 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:04.122 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:07.746 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:11.356 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:14.976 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:18.595 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:22.206 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:25.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:29.543 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:33.153 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:36.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:40.498 +01:00 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:44.120 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:47.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:51.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:54.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:18:58.596 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:02.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:05.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:09.486 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:13.095 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:16.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:20.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:23.929 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:27.544 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:31.158 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:34.770 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:38.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:42.118 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:45.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:49.340 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:52.956 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:19:56.569 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:00.180 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:03.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:07.448 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:11.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:14.684 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:18.298 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:21.902 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:25.509 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:29.667 +01:00 [INF] Executed DbCommand (295ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:33.276 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:36.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:40.510 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:44.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:47.721 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:51.369 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:54.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:20:58.602 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:02.217 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:05.834 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:09.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:13.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:16.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:20.286 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:23.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:27.504 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:31.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:34.735 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:38.344 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:41.961 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:45.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:49.176 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:52.787 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:21:56.403 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:00.047 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:03.646 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:07.259 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:10.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:14.482 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:18.099 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:21.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:25.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:28.946 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:32.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:36.164 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:39.786 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:43.536 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:22:47.274 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:23:42.403 +01:00 [INF] User profile is available. Using 'C:\Users\Oluwademilade.Fajolu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 02:23:49.627 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.html - null null
2025-04-13 02:23:50.014 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 02:23:50.058 +01:00 [INF] Hosting environment: Development
2025-04-13 02:23:50.063 +01:00 [INF] Content root path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library
2025-04-13 02:23:50.094 +01:00 [INF] Executed DbCommand (472ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:23:50.781 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.html - 200 null text/html;charset=utf-8 1177.051ms
2025-04-13 02:23:51.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/index.js - null null
2025-04-13 02:23:51.053 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/index.js - 200 null application/javascript;charset=utf-8 27.8588ms
2025-04-13 02:23:51.151 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 02:23:51.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 10.1197ms
2025-04-13 02:23:51.180 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/_vs/browserLink - null null
2025-04-13 02:23:51.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.0605ms
2025-04-13 02:23:51.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - null null
2025-04-13 02:23:52.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.0646ms
2025-04-13 02:23:53.985 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:23:57.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:01.344 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:04.975 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:08.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:12.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:15.833 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:19.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:22.352 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrowed-daily - null null
2025-04-13 02:24:22.536 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetDailyBorrowStats (Library)'
2025-04-13 02:24:22.590 +01:00 [INF] Route matched with {action = "GetDailyBorrowStats", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyBorrowStats() on controller Library.Controllers.BooksController (Library).
2025-04-13 02:24:23.033 +01:00 [INF] Executed DbCommand (136ms) [Parameters=[@__sevenDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Key] AS [Date], COUNT(*) AS [Count]
FROM (
    SELECT CONVERT(date, [b].[BorrowTime]) AS [Key]
    FROM [BorrowRecords] AS [b]
    WHERE CONVERT(date, [b].[BorrowTime]) >= @__sevenDaysAgo_0
) AS [b0]
GROUP BY [b0].[Key]
ORDER BY [b0].[Key]
2025-04-13 02:24:23.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType19`2[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 02:24:23.117 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:23.429 +01:00 [INF] Executed action Library.Controllers.BooksController.GetDailyBorrowStats (Library) in 828.253ms
2025-04-13 02:24:23.430 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetDailyBorrowStats (Library)'
2025-04-13 02:24:23.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrowed-daily - 200 124 application/json; charset=utf-8 1095.6287ms
2025-04-13 02:24:26.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:30.391 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:34.038 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:37.643 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:41.265 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:44.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:48.485 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:52.107 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:55.752 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:24:59.372 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:02.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:06.591 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:10.204 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:13.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:17.798 +01:00 [INF] Executed DbCommand (123ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:21.429 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:25.041 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:28.660 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:32.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:35.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:39.642 +01:00 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:43.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:45.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrowed-daily - null null
2025-04-13 02:25:45.367 +01:00 [INF] CORS policy execution successful.
2025-04-13 02:25:45.370 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetDailyBorrowStats (Library)'
2025-04-13 02:25:45.370 +01:00 [INF] Route matched with {action = "GetDailyBorrowStats", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDailyBorrowStats() on controller Library.Controllers.BooksController (Library).
2025-04-13 02:25:45.445 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__sevenDaysAgo_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Key] AS [Date], COUNT(*) AS [Count]
FROM (
    SELECT CONVERT(date, [b].[BorrowTime]) AS [Key]
    FROM [BorrowRecords] AS [b]
    WHERE CONVERT(date, [b].[BorrowTime]) >= @__sevenDaysAgo_0
) AS [b0]
GROUP BY [b0].[Key]
ORDER BY [b0].[Key]
2025-04-13 02:25:45.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType19`2[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 02:25:45.454 +01:00 [INF] Executed action Library.Controllers.BooksController.GetDailyBorrowStats (Library) in 83.4311ms
2025-04-13 02:25:45.454 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetDailyBorrowStats (Library)'
2025-04-13 02:25:45.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrowed-daily - 200 124 application/json; charset=utf-8 111.0347ms
2025-04-13 02:25:46.909 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:50.537 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:54.151 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:25:57.767 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:01.393 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:05.016 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:08.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:12.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:15.850 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:19.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:23.078 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:26.695 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:30.306 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:34.162 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:37.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:41.391 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:45.009 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:48.623 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:52.237 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:55.852 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:26:59.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:03.090 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:06.729 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:10.342 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:13.954 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:17.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:21.180 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:24.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:28.419 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:32.027 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:35.641 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:39.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:42.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:46.577 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:50.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:53.802 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:27:57.424 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:01.055 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:04.666 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:08.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:11.907 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:15.521 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:19.152 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:22.809 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:26.432 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:30.039 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:33.706 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:37.428 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:41.102 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:44.716 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:48.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:51.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:55.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:28:59.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:02.999 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:06.605 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:09.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - null null
2025-04-13 02:29:09.851 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:29:09.938 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 02:29:10.110 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:29:10.135 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 02:29:10.173 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-13 02:29:10.208 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 02:29:10.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:29:10.226 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 02:29:10.277 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:10.364 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-13 02:29:10.378 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 02:29:10.390 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 02:29:10.448 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 02:29:10.764 +01:00 [INF] Fetched borrow history with 10 records for page 1
2025-04-13 02:29:10.768 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 02:29:10.814 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 875.2681ms
2025-04-13 02:29:10.814 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:29:10.817 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=10 - 200 3588 application/json; charset=utf-8 968.8187ms
2025-04-13 02:29:13.917 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:17.539 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:21.154 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:24.770 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:28.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:31.996 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:35.618 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:39.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:42.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:46.638 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:50.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:53.885 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:29:57.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:01.108 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:04.722 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:08.349 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:11.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:15.573 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:19.186 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:22.810 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:26.423 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:30.038 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:33.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:37.263 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:40.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:44.506 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:48.140 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:51.747 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:55.366 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:30:58.979 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:02.596 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:06.213 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:09.866 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:13.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:17.097 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:20.701 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:24.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:27.962 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:31.596 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:35.262 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:38.906 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:42.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:46.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:49.740 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:53.356 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:31:57.001 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:00.656 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:04.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:07.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:11.536 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:15.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:18.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:22.392 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:25.996 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:29.610 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:33.214 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:36.831 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:40.444 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:41.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 02:32:41.146 +01:00 [INF] CORS policy execution successful.
2025-04-13 02:32:41.146 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:32:41.147 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 02:32:41.172 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:32:41.180 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 02:32:41.204 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-13 02:32:41.211 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 02:32:41.215 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:32:41.221 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 02:32:41.230 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-13 02:32:41.239 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 02:32:41.256 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 02:32:41.282 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 02:32:41.306 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 02:32:41.307 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 02:32:41.313 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 166.2181ms
2025-04-13 02:32:41.313 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:32:41.315 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1901 application/json; charset=utf-8 185.5552ms
2025-04-13 02:32:43.352 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 02:32:43.352 +01:00 [INF] CORS policy execution successful.
2025-04-13 02:32:43.353 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:32:43.353 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 02:32:43.380 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:32:43.485 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 02:32:43.597 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-13 02:32:43.618 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 02:32:43.652 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:32:43.665 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 02:32:43.674 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-13 02:32:43.676 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 02:32:43.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 02:32:43.683 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 02:32:43.693 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 02:32:43.693 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 02:32:43.694 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 340.7638ms
2025-04-13 02:32:43.694 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:32:43.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1901 application/json; charset=utf-8 345.9829ms
2025-04-13 02:32:44.153 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:47.774 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:51.385 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:55.001 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:32:58.608 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:02.217 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:06.176 +01:00 [INF] Executed DbCommand (104ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:09.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:13.403 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:17.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:20.632 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:24.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:27.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:31.476 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:35.102 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:38.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:42.344 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:45.957 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:49.570 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:53.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:33:56.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:00.412 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:04.019 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:07.641 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:09.283 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-13 02:34:09.283 +01:00 [INF] CORS policy execution successful.
2025-04-13 02:34:09.283 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:34:09.285 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-13 02:34:09.360 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:34:09.372 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-13 02:34:09.380 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-13 02:34:09.384 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-13 02:34:09.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-13 02:34:09.391 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-13 02:34:09.405 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-13 02:34:09.422 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-13 02:34:09.449 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-13 02:34:09.459 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-13 02:34:09.464 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-13 02:34:09.465 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-13 02:34:09.466 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 180.1579ms
2025-04-13 02:34:09.466 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-13 02:34:09.466 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1901 application/json; charset=utf-8 183.4496ms
2025-04-13 02:34:11.249 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:14.866 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:18.480 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:22.084 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:25.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:29.311 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:32.927 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:36.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:40.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:43.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:47.377 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:50.992 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:54.606 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:34:58.220 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:01.836 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:05.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:09.072 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:12.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:16.301 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:19.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:23.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:27.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:30.734 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:34.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:37.966 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:41.573 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:45.180 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:48.792 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:52.418 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:56.028 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:35:59.648 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:03.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:06.873 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:10.539 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:14.158 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:17.770 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:21.378 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:24.990 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:28.598 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:32.203 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:35.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:39.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:43.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:46.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:50.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:53.846 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:36:57.459 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:01.082 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:04.695 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:08.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:11.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:15.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:19.154 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:22.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:26.389 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:30.004 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:33.615 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:37.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:40.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:44.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:48.048 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:51.663 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:55.279 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:37:58.897 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:38:02.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:38:06.131 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:38:09.997 +01:00 [INF] Executed DbCommand (164ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:38:13.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-13 02:38:17.234 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
