2025-04-22 07:37:02.475 +01:00 [INF] Executed DbCommand (102ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:06.180 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:09.819 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:13.528 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:17.153 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:20.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:24.373 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:27.989 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:31.605 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:35.222 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:38.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:42.515 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:46.127 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:49.738 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:53.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:37:56.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:00.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:04.178 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:07.782 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:11.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:15.018 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:18.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:21.862 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 07:38:21.862 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 07:38:21.929 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:21.929 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:21.934 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 72.0187ms
2025-04-22 07:38:21.935 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 74.0043ms
2025-04-22 07:38:21.948 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:38:21.950 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:38:21.958 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:21.962 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:22.168 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:22.168 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:22.235 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:22.235 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:22.299 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:22.336 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:38:22.337 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:38:22.427 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:38:22.430 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:38:22.693 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:38:22.693 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:38:23.066 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:38:23.067 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:23.072 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.073 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:23.082 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:38:23.084 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:38:23.084 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:23.084 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.084 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:23.088 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:38:23.097 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:38:23.106 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:38:23.107 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:38:23.113 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:38:23.261 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:38:23.302 +01:00 [INF] Executed DbCommand (102ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:38:23.306 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:38:23.313 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:38:23.413 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:38:23.4049674Z". Session will expire at "2025-04-22T07:38:22.7318651Z".
2025-04-22 07:38:23.416 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:38:23.4048063Z". Session will expire at "2025-04-22T07:38:23.1071462Z".
2025-04-22 07:38:23.416 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:38:23.4048217Z". Session will expire at "2025-04-22T07:38:23.1138452Z".
2025-04-22 07:38:23.420 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:38:23.4048868Z". Session will expire at "2025-04-22T07:38:22.7318726Z".
2025-04-22 07:38:23.435 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:23.435 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:23.435 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:23.435 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:23.677 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 584.9669ms
2025-04-22 07:38:23.677 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 1419.6567ms
2025-04-22 07:38:23.677 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 1433.0152ms
2025-04-22 07:38:23.677 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 596.5768ms
2025-04-22 07:38:23.678 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.678 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.678 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.678 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:38:23.693 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 1744.1603ms
2025-04-22 07:38:23.693 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 609.4334ms
2025-04-22 07:38:23.693 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 627.1561ms
2025-04-22 07:38:23.693 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 1746.0066ms
2025-04-22 07:38:25.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:28.292 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 07:38:28.293 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.293 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 1.0004ms
2025-04-22 07:38:28.298 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 07:38:28.299 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.359 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - null null
2025-04-22 07:38:28.359 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:38:28.359 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.359 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.360 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:38:28.360 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.5636ms
2025-04-22 07:38:28.360 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.360 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 1.8268ms
2025-04-22 07:38:28.360 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - 204 null null 1.9582ms
2025-04-22 07:38:28.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:38:28.381 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.395 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:38:28.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - application/json null
2025-04-22 07:38:28.396 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.398 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:28.472 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:28.472 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:38:28.475 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:38:28.478 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:28.478 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:28.485 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:38:28.527 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:38:28.528 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:38:28.548 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:38:28.552 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:38:28.559 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:28.568 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__usertype_0='?' (Size = 10), @__isAdmin_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE ([u].[UserType] = @__usertype_0 OR [u].[IsAdmin] = @__isAdmin_1) AND [u].[UserId] = @__userId_2
2025-04-22 07:38:28.569 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:38:28.570 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:28.574 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 95.5372ms
2025-04-22 07:38:28.574 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:38:28.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - 200 46 application/json; charset=utf-8 178.3158ms
2025-04-22 07:38:28.576 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:38:28.577 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:28.577 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 98.9892ms
2025-04-22 07:38:28.577 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:38:28.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 198.2021ms
2025-04-22 07:38:28.612 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:38:28.678 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:38:28.685 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:38:28.685 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:28.685 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 126.0794ms
2025-04-22 07:38:28.685 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:38:28.685 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 387.1431ms
2025-04-22 07:38:28.746 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:38:28.913 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:38:28.920 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:38:28.923 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:28.941 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 412.987ms
2025-04-22 07:38:28.942 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:28.942 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 547.1843ms
2025-04-22 07:38:29.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:33.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:36.806 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:40.408 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:44.021 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:45.125 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:38:45.125 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:45.126 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 7.8918ms
2025-04-22 07:38:45.142 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:38:45.142 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:45.144 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:38:45.145 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:45.190 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:38:45.197 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:38:45.204 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:38:45.210 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:38:45.210 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:45.210 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 65.3797ms
2025-04-22 07:38:45.211 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:38:45.211 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 69.1811ms
2025-04-22 07:38:47.163 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:38:47.163 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.166 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 2.9681ms
2025-04-22 07:38:47.166 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:38:47.166 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.167 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.643ms
2025-04-22 07:38:47.179 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:38:47.179 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.180 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.9098ms
2025-04-22 07:38:47.181 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - null null
2025-04-22 07:38:47.181 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.182 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - 204 null null 1.1508ms
2025-04-22 07:38:47.283 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:38:47.283 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.284 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:47.284 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:38:47.358 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:38:47.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:38:47.375 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.376 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:38:47.376 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:47.432 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:38:47.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - application/json null
2025-04-22 07:38:47.432 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.433 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:38:47.433 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:38:47.447 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:38:47.459 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:47.461 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 84.538ms
2025-04-22 07:38:47.461 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:38:47.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 87.049ms
2025-04-22 07:38:47.461 +01:00 [INF] Executed DbCommand (102ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:38:47.461 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:38:47.482 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__usertype_0='?' (Size = 10), @__isAdmin_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE ([u].[UserType] = @__usertype_0 OR [u].[IsAdmin] = @__isAdmin_1) AND [u].[UserId] = @__userId_2
2025-04-22 07:38:47.483 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:47.483 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 50.2667ms
2025-04-22 07:38:47.483 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:38:47.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student&isAdmin=true - 200 46 application/json; charset=utf-8 51.6155ms
2025-04-22 07:38:47.484 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:38:47.524 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:38:47.524 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:47.525 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 240.7981ms
2025-04-22 07:38:47.525 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:47.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 242.4156ms
2025-04-22 07:38:47.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:38:47.575 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.575 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:47.576 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:38:47.595 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:38:47.606 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:38:47.617 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:38:47.661 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:38:47.661 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:47.665 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 89.1507ms
2025-04-22 07:38:47.665 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:38:47.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 91.7473ms
2025-04-22 07:38:47.857 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - null null
2025-04-22 07:38:47.858 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.859 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - 204 null null 1.8208ms
2025-04-22 07:38:47.866 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:47.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - application/json null
2025-04-22 07:38:47.883 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:38:47.887 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:38:47.907 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:38:48.070 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:38:48.100 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:38:48.234 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
) AS [b0]
2025-04-22 07:38:48.261 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:38:48.276 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:38:48.307 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:38:48.344 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:38:48.361 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:38:48.374 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:38:48.416 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-22 07:38:48.527 +01:00 [INF] Fetched borrow history with 6 records for page 1
2025-04-22 07:38:48.528 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:38:48.580 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 672.1177ms
2025-04-22 07:38:48.581 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:38:48.581 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - 200 2261 application/json; charset=utf-8 705.6689ms
2025-04-22 07:38:51.503 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:55.113 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:38:58.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:02.343 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:05.948 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:09.794 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:13.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:17.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:20.610 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:24.290 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:27.900 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:31.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:35.106 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:38.714 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:42.317 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:45.126 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:39:45.127 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:39:45.128 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.4449ms
2025-04-22 07:39:45.131 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:39:45.131 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:39:45.135 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:39:45.135 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:39:45.139 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:39:45.144 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:39:45.149 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:39:45.151 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:39:45.152 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:39:45.152 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 17.1124ms
2025-04-22 07:39:45.152 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:39:45.153 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 22.1601ms
2025-04-22 07:39:45.940 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:49.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:53.178 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:39:56.796 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:00.431 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:04.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:07.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:11.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:14.911 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:18.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:22.190 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:25.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:29.571 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:33.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:36.832 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:40.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:44.055 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:45.129 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:40:45.130 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:40:45.130 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.7889ms
2025-04-22 07:40:45.134 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:40:45.134 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:40:45.135 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:40:45.135 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:40:45.139 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:40:45.146 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:40:45.154 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:40:45.158 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:40:45.158 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:40:45.159 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.592ms
2025-04-22 07:40:45.159 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:40:45.159 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 25.2283ms
2025-04-22 07:40:47.664 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:51.278 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:54.970 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:40:58.580 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:02.186 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:05.792 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:09.488 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:13.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:16.722 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:20.344 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:23.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:27.550 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:31.152 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:34.776 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:38.424 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:40.035 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 07:41:40.038 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.038 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 3.6373ms
2025-04-22 07:41:40.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:41:40.050 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.051 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 1.0376ms
2025-04-22 07:41:40.058 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:41:40.058 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.059 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.4561ms
2025-04-22 07:41:40.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:41:40.059 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.059 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3122ms
2025-04-22 07:41:40.064 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 07:41:40.064 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.065 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:41:40.066 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:40.116 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:41:40.117 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.117 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:41:40.117 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:40.125 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:41:40.169 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:41:40.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:41:40.184 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:41:40.184 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:41:40.184 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:41:40.185 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:40.185 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.185 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 67.5417ms
2025-04-22 07:41:40.185 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:41:40.185 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:40.185 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:40.185 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:41:40.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 68.8591ms
2025-04-22 07:41:40.186 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:41:40.186 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:40.201 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:41:40.207 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:41:40.215 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:41:40.216 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:40.214 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:41:40.216 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 150.3606ms
2025-04-22 07:41:40.216 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:41:40.217 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 152.6601ms
2025-04-22 07:41:40.225 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:41:40.225 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:40.226 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:40.226 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 27.9124ms
2025-04-22 07:41:40.226 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:41:40.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 56.7183ms
2025-04-22 07:41:40.240 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:41:40.247 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:41:40.247 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:40.248 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 62.478ms
2025-04-22 07:41:40.248 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:40.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 63.8416ms
2025-04-22 07:41:42.137 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:44.751 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:41:44.751 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.6306ms
2025-04-22 07:41:44.940 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - null null
2025-04-22 07:41:44.940 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.941 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - 204 null null 0.5353ms
2025-04-22 07:41:44.957 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:41:44.958 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.959 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:41:44.959 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:44.986 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:41:44.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:41:44.991 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:41:44.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - application/json null
2025-04-22 07:41:44.991 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.991 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:44.992 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:41:44.992 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:41:44.992 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:44.992 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:41:45.024 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:41:45.025 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:41:45.025 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:41:45.025 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:41:45.065 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:41:45.065 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.065 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:41:45.101 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 109.3524ms
2025-04-22 07:41:45.101 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:41:45.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 110.3962ms
2025-04-22 07:41:45.102 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:41:45.102 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:45.102 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:41:45.102 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:45.102 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:41:45.113 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:41:45.120 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:41:45.121 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.121 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 162.3735ms
2025-04-22 07:41:45.121 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:41:45.122 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 164.5456ms
2025-04-22 07:41:45.122 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:41:45.107 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:41:45.161 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:41:45.162 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.162 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 136.4413ms
2025-04-22 07:41:45.162 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:41:45.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 171.6266ms
2025-04-22 07:41:45.199 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:45.202 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
) AS [b0]
2025-04-22 07:41:45.222 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:45.224 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:41:45.348 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:41:45.349 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.349 +01:00 [INF] Executed DbCommand (125ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:41:45.349 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 247.0769ms
2025-04-22 07:41:45.349 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:45.350 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 248.2015ms
2025-04-22 07:41:45.490 +01:00 [INF] Executed DbCommand (141ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:41:45.532 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:41:45.567 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:41:45.591 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:45.618 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-22 07:41:45.692 +01:00 [INF] Fetched borrow history with 10 records for page 1
2025-04-22 07:41:45.692 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.696 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 704.4787ms
2025-04-22 07:41:45.696 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:41:45.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - 200 3571 application/json; charset=utf-8 705.6181ms
2025-04-22 07:41:45.815 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:41:45.815 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:45.815 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3877ms
2025-04-22 07:41:45.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:41:45.857 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:45.857 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:45.858 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:41:45.878 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:41:45.893 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:45.907 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:41:45.917 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:41:45.917 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:45.918 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 60.1098ms
2025-04-22 07:41:45.918 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:41:45.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 61.5008ms
2025-04-22 07:41:46.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - application/json null
2025-04-22 07:41:46.217 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:41:46.217 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:41:46.217 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:41:46.222 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:46.288 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:41:46.400 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:41:46.437 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
) AS [b0]
2025-04-22 07:41:46.470 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:46.491 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:41:46.519 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:41:46.559 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:41:46.597 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:41:46.632 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:41:46.702 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-22 07:41:46.775 +01:00 [INF] Fetched borrow history with 10 records for page 1
2025-04-22 07:41:46.775 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:41:46.779 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 561.7881ms
2025-04-22 07:41:46.780 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:41:46.780 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=true - 200 3571 application/json; charset=utf-8 563.2939ms
2025-04-22 07:41:49.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:53.513 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:41:57.131 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:00.761 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:04.790 +01:00 [INF] Executed DbCommand (282ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:08.413 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:10.219 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:42:10.220 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.227 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 7.9392ms
2025-04-22 07:42:10.232 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - null null
2025-04-22 07:42:10.232 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.232 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - 204 null null 0.5445ms
2025-04-22 07:42:10.233 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:10.233 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.233 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4353ms
2025-04-22 07:42:10.233 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:10.234 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.234 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.6009ms
2025-04-22 07:42:10.234 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:10.234 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.235 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:10.235 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:10.252 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:10.263 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:10.280 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:10.307 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:10.307 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:10.307 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 72.5557ms
2025-04-22 07:42:10.308 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:10.308 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 73.5429ms
2025-04-22 07:42:10.308 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - application/json null
2025-04-22 07:42:10.308 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.309 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:10.309 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:10.328 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:10.375 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__usertype_0='?' (Size = 10), @__isAdmin_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE ([u].[UserType] = @__usertype_0 OR [u].[IsAdmin] = @__isAdmin_1) AND [u].[UserId] = @__userId_2
2025-04-22 07:42:10.375 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-22 07:42:10.382 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.382 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 204 null null 7.2192ms
2025-04-22 07:42:10.382 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:10.382 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.383 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:10.383 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:10.397 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:10.417 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:10.417 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:10.417 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 34.3736ms
2025-04-22 07:42:10.417 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:10.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 35.512ms
2025-04-22 07:42:10.425 +01:00 [WRN] No login record found for UserId: 22/2464.
2025-04-22 07:42:10.426 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-04-22 07:42:10.428 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 118.9659ms
2025-04-22 07:42:10.428 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:10.428 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - 404 null text/plain; charset=utf-8 120.1396ms
2025-04-22 07:42:10.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-22 07:42:10.433 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.433 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:10.433 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:10.543 +01:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-22 07:42:10.562 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:10.575 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:10.615 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:10.615 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-22 07:42:10.615 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:10.615 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:10.621 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-22 07:42:10.623 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:10.637 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-22 07:42:10.653 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:10.657 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:10.670 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:10.680 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:10.684 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:10.684 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:10.685 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:10.686 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 70.5659ms
2025-04-22 07:42:10.686 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:10.686 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 111.419ms
2025-04-22 07:42:10.693 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:10.715 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-22 07:42:10.720 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-22 07:42:10.721 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:10.722 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 288.9462ms
2025-04-22 07:42:10.722 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:10.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1858 application/json; charset=utf-8 290.6421ms
2025-04-22 07:42:12.035 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:15.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:19.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:22.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:23.755 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 07:42:23.755 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:23.756 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 07:42:23.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 0.5963ms
2025-04-22 07:42:23.757 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:23.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 1.7536ms
2025-04-22 07:42:23.759 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:42:23.759 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:23.759 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:42:23.760 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:23.760 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 07:42:23.760 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:23.762 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:42:23.763 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:42:23.763 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:23.767 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 07:42:23.772 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:42:23.772 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 07:42:23.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:42:23.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 07:42:23.785 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:42:23.789 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:42:23.7864967Z". Session will expire at "2025-04-22T07:42:23.7757590Z".
2025-04-22 07:42:23.789 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 07:42:23.789 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:23.790 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 30.2245ms
2025-04-22 07:42:23.790 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:42:23.790 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 498 application/json; charset=utf-8 31.6669ms
2025-04-22 07:42:23.796 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T06:42:23.7938721Z". Session will expire at "2025-04-22T07:42:23.7757590Z".
2025-04-22 07:42:23.797 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:23.797 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 33.5034ms
2025-04-22 07:42:23.797 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 07:42:23.797 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 498 application/json; charset=utf-8 37.6054ms
2025-04-22 07:42:26.471 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:26.799 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 07:42:26.799 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.800 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.8591ms
2025-04-22 07:42:26.805 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 07:42:26.805 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.807 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:26.808 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:26.822 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:26.822 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.822 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:26.822 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5351ms
2025-04-22 07:42:26.825 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:42:26.826 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.826 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.3468ms
2025-04-22 07:42:26.826 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:26.826 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.826 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.313ms
2025-04-22 07:42:26.830 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:26.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:26.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:26.832 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.832 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.833 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:26.833 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:26.833 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:26.870 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:26.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:26.837 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:26.870 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:26.870 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:26.875 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:26.875 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:26.875 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:26.880 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:26.880 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:26.886 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:26.886 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 77.6327ms
2025-04-22 07:42:26.886 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:26.886 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 81.3357ms
2025-04-22 07:42:26.887 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:26.888 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:26.888 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 8.643ms
2025-04-22 07:42:26.888 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:26.888 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 18.6496ms
2025-04-22 07:42:26.892 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:26.892 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:26.892 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:26.899 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 23.7071ms
2025-04-22 07:42:26.904 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:26.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 71.5594ms
2025-04-22 07:42:26.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:26.909 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:26.910 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:26.910 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 77.3605ms
2025-04-22 07:42:26.911 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:26.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 78.9306ms
2025-04-22 07:42:30.118 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:33.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:35.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:42:35.052 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.052 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5759ms
2025-04-22 07:42:35.053 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:42:35.053 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.056 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 3.0745ms
2025-04-22 07:42:35.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:35.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:35.059 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.059 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.059 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.224ms
2025-04-22 07:42:35.059 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.4649ms
2025-04-22 07:42:35.060 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:35.060 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:35.060 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.060 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.060 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:35.060 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:35.060 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:35.060 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:35.077 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:35.088 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:35.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:35.090 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.090 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:35.091 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:35.093 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:35.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:35.093 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:35.095 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:35.095 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.093 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.095 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 34.9551ms
2025-04-22 07:42:35.095 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:35.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 35.8866ms
2025-04-22 07:42:35.096 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:35.096 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:35.105 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:35.106 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:35.109 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:35.109 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.110 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:35.110 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 49.6305ms
2025-04-22 07:42:35.110 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:35.110 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 50.5124ms
2025-04-22 07:42:35.113 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:35.113 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.113 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 16.8174ms
2025-04-22 07:42:35.113 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:35.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 23.8667ms
2025-04-22 07:42:35.119 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:35.124 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:35.125 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.125 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 34.4925ms
2025-04-22 07:42:35.125 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:35.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 35.8548ms
2025-04-22 07:42:35.140 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - null null
2025-04-22 07:42:35.140 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.141 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - 204 null null 0.43ms
2025-04-22 07:42:35.145 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - application/json null
2025-04-22 07:42:35.145 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.146 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:35.146 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:35.158 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:42:35.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:35.171 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
) AS [b0]
2025-04-22 07:42:35.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:35.174 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
2025-04-22 07:42:35.180 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:35.190 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:35.198 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:35.207 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:35.213 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0_contains='?' (Size = 20), @__IsOnline_Value_1='?' (DbType = Boolean), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [b].[IsOnline] = @__IsOnline_Value_1
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-22 07:42:35.220 +01:00 [INF] Fetched borrow history with 6 records for page 1
2025-04-22 07:42:35.221 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.222 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 75.5556ms
2025-04-22 07:42:35.222 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:35.222 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22/2464&serialnumber=&overdue=&IsReturned=&startDate=&endDate=&Department=&School=&pageNumber=1&pageSize=10&IsOnline=false - 200 2261 application/json; charset=utf-8 77.1613ms
2025-04-22 07:42:35.365 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:35.366 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:35.367 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:35.367 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:35.372 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:35.375 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:35.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:35.386 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:35.386 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:35.387 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 19.5031ms
2025-04-22 07:42:35.387 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:35.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 22.2975ms
2025-04-22 07:42:37.415 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:40.944 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:42:40.944 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:42:40.944 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.944 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.944 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.3493ms
2025-04-22 07:42:40.944 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.364ms
2025-04-22 07:42:40.944 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:40.944 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.945 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.8623ms
2025-04-22 07:42:40.954 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - null null
2025-04-22 07:42:40.954 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.955 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - 204 null null 0.7762ms
2025-04-22 07:42:40.957 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:40.957 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.957 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:40.957 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:40.958 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:40.958 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:40.959 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:40.959 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:40.959 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:40.962 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:40.962 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.002 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:41.002 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:41.002 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:41.005 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:41.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - application/json null
2025-04-22 07:42:41.005 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.006 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:41.006 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:41.007 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:41.007 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.008 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 48.9901ms
2025-04-22 07:42:41.008 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:41.008 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 51.0237ms
2025-04-22 07:42:41.009 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:41.009 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.010 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 7.6625ms
2025-04-22 07:42:41.010 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:41.010 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 51.2539ms
2025-04-22 07:42:41.010 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:41.016 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:41.016 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.017 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 58.1622ms
2025-04-22 07:42:41.017 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:41.017 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 60.1812ms
2025-04-22 07:42:41.024 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.035 +01:00 [INF] Fetching books with search: null, sort: Id, order: asc, filter: null, page: 1, pageSize: 5
2025-04-22 07:42:41.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:41.043 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.058 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
ORDER BY [b].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-22 07:42:41.089 +01:00 [INF] Fetched 11 books, page 1 of 3.
2025-04-22 07:42:41.090 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Library.Models.Book, Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.105 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBooks (Library) in 80.7331ms
2025-04-22 07:42:41.105 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:41.106 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - 200 4226 application/json; charset=utf-8 100.4528ms
2025-04-22 07:42:41.111 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:41.111 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.111 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 204 null null 0.3054ms
2025-04-22 07:42:41.115 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:41.115 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.116 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.116 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.127 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.138 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:41.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.153 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:41.163 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:41.163 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.166 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 2.6127ms
2025-04-22 07:42:41.169 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:41.169 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.170 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:41.170 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:41.174 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:41.175 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:41.176 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.178 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:41.184 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:41.185 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.185 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.782ms
2025-04-22 07:42:41.186 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:41.186 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 17.0021ms
2025-04-22 07:42:41.193 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:41.204 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.223 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:41.227 +01:00 [INF] Fetched borrow history with 1 records for page 1
2025-04-22 07:42:41.228 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.233 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 116.5769ms
2025-04-22 07:42:41.233 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 200 546 application/json; charset=utf-8 119.5872ms
2025-04-22 07:42:41.241 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - null null
2025-04-22 07:42:41.241 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.241 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - 204 null null 0.3616ms
2025-04-22 07:42:41.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - application/json null
2025-04-22 07:42:41.250 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.250 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.253 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.270 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:41.274 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:41.292 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 39.3034ms
2025-04-22 07:42:41.292 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.293 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - 200 14819 image/png 43.2754ms
2025-04-22 07:42:41.303 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:41.303 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.303 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 204 null null 0.3799ms
2025-04-22 07:42:41.308 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:41.308 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.308 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.308 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:41.337 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.339 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:41.346 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:41.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:41.359 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:41.368 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:41.369 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.370 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 62.1369ms
2025-04-22 07:42:41.371 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.371 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 63.6354ms
2025-04-22 07:42:41.379 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - null null
2025-04-22 07:42:41.379 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.382 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - 204 null null 0.7557ms
2025-04-22 07:42:41.391 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - application/json null
2025-04-22 07:42:41.391 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.392 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.392 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.394 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:41.395 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:41.397 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.4174ms
2025-04-22 07:42:41.397 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - 200 21259 image/png 8.3943ms
2025-04-22 07:42:41.407 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:41.407 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.408 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 204 null null 0.4415ms
2025-04-22 07:42:41.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:41.419 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.420 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.421 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.424 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.426 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.428 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:41.432 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.434 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:41.437 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:41.439 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:41.441 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.443 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:41.447 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:41.448 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.449 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 28.4381ms
2025-04-22 07:42:41.450 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.450 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 31.112ms
2025-04-22 07:42:41.456 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - null null
2025-04-22 07:42:41.457 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.457 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - 204 null null 0.6937ms
2025-04-22 07:42:41.462 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - application/json null
2025-04-22 07:42:41.462 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.462 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.462 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:41.467 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:41.468 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 5.4559ms
2025-04-22 07:42:41.468 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - 200 21265 image/png 7.188ms
2025-04-22 07:42:41.475 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:41.475 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.475 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 204 null null 0.4834ms
2025-04-22 07:42:41.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:41.486 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.486 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.487 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.490 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.492 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.496 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:41.500 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.502 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:41.506 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:41.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:41.509 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:41.518 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:41.518 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.519 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 32.4046ms
2025-04-22 07:42:41.520 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.520 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 34.4741ms
2025-04-22 07:42:41.530 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - null null
2025-04-22 07:42:41.530 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.531 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - 204 null null 1.0052ms
2025-04-22 07:42:41.543 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - application/json null
2025-04-22 07:42:41.543 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.544 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.545 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.552 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:41.553 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:41.554 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 8.7926ms
2025-04-22 07:42:41.556 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.556 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - 200 7862 image/png 13.5632ms
2025-04-22 07:42:41.567 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:41.567 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.567 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 204 null null 0.4263ms
2025-04-22 07:42:41.573 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:41.573 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.574 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.574 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.583 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:41.587 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:41.589 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:41.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:41.600 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:41.604 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:41.608 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:41.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:41.619 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:41.619 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:41.620 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 46.4734ms
2025-04-22 07:42:41.620 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:41.621 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 47.8616ms
2025-04-22 07:42:41.636 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - null null
2025-04-22 07:42:41.637 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.637 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - 204 null null 1.172ms
2025-04-22 07:42:41.643 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - application/json null
2025-04-22 07:42:41.643 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:41.643 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.644 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:41.660 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:41.661 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:41.662 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 18.5329ms
2025-04-22 07:42:41.662 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:41.663 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - 200 17951 image/png 19.9278ms
2025-04-22 07:42:44.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:44.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:44.749 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:44.749 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/9780486136738 - null null
2025-04-22 07:42:44.749 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:44.749 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.749 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.750 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.750 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/9780486136738 - 204 null null 0.6907ms
2025-04-22 07:42:44.750 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:44.750 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:44.750 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:44.750 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:44.782 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:44.782 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/9780486136738 - application/json null
2025-04-22 07:42:44.782 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:44.782 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.782 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:44.783 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:42:44.787 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:44.787 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:44.789 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:44.790 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 40.1344ms
2025-04-22 07:42:44.791 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:44.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 41.4557ms
2025-04-22 07:42:44.791 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:44.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:44.793 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:44.793 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:44.793 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 11.0286ms
2025-04-22 07:42:44.793 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:44.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 44.1816ms
2025-04-22 07:42:44.798 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:44.802 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:44.805 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:44.805 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:44.806 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 54.9656ms
2025-04-22 07:42:44.809 +01:00 [INF] Fetching book with serial number: 9780486136738
2025-04-22 07:42:44.809 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:44.809 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 59.7595ms
2025-04-22 07:42:44.871 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:44.875 +01:00 [INF] Fetched book details for serial number: 9780486136738
2025-04-22 07:42:44.875 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:44.882 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 84.5683ms
2025-04-22 07:42:44.882 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:42:44.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/9780486136738 - 200 762 application/json; charset=utf-8 101.0698ms
2025-04-22 07:42:44.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:44.890 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.891 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:44.891 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:44.892 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/image/9780486136738 - null null
2025-04-22 07:42:44.895 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:44.894 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.895 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/image/9780486136738 - 204 null null 3.4474ms
2025-04-22 07:42:44.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:44.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/image/9780486136738 - application/json null
2025-04-22 07:42:44.901 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:44.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:44.901 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:44.905 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:44.905 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:44.905 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:44.906 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 14.1972ms
2025-04-22 07:42:44.906 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:44.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 16.1546ms
2025-04-22 07:42:44.907 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:44.908 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:44.909 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.6915ms
2025-04-22 07:42:44.909 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:44.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/image/9780486136738 - 200 21259 image/png 9.5361ms
2025-04-22 07:42:47.712 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:42:47.717 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 5.2717ms
2025-04-22 07:42:47.712 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:42:47.717 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.718 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 5.901ms
2025-04-22 07:42:47.721 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:47.721 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.721 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.4465ms
2025-04-22 07:42:47.724 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - null null
2025-04-22 07:42:47.724 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.724 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - 204 null null 0.4853ms
2025-04-22 07:42:47.727 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:47.727 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.727 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:47.728 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:47.740 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:47.742 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - application/json null
2025-04-22 07:42:47.742 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.742 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:47.742 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.749 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:47.750 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:47.751 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.751 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:47.751 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:47.751 +01:00 [INF] Fetching books with search: null, sort: Id, order: asc, filter: null, page: 1, pageSize: 5
2025-04-22 07:42:47.754 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:47.760 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:47.760 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.761 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 32.9152ms
2025-04-22 07:42:47.761 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:47.761 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 34.293ms
2025-04-22 07:42:47.756 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:47.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:47.768 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.768 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:47.768 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:47.772 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:47.772 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.773 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 21.5464ms
2025-04-22 07:42:47.773 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:47.773 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:47.773 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 22.6318ms
2025-04-22 07:42:47.773 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:47.777 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
ORDER BY [b].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-22 07:42:47.777 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:47.778 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.784 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 15.7745ms
2025-04-22 07:42:47.784 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:47.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 16.7551ms
2025-04-22 07:42:47.787 +01:00 [INF] Fetched 11 books, page 1 of 3.
2025-04-22 07:42:47.789 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Library.Models.Book, Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.790 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBooks (Library) in 47.9639ms
2025-04-22 07:42:47.790 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:47.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=1&pageSize=5 - 200 4226 application/json; charset=utf-8 49.1266ms
2025-04-22 07:42:47.800 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:47.801 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.801 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 204 null null 0.3769ms
2025-04-22 07:42:47.805 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:47.805 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.806 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:47.806 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.809 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:47.815 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:47.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:47.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:47.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:47.822 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:47.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:47.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:47.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:47.838 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:47.843 +01:00 [INF] Fetched borrow history with 1 records for page 1
2025-04-22 07:42:47.844 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.844 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 38.5224ms
2025-04-22 07:42:47.844 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:47.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781951693008&IsReturned=false&IsOnline=false - 200 546 application/json; charset=utf-8 39.6698ms
2025-04-22 07:42:47.859 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - null null
2025-04-22 07:42:47.860 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.861 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781951693008 - 204 null null 0.4594ms
2025-04-22 07:42:47.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - application/json null
2025-04-22 07:42:47.870 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.871 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:47.871 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.874 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:47.875 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:47.876 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.9765ms
2025-04-22 07:42:47.876 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:47.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781951693008 - 200 14819 image/png 6.5222ms
2025-04-22 07:42:47.885 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:47.885 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.885 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 204 null null 0.3997ms
2025-04-22 07:42:47.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:47.888 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.889 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:47.889 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:47.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:47.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:47.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:47.902 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:47.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:47.906 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:47.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:47.914 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:47.920 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:47.924 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:47.924 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:47.925 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 35.8103ms
2025-04-22 07:42:47.925 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:47.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780486136738&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 38.125ms
2025-04-22 07:42:47.934 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - null null
2025-04-22 07:42:47.934 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.935 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780486136738 - 204 null null 0.8902ms
2025-04-22 07:42:47.939 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - application/json null
2025-04-22 07:42:47.939 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.940 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:47.940 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.942 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:47.943 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:47.944 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.1139ms
2025-04-22 07:42:47.944 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:47.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780486136738 - 200 21259 image/png 5.995ms
2025-04-22 07:42:47.959 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:47.959 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.959 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 204 null null 0.3851ms
2025-04-22 07:42:47.974 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:47.974 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.975 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:47.976 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:47.992 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:47.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:47.998 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:47.998 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:47.999 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.3848ms
2025-04-22 07:42:47.999 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:48.002 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.006 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:48.006 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.007 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:48.007 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:48.011 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:48.011 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:48.018 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:48.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:48.023 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:48.027 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:48.027 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:48.029 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 21.7094ms
2025-04-22 07:42:48.029 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:48.030 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 27.3905ms
2025-04-22 07:42:48.035 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:48.038 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:48.044 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:48.044 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:48.045 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 69.409ms
2025-04-22 07:42:48.046 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:48.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780744050769&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 72.9071ms
2025-04-22 07:42:48.058 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - null null
2025-04-22 07:42:48.058 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.059 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780744050769 - 204 null null 0.4069ms
2025-04-22 07:42:48.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - application/json null
2025-04-22 07:42:48.066 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.066 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.066 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:48.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:48.070 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:48.071 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.7152ms
2025-04-22 07:42:48.071 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780744050769 - 200 21265 image/png 5.6788ms
2025-04-22 07:42:48.089 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:48.089 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.090 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 204 null null 0.7564ms
2025-04-22 07:42:48.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:48.112 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.114 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:48.114 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:48.124 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:48.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:48.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:48.132 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.134 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:48.136 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:48.138 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:48.139 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:48.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.143 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:48.148 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:48.149 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:48.149 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 34.7335ms
2025-04-22 07:42:48.149 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:48.151 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9781680921175&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 39.3503ms
2025-04-22 07:42:48.158 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - null null
2025-04-22 07:42:48.158 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.158 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9781680921175 - 204 null null 0.4263ms
2025-04-22 07:42:48.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - application/json null
2025-04-22 07:42:48.161 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.162 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.162 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:48.166 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:48.167 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:48.168 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 5.9194ms
2025-04-22 07:42:48.168 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.168 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9781680921175 - 200 7862 image/png 7.2803ms
2025-04-22 07:42:48.175 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:48.175 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.176 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 204 null null 0.5575ms
2025-04-22 07:42:48.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:48.179 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.179 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:48.179 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:48.185 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:48.190 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:48.193 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:48.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:48.205 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:48.207 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:48.209 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:48.211 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:48.220 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:48.224 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:48.224 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:48.225 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 45.6156ms
2025-04-22 07:42:48.225 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:48.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=3030706680&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 46.9524ms
2025-04-22 07:42:48.233 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - null null
2025-04-22 07:42:48.233 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.233 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/3030706680 - 204 null null 0.4858ms
2025-04-22 07:42:48.237 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - application/json null
2025-04-22 07:42:48.237 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:48.238 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.239 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:48.241 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:48.242 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:48.243 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.1263ms
2025-04-22 07:42:48.243 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:48.243 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/3030706680 - 200 17951 image/png 6.8448ms
2025-04-22 07:42:48.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:50.124 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=2&pageSize=5 - null null
2025-04-22 07:42:50.124 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.125 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=2&pageSize=5 - 204 null null 1.1143ms
2025-04-22 07:42:50.128 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=2&pageSize=5 - application/json null
2025-04-22 07:42:50.128 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.131 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:50.132 +01:00 [INF] Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks(System.String, System.String, System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.136 +01:00 [INF] Fetching books with search: null, sort: Id, order: asc, filter: null, page: 2, pageSize: 5
2025-04-22 07:42:50.138 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.151 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
ORDER BY [b].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-04-22 07:42:50.156 +01:00 [INF] Fetched 11 books, page 2 of 3.
2025-04-22 07:42:50.156 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Library.Models.Book, Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.157 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBooks (Library) in 25.5107ms
2025-04-22 07:42:50.157 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBooks (Library)'
2025-04-22 07:42:50.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/books?search=&sort=Id&order=asc&filter=&pageNumber=2&pageSize=5 - 200 3141 application/json; charset=utf-8 30.0669ms
2025-04-22 07:42:50.164 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:50.164 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.164 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - 204 null null 0.3847ms
2025-04-22 07:42:50.168 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:50.168 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.169 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.169 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.174 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.176 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:50.180 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.182 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.183 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:50.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:50.187 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:50.189 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:50.195 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:50.196 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.196 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 27.0566ms
2025-04-22 07:42:50.197 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=0486468984&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 29.0655ms
2025-04-22 07:42:50.202 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/0486468984 - null null
2025-04-22 07:42:50.202 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.203 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/0486468984 - 204 null null 0.4455ms
2025-04-22 07:42:50.206 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/0486468984 - application/json null
2025-04-22 07:42:50.206 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.207 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.207 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:50.210 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:50.211 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.1173ms
2025-04-22 07:42:50.212 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/0486468984 - 200 31385 image/png 5.9445ms
2025-04-22 07:42:50.219 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:50.219 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.219 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - 204 null null 0.509ms
2025-04-22 07:42:50.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:50.230 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.231 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.231 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:50.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.247 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:50.249 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:50.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:50.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:50.260 +01:00 [INF] Fetched borrow history with 1 records for page 1
2025-04-22 07:42:50.260 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.261 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 29.5171ms
2025-04-22 07:42:50.261 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.261 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK1&IsReturned=false&IsOnline=false - 200 538 application/json; charset=utf-8 31.6723ms
2025-04-22 07:42:50.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK1 - null null
2025-04-22 07:42:50.271 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.272 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK1 - 204 null null 0.8134ms
2025-04-22 07:42:50.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/BOOK1 - application/json null
2025-04-22 07:42:50.276 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.277 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.277 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.280 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:50.281 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:50.282 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 5.1629ms
2025-04-22 07:42:50.282 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.283 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/BOOK1 - 200 9792 image/png 7.46ms
2025-04-22 07:42:50.288 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:50.288 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.288 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - 204 null null 0.377ms
2025-04-22 07:42:50.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:50.291 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.292 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.292 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.296 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.298 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.300 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:50.303 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.305 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:50.311 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:50.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:50.317 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:50.324 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:50.325 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.326 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 33.4238ms
2025-04-22 07:42:50.326 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BOOK2&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 35.2566ms
2025-04-22 07:42:50.334 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK2 - null null
2025-04-22 07:42:50.334 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.334 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/BOOK2 - 204 null null 0.5674ms
2025-04-22 07:42:50.342 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/BOOK2 - application/json null
2025-04-22 07:42:50.342 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.342 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.342 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:50.346 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:50.347 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 5.0693ms
2025-04-22 07:42:50.348 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/BOOK2 - 200 9487 image/png 6.361ms
2025-04-22 07:42:50.354 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:50.354 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.355 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - 204 null null 0.3637ms
2025-04-22 07:42:50.359 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:50.360 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.360 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.360 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.370 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.372 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.376 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:50.381 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.384 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:50.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:50.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:50.391 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:50.400 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:50.400 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.401 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 40.2625ms
2025-04-22 07:42:50.401 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.402 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=9780890514665&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 42.1705ms
2025-04-22 07:42:50.408 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780890514665 - null null
2025-04-22 07:42:50.408 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.408 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/9780890514665 - 204 null null 0.4655ms
2025-04-22 07:42:50.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/9780890514665 - application/json null
2025-04-22 07:42:50.416 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.416 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.416 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.419 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:50.420 +01:00 [INF] Executing FileStreamResult, sending file with download name '' ...
2025-04-22 07:42:50.421 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 4.1575ms
2025-04-22 07:42:50.421 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.421 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/9780890514665 - 200 26083 image/png 5.5726ms
2025-04-22 07:42:50.427 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BK-001&IsReturned=false&IsOnline=false - null null
2025-04-22 07:42:50.428 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BK-001&IsReturned=false&IsOnline=false - 204 null null 0.3479ms
2025-04-22 07:42:50.442 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BK-001&IsReturned=false&IsOnline=false - application/json null
2025-04-22 07:42:50.442 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.442 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.443 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.450 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.451 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 07:42:50.454 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
    WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
) AS [b0]
2025-04-22 07:42:50.457 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.460 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
2025-04-22 07:42:50.466 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 07:42:50.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[Overdue] = CAST(1 AS bit)
2025-04-22 07:42:50.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 07:42:50.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:50.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialnumber_0_contains='?' (Size = 4000), @__UserId_1_contains='?' (Size = 20), @__IsReturned_Value_2='?' (DbType = Boolean), @__IsOnline_Value_3='?' (DbType = Boolean), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
WHERE [b].[SerialNumber] LIKE @__serialnumber_0_contains ESCAPE N'\' AND [b].[UserId] LIKE @__UserId_1_contains ESCAPE N'\' AND [b].[IsReturned] = @__IsReturned_Value_2 AND [b].[IsOnline] = @__IsOnline_Value_3
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
2025-04-22 07:42:50.483 +01:00 [INF] Fetched borrow history with 0 records for page 1
2025-04-22 07:42:50.483 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.484 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 40.8945ms
2025-04-22 07:42:50.484 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 07:42:50.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?UserId=22%2F2464&serialnumber=BK-001&IsReturned=false&IsOnline=false - 200 230 application/json; charset=utf-8 42.3031ms
2025-04-22 07:42:50.493 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/books/image/BK-001 - null null
2025-04-22 07:42:50.494 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.494 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/books/image/BK-001 - 204 null null 0.5936ms
2025-04-22 07:42:50.502 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/books/image/BK-001 - application/json null
2025-04-22 07:42:50.502 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:50.503 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.503 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:50.506 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:50.511 +01:00 [WRN] Image file does not exist for path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library\wwwroot\images\ai-book.jpg
2025-04-22 07:42:50.511 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType15`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:50.514 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 10.5738ms
2025-04-22 07:42:50.514 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:50.514 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/books/image/BK-001 - 404 177 application/json; charset=utf-8 12.1594ms
2025-04-22 07:42:52.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:54.270 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:42:54.270 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.270 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.5509ms
2025-04-22 07:42:54.270 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:42:54.271 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.271 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 1.1446ms
2025-04-22 07:42:54.274 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:42:54.274 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.274 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.388ms
2025-04-22 07:42:54.276 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - null null
2025-04-22 07:42:54.276 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.277 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:42:54.277 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - 204 null null 0.6557ms
2025-04-22 07:42:54.277 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.277 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:54.277 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:54.287 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:42:54.287 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:42:54.287 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.287 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:42:54.287 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:54.288 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.288 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:54.288 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:54.288 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:42:54.292 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:54.292 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/BK-001 - application/json null
2025-04-22 07:42:54.294 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.297 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:42:54.297 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:54.298 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:42:54.299 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:42:54.302 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:42:54.304 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:42:54.304 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.304 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:42:54.305 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.307 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 18.8611ms
2025-04-22 07:42:54.307 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:42:54.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 19.7462ms
2025-04-22 07:42:54.307 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 18.9744ms
2025-04-22 07:42:54.314 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:42:54.314 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:42:54.314 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.314 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 26.6611ms
2025-04-22 07:42:54.314 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 35.0519ms
2025-04-22 07:42:54.314 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:42:54.314 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 37.9498ms
2025-04-22 07:42:54.310 +01:00 [INF] Fetching book with serial number: BK-001
2025-04-22 07:42:54.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:54.322 +01:00 [INF] Fetched book details for serial number: BK-001
2025-04-22 07:42:54.322 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.323 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 26.0081ms
2025-04-22 07:42:54.323 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:42:54.324 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/BK-001 - 200 236 application/json; charset=utf-8 33.5588ms
2025-04-22 07:42:54.332 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - null null
2025-04-22 07:42:54.332 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.333 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - 204 null null 0.3411ms
2025-04-22 07:42:54.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - application/json null
2025-04-22 07:42:54.339 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.339 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:54.339 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:42:54.342 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:42:54.349 +01:00 [WRN] Image file does not exist for path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library\wwwroot\images\ai-book.jpg
2025-04-22 07:42:54.349 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType15`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.350 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 10.3157ms
2025-04-22 07:42:54.350 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:42:54.350 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - 404 177 application/json; charset=utf-8 11.8685ms
2025-04-22 07:42:54.402 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:42:54.402 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.402 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4252ms
2025-04-22 07:42:54.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:42:54.405 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:42:54.405 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:54.405 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:42:54.409 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:42:54.414 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:42:54.418 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:42:54.422 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:42:54.423 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:42:54.423 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 17.414ms
2025-04-22 07:42:54.423 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:42:54.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 19.0407ms
2025-04-22 07:42:55.660 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:42:59.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:02.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:06.486 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:10.096 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:13.714 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:17.328 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:20.939 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:24.553 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:28.156 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:31.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:35.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:38.998 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:42.602 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:46.216 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:49.816 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:53.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:43:54.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:43:54.271 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:43:54.271 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 1.009ms
2025-04-22 07:43:54.278 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:43:54.278 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:43:54.279 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:43:54.279 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:43:54.285 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:43:54.290 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:43:54.294 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:43:54.297 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:43:54.297 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:43:54.298 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 19.2784ms
2025-04-22 07:43:54.298 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:43:54.298 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 20.6205ms
2025-04-22 07:43:57.061 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:00.667 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:04.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:07.889 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:11.496 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:15.119 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:18.878 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:22.496 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:26.110 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:29.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:33.333 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:36.937 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:40.539 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:44.150 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:47.754 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:51.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:54.292 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:44:54.292 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:44:54.292 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.3901ms
2025-04-22 07:44:54.299 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:44:54.299 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:44:54.301 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:44:54.301 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:44:54.318 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:44:54.325 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:44:54.342 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:44:54.347 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:44:54.347 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:44:54.347 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 45.791ms
2025-04-22 07:44:54.347 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:44:54.347 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 48.6194ms
2025-04-22 07:44:55.189 +01:00 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:44:58.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:02.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:06.024 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:09.634 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:13.247 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:16.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:17.007 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:45:17.007 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.007 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4004ms
2025-04-22 07:45:17.034 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:45:17.034 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.035 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:17.036 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:17.041 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:45:17.042 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - null null
2025-04-22 07:45:17.042 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.042 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - 204 null null 0.3412ms
2025-04-22 07:45:17.050 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:45:17.056 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:45:17.069 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:45:17.118 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:45:17.118 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.071 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.118 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/BK-001 - application/json null
2025-04-22 07:45:17.118 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:45:17.126 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.126 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 89.9822ms
2025-04-22 07:45:17.126 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 56.9644ms
2025-04-22 07:45:17.126 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:17.126 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 47.8195ms
2025-04-22 07:45:17.126 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:45:17.126 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 91.9373ms
2025-04-22 07:45:17.126 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.126 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:17.126 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:45:17.126 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:17.126 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:45:17.134 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:17.138 +01:00 [INF] Fetching book with serial number: BK-001
2025-04-22 07:45:17.149 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:45:17.149 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.149 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:17.149 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:17.157 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:45:17.160 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:17.166 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:45:17.167 +01:00 [INF] Fetched book details for serial number: BK-001
2025-04-22 07:45:17.167 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.183 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 56.2755ms
2025-04-22 07:45:17.183 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:17.183 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 57.217ms
2025-04-22 07:45:17.183 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.184 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 56.9355ms
2025-04-22 07:45:17.184 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:45:17.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/BK-001 - 200 236 application/json; charset=utf-8 65.5926ms
2025-04-22 07:45:17.191 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:45:17.191 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.191 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 41.869ms
2025-04-22 07:45:17.191 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:17.192 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 42.8163ms
2025-04-22 07:45:17.193 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - null null
2025-04-22 07:45:17.194 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.194 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - 204 null null 1.1619ms
2025-04-22 07:45:17.199 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - application/json null
2025-04-22 07:45:17.199 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.200 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:45:17.200 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:45:17.204 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:45:17.208 +01:00 [WRN] Image file does not exist for path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library\wwwroot\images\ai-book.jpg
2025-04-22 07:45:17.208 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType15`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.209 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 8.739ms
2025-04-22 07:45:17.209 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:45:17.209 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - 404 177 application/json; charset=utf-8 10.0397ms
2025-04-22 07:45:17.272 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:45:17.273 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.273 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.5203ms
2025-04-22 07:45:17.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:45:17.277 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:17.277 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:17.277 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:45:17.285 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:45:17.291 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:17.301 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:45:17.307 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:45:17.308 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:17.308 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 30.2133ms
2025-04-22 07:45:17.309 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:17.309 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 32.2573ms
2025-04-22 07:45:20.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:23.105 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/Users?UserId=22%2F2464 - null null
2025-04-22 07:45:23.105 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:23.106 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/Users?UserId=22%2F2464 - 204 null null 0.3883ms
2025-04-22 07:45:23.109 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/Users?UserId=22%2F2464 - application/json null
2025-04-22 07:45:23.110 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:23.110 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetAllBorrowHistory (Library)'
2025-04-22 07:45:23.121 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.String, System.String, System.Nullable`1[System.Double], System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller Library.Controllers.UserController (Library).
2025-04-22 07:45:23.138 +01:00 [INF] Fetching filtered user history.
2025-04-22 07:45:23.148 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0_contains='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserId] LIKE @__UserId_0_contains ESCAPE N'\'
2025-04-22 07:45:23.159 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0_contains='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:45:23.169 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0_contains='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserId] LIKE @__UserId_0_contains ESCAPE N'\' AND [u].[IsActive] = CAST(1 AS bit)
2025-04-22 07:45:23.183 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:23.192 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserType] = N'Student'
2025-04-22 07:45:23.199 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserType] = N'Lecturer'
2025-04-22 07:45:23.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserType] = N'Admin'
2025-04-22 07:45:23.215 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-22 07:45:23.217 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-22 07:45:23.237 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0_contains='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], [u].[IsActive], [u].[IsLoggedIn], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[Id], [u].[IsEmailVerified], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] LIKE @__UserId_0_contains ESCAPE N'\'
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-22 07:45:23.241 +01:00 [INF] Fetched 1 users after applying filters.
2025-04-22 07:45:23.241 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType26`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType25`13[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:23.255 +01:00 [INF] Executed action Library.Controllers.UserController.GetAllBorrowHistory (Library) in 133.745ms
2025-04-22 07:45:23.255 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetAllBorrowHistory (Library)'
2025-04-22 07:45:23.255 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/Users?UserId=22%2F2464 - 200 456 application/json; charset=utf-8 146.365ms
2025-04-22 07:45:23.261 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/request-borrow/BK-001/22%2F2464 - null null
2025-04-22 07:45:23.261 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:23.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/request-borrow/BK-001/22%2F2464 - 204 null null 0.413ms
2025-04-22 07:45:23.264 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/Books/request-borrow/BK-001/22%2F2464 - application/json 0
2025-04-22 07:45:23.265 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:23.265 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.RequestBorrowCode (Library)'
2025-04-22 07:45:23.269 +01:00 [INF] Route matched with {action = "RequestBorrowCode", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestBorrowCode(System.String, System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:45:23.288 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:45:23.304 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:45:23.313 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:23.332 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__UserId_0='?' (Size = 20), @__serialNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[SerialNumber] = @__serialNumber_1 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:23.382 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PendingBorrows] ([BorrowCode], [IsApproved], [RequestTime], [SerialNumber], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-22 07:45:23.388 +01:00 [INF] Borrow request submitted for UserId 22/2464 and book BK-001. Awaiting admin approval.
2025-04-22 07:45:23.389 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:23.391 +01:00 [INF] Executed action Library.Controllers.BooksController.RequestBorrowCode (Library) in 121.7787ms
2025-04-22 07:45:23.391 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.RequestBorrowCode (Library)'
2025-04-22 07:45:23.391 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/Books/request-borrow/BK-001/22%2F2464 - 200 83 application/json; charset=utf-8 126.9694ms
2025-04-22 07:45:24.079 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 07:45:24.079 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.079 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.4071ms
2025-04-22 07:45:24.083 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:45:24.084 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.084 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:24.084 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:24.087 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:45:24.095 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:45:24.106 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:45:24.109 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:45:24.109 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:24.109 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 24.9774ms
2025-04-22 07:45:24.109 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:24.109 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 26.0261ms
2025-04-22 07:45:24.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 07:45:24.110 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.110 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.2647ms
2025-04-22 07:45:24.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 07:45:24.110 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.110 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.2706ms
2025-04-22 07:45:24.122 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:45:24.122 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.123 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:24.123 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:24.126 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:24.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:45:24.131 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.131 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:24.131 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:24.135 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:24.137 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:45:24.138 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:24.138 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 15.1479ms
2025-04-22 07:45:24.138 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:24.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 15.8956ms
2025-04-22 07:45:24.141 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:45:24.141 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:24.141 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 9.7262ms
2025-04-22 07:45:24.141 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:24.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 11.1033ms
2025-04-22 07:45:24.163 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:24.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 07:45:24.240 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.240 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4225ms
2025-04-22 07:45:24.245 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:45:24.246 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:24.246 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:24.246 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:45:24.250 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:45:24.256 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:24.267 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:45:24.271 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:45:24.271 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:24.271 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 25.1391ms
2025-04-22 07:45:24.271 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:24.272 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 26.3797ms
2025-04-22 07:45:27.718 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 07:45:27.718 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.718 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:27.719 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:27.745 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 07:45:27.748 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 07:45:27.748 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - null null
2025-04-22 07:45:27.748 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 07:45:27.748 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.748 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.748 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.748 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/BK-001 - 204 null null 0.4317ms
2025-04-22 07:45:27.748 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:27.748 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:27.748 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:27.748 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 07:45:27.753 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:27.757 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 07:45:27.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/BK-001 - application/json null
2025-04-22 07:45:27.757 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 07:45:27.758 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.759 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:45:27.759 +01:00 [INF] Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:45:27.765 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 07:45:27.767 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 07:45:27.767 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.767 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.765 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 07:45:27.767 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 19.2673ms
2025-04-22 07:45:27.767 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 19.2472ms
2025-04-22 07:45:27.767 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 07:45:27.767 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 07:45:27.768 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 19.9531ms
2025-04-22 07:45:27.768 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 20.0729ms
2025-04-22 07:45:27.768 +01:00 [INF] Fetching book with serial number: BK-001
2025-04-22 07:45:27.773 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 07:45:27.773 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.773 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 54.749ms
2025-04-22 07:45:27.773 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 07:45:27.774 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 55.9486ms
2025-04-22 07:45:27.784 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[SerialNumber], [b].[Name], [b].[Author], [b].[Year], [b].[Description], [b].[Quantity], [b].[PDFPath], [b].[ImagePath]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:45:27.788 +01:00 [INF] Fetched book details for serial number: BK-001
2025-04-22 07:45:27.788 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.789 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBook (Library) in 29.5125ms
2025-04-22 07:45:27.789 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBook (Library)'
2025-04-22 07:45:27.789 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/BK-001 - 200 236 application/json; charset=utf-8 32.0242ms
2025-04-22 07:45:27.794 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - null null
2025-04-22 07:45:27.794 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.795 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/image/BK-001 - 204 null null 0.378ms
2025-04-22 07:45:27.797 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - application/json null
2025-04-22 07:45:27.797 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.798 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:45:27.798 +01:00 [INF] Route matched with {action = "GetBookImage", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookImage(System.String) on controller Library.Controllers.BooksController (Library).
2025-04-22 07:45:27.801 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ImagePath], [b].[Name], [b].[PDFPath], [b].[Quantity], [b].[SerialNumber], [b].[Year]
FROM [Books] AS [b]
WHERE [b].[SerialNumber] = @__serialNumber_0
2025-04-22 07:45:27.806 +01:00 [WRN] Image file does not exist for path: C:\Users\Oluwademilade.Fajolu\source\repos\Library_Management_Project\Demi\Library\Library\wwwroot\images\ai-book.jpg
2025-04-22 07:45:27.806 +01:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType15`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.806 +01:00 [INF] Executed action Library.Controllers.BooksController.GetBookImage (Library) in 8.3785ms
2025-04-22 07:45:27.806 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetBookImage (Library)'
2025-04-22 07:45:27.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/image/BK-001 - 404 177 application/json; charset=utf-8 9.4419ms
2025-04-22 07:45:27.819 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:27.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 07:45:27.857 +01:00 [INF] CORS policy execution successful.
2025-04-22 07:45:27.858 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:27.858 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 07:45:27.866 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 07:45:27.870 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 07:45:27.879 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 07:45:27.883 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 07:45:27.884 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 07:45:27.884 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 26.0777ms
2025-04-22 07:45:27.884 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 07:45:27.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 27.5976ms
2025-04-22 07:45:31.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:35.056 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:38.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:42.292 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:45.926 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:49.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:53.150 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:45:56.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:00.374 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:03.985 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:07.589 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:11.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:14.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:18.432 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:22.042 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:25.648 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:29.267 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:32.882 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:36.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:40.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:43.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:47.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:50.977 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:54.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:46:58.213 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:01.830 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:05.435 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:09.041 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:12.659 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:16.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:19.887 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:23.499 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:27.116 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:30.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:34.335 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:37.948 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:41.563 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:45.178 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:48.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:52.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:56.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:47:59.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:03.260 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:06.877 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:10.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:14.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:17.704 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:21.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:24.937 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:28.551 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:32.166 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:35.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:39.400 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:43.018 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:46.641 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:50.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:53.866 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:48:57.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:01.091 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:04.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:08.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:11.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:15.541 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:19.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:22.776 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:26.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:30.007 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:33.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:37.237 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:40.852 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:44.468 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:48.075 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:51.688 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:55.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:49:58.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:02.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:06.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:09.728 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:13.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:16.960 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:20.580 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:24.196 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:27.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:31.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:35.039 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:38.648 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:42.252 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:45.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:49.482 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:53.106 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:50:56.711 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:00.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:03.930 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:07.542 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:11.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:14.766 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:18.374 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:21.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:25.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:29.211 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:32.815 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:36.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:40.033 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:43.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:47.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:50.851 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:54.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:51:58.068 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:01.686 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:05.303 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:08.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:12.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:16.151 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:19.767 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:23.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:27.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:30.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:34.216 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:37.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:41.428 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:45.043 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:48.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:52.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:55.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:52:59.489 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:03.109 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:06.710 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:10.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:13.938 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:17.554 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:21.169 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:24.785 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:28.400 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:32.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:35.628 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:39.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:42.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:46.460 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:50.074 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:53.680 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:53:57.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:00.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:04.500 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:08.112 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:11.728 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:15.333 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:18.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:22.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:26.161 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:29.768 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:33.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:36.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:40.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:44.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:47.809 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:51.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:55.021 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:54:58.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:02.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:05.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:09.461 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:13.085 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:16.703 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:20.310 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:23.921 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:27.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:31.157 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:34.774 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:38.381 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:41.986 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:45.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:49.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:52.800 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:55:56.412 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:00.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:03.650 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:07.261 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:10.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:14.496 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:18.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:21.732 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:25.342 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:28.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:32.576 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:36.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:39.791 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:43.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:47.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:50.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:54.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:56:57.864 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:01.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:05.083 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:08.693 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:12.296 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:15.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:19.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:23.149 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:26.763 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:30.380 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:33.991 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:37.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:41.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:44.824 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:48.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:52.054 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:55.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:57:59.286 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:02.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:06.521 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:10.133 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:13.734 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:17.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:20.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:24.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:28.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:31.822 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:35.535 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:39.145 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:42.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:46.362 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:49.975 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:53.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:58:57.220 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:00.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:04.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:08.056 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:11.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:15.293 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:18.930 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:22.537 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:26.157 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:29.766 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:33.383 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:36.999 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:40.616 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:44.280 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:47.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:51.512 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:55.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 07:59:58.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:02.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:05.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:09.589 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:13.202 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:16.805 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:20.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:24.038 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:27.681 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:31.285 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:34.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:38.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:42.136 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:45.750 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:49.366 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:52.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:00:56.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:00.206 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:03.809 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:07.423 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:11.042 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:14.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:18.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:21.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:25.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:29.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:32.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:36.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:39.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:43.571 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:47.181 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:50.788 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:54.399 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:01:58.013 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:01.618 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:05.225 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:08.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:12.445 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:16.061 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:19.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:23.294 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:26.910 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:30.526 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:34.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:37.756 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:41.371 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:44.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:48.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:52.220 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:55.847 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:02:59.467 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:03.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:06.760 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:10.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:13.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:17.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:21.214 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:24.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:28.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:32.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:35.672 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:39.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:42.885 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:46.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:50.105 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:53.721 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:03:57.333 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:00.955 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:04.571 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:08.344 +01:00 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:11.960 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:15.568 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:19.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:22.779 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:26.380 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:29.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:33.593 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:37.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:40.813 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:44.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:48.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:51.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:55.273 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:04:58.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:02.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:06.107 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:09.721 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:13.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:16.935 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:20.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:24.166 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:27.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:31.405 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:35.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:38.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:42.247 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:45.861 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:49.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:53.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:05:56.687 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:00.300 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:03.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:07.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:11.139 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:14.773 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:18.462 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:22.075 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:25.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:29.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:32.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:36.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:40.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:43.766 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:47.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:50.983 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:54.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:06:58.200 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:01.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:05.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:09.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:12.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:16.272 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:19.907 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:23.526 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:27.143 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:30.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:34.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:37.977 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:41.580 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:45.235 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:48.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:52.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:56.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:07:59.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:03.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:06.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:10.549 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:14.161 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:17.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:21.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:24.998 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:28.612 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:32.236 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:35.873 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:39.489 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:43.095 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:46.712 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:50.326 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:53.935 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:08:57.552 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:01.161 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:04.771 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:08.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:11.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:15.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:19.205 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:22.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:26.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:30.050 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:33.665 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:37.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:40.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:44.485 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:48.097 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:51.721 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:55.336 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:09:59.005 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:02.619 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:06.222 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:09.881 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:13.525 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:17.138 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:20.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:24.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:28.001 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:31.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:35.233 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:38.861 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:42.470 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:46.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:49.697 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:53.313 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:10:56.922 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:00.551 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:04.163 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:07.764 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:11.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:14.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:18.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:22.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:25.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:29.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:33.054 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:36.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:40.279 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:43.907 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:47.532 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:51.168 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:54.782 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:11:58.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:02.008 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:05.746 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:09.359 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:13.048 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:16.742 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:20.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:23.959 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:27.564 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:31.169 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:34.845 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:38.456 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:42.088 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:45.710 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:49.325 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:52.936 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:12:56.546 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:00.167 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:03.779 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:07.389 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:10.998 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:14.628 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:18.309 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:21.969 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:25.595 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:29.266 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:32.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:36.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:40.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:43.697 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:47.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:50.924 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:54.571 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:13:58.191 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:01.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:05.409 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:09.024 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:12.627 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:16.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:19.845 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:23.459 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:27.072 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:30.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:34.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:36.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:14:36.202 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.202 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.5725ms
2025-04-22 08:14:36.207 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:14:36.207 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.207 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 1.641ms
2025-04-22 08:14:36.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:14:36.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:14:36.215 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.215 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.218 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 10.2815ms
2025-04-22 08:14:36.218 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 10.3227ms
2025-04-22 08:14:36.218 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:14:36.218 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.219 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:36.219 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:36.225 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:36.233 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:14:36.239 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.239 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:14:36.233 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:14:36.240 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.239 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:36.239 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:36.240 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:36.240 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:36.240 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:36.240 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:36.240 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:14:36.243 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:36.245 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:14:36.247 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:14:36.247 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:36.248 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 28.5567ms
2025-04-22 08:14:36.248 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:36.250 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 31.7404ms
2025-04-22 08:14:36.252 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:14:36.262 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:14:36.262 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:36.268 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 27.5992ms
2025-04-22 08:14:36.268 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:36.268 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 35.1553ms
2025-04-22 08:14:36.279 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:14:36.285 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:14:36.296 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:14:36.296 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:14:36.296 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:36.296 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 56.28ms
2025-04-22 08:14:36.296 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:36.297 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 57.8096ms
2025-04-22 08:14:36.308 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:14:36.314 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:14:36.314 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:36.314 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 74.0587ms
2025-04-22 08:14:36.314 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:36.314 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 81.7316ms
2025-04-22 08:14:37.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:41.552 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:45.156 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:47.521 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:14:47.522 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:14:47.522 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.522 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.522 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.6072ms
2025-04-22 08:14:47.522 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:14:47.522 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.9914ms
2025-04-22 08:14:47.522 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.523 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:14:47.523 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.3473ms
2025-04-22 08:14:47.523 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.525 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 2.3984ms
2025-04-22 08:14:47.530 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:14:47.530 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:14:47.531 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.531 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:47.531 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:47.531 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:47.531 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:14:47.536 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:14:47.539 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:14:47.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:14:47.540 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:14:47.540 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:47.540 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:47.540 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:47.540 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:47.544 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:47.545 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:14:47.543 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:47.548 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:14:47.549 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:47.554 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:14:47.555 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:47.555 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 23.968ms
2025-04-22 08:14:47.555 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:47.555 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 25.0868ms
2025-04-22 08:14:47.555 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:14:47.558 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:14:47.558 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:47.563 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 22.5068ms
2025-04-22 08:14:47.563 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:47.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 41.3903ms
2025-04-22 08:14:47.581 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:14:47.587 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:14:47.587 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:47.588 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 57.3554ms
2025-04-22 08:14:47.589 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:47.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 58.8915ms
2025-04-22 08:14:47.590 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:14:47.591 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:47.591 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 45.9717ms
2025-04-22 08:14:47.591 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:47.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 51.2148ms
2025-04-22 08:14:48.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:52.420 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:54.978 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:14:54.978 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:54.978 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.3588ms
2025-04-22 08:14:54.979 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:14:54.979 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:14:54.979 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:54.979 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.4701ms
2025-04-22 08:14:54.979 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:14:54.979 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:54.980 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.264ms
2025-04-22 08:14:54.980 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:54.980 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 1.0436ms
2025-04-22 08:14:54.995 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:14:54.995 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:54.995 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:54.995 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:55.003 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:14:55.004 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:14:55.004 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:14:55.004 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:55.004 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:55.004 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:55.005 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:55.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:14:55.005 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:55.006 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:14:55.006 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:55.006 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:14:55.008 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:55.008 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:55.008 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:55.010 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:14:55.013 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:14:55.018 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:14:55.020 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:14:55.021 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:55.021 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:55.021 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 25.3067ms
2025-04-22 08:14:55.021 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:14:55.021 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 16.2175ms
2025-04-22 08:14:55.021 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:14:55.021 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 26.5498ms
2025-04-22 08:14:55.019 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:14:55.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 17.5432ms
2025-04-22 08:14:55.024 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:14:55.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:14:55.025 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:55.025 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 16.7024ms
2025-04-22 08:14:55.025 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:14:55.025 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 21.8655ms
2025-04-22 08:14:55.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:14:55.035 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:14:55.035 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:55.036 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 29.189ms
2025-04-22 08:14:55.036 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:14:55.037 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 32.2031ms
2025-04-22 08:14:56.057 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:14:58.129 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/logout?userId=22%2F2464 - null null
2025-04-22 08:14:58.129 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:58.130 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/logout?userId=22%2F2464 - 204 null null 0.5782ms
2025-04-22 08:14:58.134 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/logout?userId=22%2F2464 - application/json 0
2025-04-22 08:14:58.134 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:14:58.134 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.Logout (Library)'
2025-04-22 08:14:58.143 +01:00 [INF] Route matched with {action = "Logout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:14:58.151 +01:00 [INF] Attempting logout for UserId: 22/2464
2025-04-22 08:14:58.155 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:14:58.157 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:14:58.162 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Users] SET [IsLoggedIn] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-04-22 08:14:58.167 +01:00 [INF] UserId: 22/2464 has successfully logged out at "2025-04-22T07:14:58.1650108Z".
2025-04-22 08:14:58.167 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:14:58.167 +01:00 [INF] Executed action Library.Controllers.UserLoginController.Logout (Library) in 24.123ms
2025-04-22 08:14:58.167 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.Logout (Library)'
2025-04-22 08:14:58.168 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/logout?userId=22%2F2464 - 200 31 application/json; charset=utf-8 34.1194ms
2025-04-22 08:14:59.672 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:03.286 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:06.678 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 08:15:06.678 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - null null
2025-04-22 08:15:06.678 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:06.678 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:06.678 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 0.3671ms
2025-04-22 08:15:06.678 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 204 null null 0.4821ms
2025-04-22 08:15:06.683 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 08:15:06.683 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - application/json 0
2025-04-22 08:15:06.683 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:06.683 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:06.683 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 08:15:06.683 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:06.683 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 08:15:06.684 +01:00 [INF] Route matched with {action = "StudentLogin", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StudentLogin(Library.Models.LoginUserDto) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:06.686 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 08:15:06.689 +01:00 [INF] Attempting student login for UserId: 22/2464
2025-04-22 08:15:06.692 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 08:15:06.693 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (Size = 450), @__userType_1='?' (Size = 10), @__IsAdmin_2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND ([u].[UserType] = @__userType_1 OR [u].[IsAdmin] = @__IsAdmin_2)
2025-04-22 08:15:06.697 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 08:15:06.697 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__dto_UserId_0 AND [u].[LogoutTime] IS NULL
2025-04-22 08:15:06.708 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 08:15:06.717 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T07:15:06.7113983Z". Session will expire at "2025-04-22T08:15:06.6978103Z".
2025-04-22 08:15:06.717 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p20='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Double), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserLoginHistories] SET [LogoutTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [UserLoginHistories] ([LoginTime], [LogoutTime], [SessionExpiry], [UserId], [UserType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [Users] SET [Department] = @p7, [Email] = @p8, [FirstName] = @p9, [IsActive] = @p10, [IsAdmin] = @p11, [IsEmailVerified] = @p12, [IsLoggedIn] = @p13, [LastName] = @p14, [PasswordHash] = @p15, [Rating] = @p16, [School] = @p17, [Ticket] = @p18, [UserType] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-04-22 08:15:06.717 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:06.717 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 33.5109ms
2025-04-22 08:15:06.717 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 08:15:06.718 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 34.8684ms
2025-04-22 08:15:06.726 +01:00 [INF] Student login successful for UserId: 22/2464 at "2025-04-22T07:15:06.7235296Z". Session will expire at "2025-04-22T08:15:06.6976917Z".
2025-04-22 08:15:06.726 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:06.727 +01:00 [INF] Executed action Library.Controllers.UserLoginController.StudentLogin (Library) in 43.032ms
2025-04-22 08:15:06.727 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.StudentLogin (Library)'
2025-04-22 08:15:06.727 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/student?UserId=22%2F2464&password=Triple - 200 499 application/json; charset=utf-8 43.8838ms
2025-04-22 08:15:06.916 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:09.752 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:15:09.752 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.9104ms
2025-04-22 08:15:09.756 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:15:09.756 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.757 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:15:09.757 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:09.772 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:15:09.773 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:15:09.773 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 0.6753ms
2025-04-22 08:15:09.774 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:15:09.774 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.774 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:15:09.774 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.294ms
2025-04-22 08:15:09.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.2754ms
2025-04-22 08:15:09.785 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:15:09.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:15:09.787 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:15:09.787 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.787 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:15:09.787 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:15:09.787 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:09.787 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:09.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:15:09.790 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:09.793 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:15:09.793 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:15:09.802 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:15:09.801 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:15:09.802 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:09.802 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 45.3462ms
2025-04-22 08:15:09.802 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:15:09.802 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 46.8372ms
2025-04-22 08:15:09.803 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:15:09.803 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:15:09.807 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:15:09.811 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:15:09.815 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:15:09.815 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:09.815 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:09.816 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 28.1701ms
2025-04-22 08:15:09.816 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 28.2172ms
2025-04-22 08:15:09.816 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:15:09.816 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:15:09.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 28.8201ms
2025-04-22 08:15:09.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 29.0334ms
2025-04-22 08:15:09.834 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:15:09.841 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:15:09.844 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:15:09.845 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:09.846 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 43.275ms
2025-04-22 08:15:09.847 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:15:09.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 57.4681ms
2025-04-22 08:15:10.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:14.148 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:14.849 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:15:14.849 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.849 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.776ms
2025-04-22 08:15:14.850 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:15:14.850 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.851 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 1.6904ms
2025-04-22 08:15:14.857 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:15:14.857 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.858 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:15:14.858 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:15:14.858 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:14.858 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.858 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.2956ms
2025-04-22 08:15:14.866 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:15:14.867 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:15:14.867 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:15:14.868 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 2.2594ms
2025-04-22 08:15:14.868 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:15:14.868 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.868 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:15:14.868 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:15:14.868 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:15:14.868 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:14.871 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:15:14.873 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:15:14.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:15:14.876 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:15:14.876 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:15:14.877 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:15:14.880 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:15:14.884 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:15:14.889 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:15:14.889 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:14.890 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 31.6654ms
2025-04-22 08:15:14.890 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:15:14.890 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 32.6544ms
2025-04-22 08:15:14.885 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:15:14.890 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:15:14.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:15:14.892 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:14.893 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 24.4016ms
2025-04-22 08:15:14.893 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:15:14.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 25.061ms
2025-04-22 08:15:14.906 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:15:14.907 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:15:14.907 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:14.916 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:15:14.916 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 36.0619ms
2025-04-22 08:15:14.916 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:15:14.916 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 41.5829ms
2025-04-22 08:15:14.916 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:15:14.917 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 48.8026ms
2025-04-22 08:15:14.917 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:15:14.917 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 50.5568ms
2025-04-22 08:15:17.775 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:21.378 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:24.993 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:28.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:32.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:35.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:39.440 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:43.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:46.659 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:50.297 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:53.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:15:57.519 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:01.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:04.743 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:08.359 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:11.970 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:14.855 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:16:14.855 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:14.855 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.3902ms
2025-04-22 08:16:14.858 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:16:14.858 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:14.858 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:16:14.858 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:16:14.861 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:16:14.867 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:16:14.870 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:16:14.872 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:16:14.872 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:16:14.872 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 14.0723ms
2025-04-22 08:16:14.873 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:16:14.873 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 14.9781ms
2025-04-22 08:16:15.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:19.183 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:22.803 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:26.411 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:30.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:33.715 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:37.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:40.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:44.551 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:48.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:51.778 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:54.949 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - null null
2025-04-22 08:16:54.950 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.950 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 204 null null 0.642ms
2025-04-22 08:16:54.955 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - application/json 0
2025-04-22 08:16:54.956 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.957 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:16:54.958 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:16:54.973 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:16:54.974 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.974 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 3.8469ms
2025-04-22 08:16:54.974 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - null null
2025-04-22 08:16:54.974 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.974 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:16:54.974 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 204 null null 0.2884ms
2025-04-22 08:16:54.979 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:16:54.981 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:16:54.981 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.984 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:16:54.984 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 3.2109ms
2025-04-22 08:16:54.992 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:16:54.992 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:16:54.992 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 34.0867ms
2025-04-22 08:16:54.992 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:16:54.992 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22/2464 - 200 37 application/json; charset=utf-8 37.5114ms
2025-04-22 08:16:54.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - application/json null
2025-04-22 08:16:54.993 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:54.994 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:16:54.994 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:16:55.009 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:16:55.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:16:55.009 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:55.010 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:16:55.010 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:16:55.019 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:16:55.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:16:55.020 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:16:55.021 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:16:55.021 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:16:55.026 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:16:55.029 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:16:55.029 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:16:55.029 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 19.6887ms
2025-04-22 08:16:55.030 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:16:55.030 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 20.5289ms
2025-04-22 08:16:55.031 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__usertype_0='?' (Size = 10), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserType] = @__usertype_0 AND [u].[UserId] = @__userId_2
2025-04-22 08:16:55.031 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:16:55.031 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 37.5068ms
2025-04-22 08:16:55.032 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:16:55.032 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Student - 200 46 application/json; charset=utf-8 39.0298ms
2025-04-22 08:16:55.045 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:16:55.051 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:16:55.054 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:16:55.056 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:16:55.056 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 35.4175ms
2025-04-22 08:16:55.057 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:16:55.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 37.0605ms
2025-04-22 08:16:55.390 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:16:58.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:02.605 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:04.177 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - null null
2025-04-22 08:17:04.177 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.177 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - null null
2025-04-22 08:17:04.178 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 204 null null 0.434ms
2025-04-22 08:17:04.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - 204 null null 0.5396ms
2025-04-22 08:17:04.192 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - application/json 0
2025-04-22 08:17:04.192 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.194 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:17:04.194 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - application/json null
2025-04-22 08:17:04.194 +01:00 [INF] Route matched with {action = "AutoLogout", controller = "UserLogin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AutoLogout(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:17:04.194 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.197 +01:00 [INF] Attempting auto-logout for UserId: 22/2464
2025-04-22 08:17:04.197 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:17:04.197 +01:00 [INF] Route matched with {action = "CheckType", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckType(System.String, System.String, System.Nullable`1[System.Boolean]) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:17:04.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - null null
2025-04-22 08:17:04.206 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:17:04.206 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.206 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 204 null null 5.5492ms
2025-04-22 08:17:04.206 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - null null
2025-04-22 08:17:04.206 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.207 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/user/22%2F2464 - 204 null null 0.2433ms
2025-04-22 08:17:04.209 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsLoggedIn] = CAST(1 AS bit)
2025-04-22 08:17:04.211 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-22 08:17:04.211 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.212 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 204 null null 0.3771ms
2025-04-22 08:17:04.219 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[LoginTime], [u].[LogoutTime], [u].[SessionExpiry], [u].[UserId], [u].[UserType]
FROM [UserLoginHistories] AS [u]
WHERE [u].[UserId] = @__userId_0
ORDER BY [u].[LoginTime] DESC
2025-04-22 08:17:04.221 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__usertype_0='?' (Size = 10), @__isAdmin_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE ([u].[UserType] = @__usertype_0 OR [u].[IsAdmin] = @__isAdmin_1) AND [u].[UserId] = @__userId_2
2025-04-22 08:17:04.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - application/json null
2025-04-22 08:17:04.224 +01:00 [INF] Session is still active for UserId: 22/2464.
2025-04-22 08:17:04.224 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.224 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:17:04.257 +01:00 [INF] Executing endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:17:04.257 +01:00 [INF] Executed action Library.Controllers.UserLoginController.AutoLogout (Library) in 63.3202ms
2025-04-22 08:17:04.258 +01:00 [INF] Route matched with {action = "CheckVerification", controller = "UserLogin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckVerification(System.String) on controller Library.Controllers.UserLoginController (Library).
2025-04-22 08:17:04.258 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - null null
2025-04-22 08:17:04.258 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.258 +01:00 [INF] Executing endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 08:17:04.260 +01:00 [INF] Route matched with {action = "GetAllBorrowHistory", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowHistory(System.String, System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String, Int32, Int32) on controller Library.Controllers.BooksController (Library).
2025-04-22 08:17:04.258 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.AutoLogout (Library)'
2025-04-22 08:17:04.289 +01:00 [INF] Checking Type for UserId: 22/2464.
2025-04-22 08:17:04.289 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44354/api/userlogin/auto-logout?userId=22%2F2464 - 200 37 application/json; charset=utf-8 97.1603ms
2025-04-22 08:17:04.289 +01:00 [WRN] No login record found for UserId: 22/2464.
2025-04-22 08:17:04.289 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-04-22 08:17:04.290 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckType (Library) in 92.2529ms
2025-04-22 08:17:04.290 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckType (Library)'
2025-04-22 08:17:04.290 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/checkType?userId=22/2464&usertype=Admin&isAdmin=true - 404 null text/plain; charset=utf-8 95.9912ms
2025-04-22 08:17:04.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - application/json null
2025-04-22 08:17:04.290 +01:00 [INF] CORS policy execution successful.
2025-04-22 08:17:04.291 +01:00 [INF] Executing endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:17:04.291 +01:00 [INF] Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetUser(System.String) on controller Library.Controllers.UserController (Library).
2025-04-22 08:17:04.296 +01:00 [INF] Fetching details for user with ID: 22%2F2464
2025-04-22 08:17:04.296 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Department], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[IsAdmin], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[LastName], [u].[PasswordHash], [u].[Rating], [u].[School], [u].[Ticket], [u].[UserId], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsEmailVerified] = CAST(1 AS bit)
2025-04-22 08:17:04.296 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:17:04.296 +01:00 [INF] Executed action Library.Controllers.UserLoginController.CheckVerification (Library) in 38.791ms
2025-04-22 08:17:04.296 +01:00 [INF] Executed endpoint 'Library.Controllers.UserLoginController.CheckVerification (Library)'
2025-04-22 08:17:04.297 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/userlogin/Isverified?userId=22/2464 - 200 38 application/json; charset=utf-8 75.8524ms
2025-04-22 08:17:04.300 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-22 08:17:04.306 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__UserId_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[UserId] = @__UserId_0 AND [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:17:04.313 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-04-22 08:17:04.317 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[UserId], [u].[FirstName], [u].[LastName], [u].[Email], [u].[UserType], [u].[IsAdmin], [u].[Department], [u].[School], [u].[Rating], (
    SELECT COUNT(*)
    FROM [BorrowRecords] AS [b]
    WHERE [b].[UserId] = [u].[UserId] AND [b].[IsReturned] = CAST(0 AS bit)), [u].[IsActive], [u].[IsEmailVerified], [u].[IsLoggedIn], [u].[PasswordHash], [u].[Ticket]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__UserId_0
2025-04-22 08:17:04.326 +01:00 [INF] Fetched details for user with ID: 22/2464
2025-04-22 08:17:04.326 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType29`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:17:04.326 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [b].[SerialNumber]
    FROM [BorrowRecords] AS [b]
) AS [b0]
2025-04-22 08:17:04.326 +01:00 [INF] Executed action Library.Controllers.UserController.GetUser (Library) in 35.2285ms
2025-04-22 08:17:04.326 +01:00 [INF] Executed endpoint 'Library.Controllers.UserController.GetUser (Library)'
2025-04-22 08:17:04.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/user/22%2F2464 - 200 297 application/json; charset=utf-8 36.7299ms
2025-04-22 08:17:04.337 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE 0 = 1
2025-04-22 08:17:04.341 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
2025-04-22 08:17:04.346 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit)
2025-04-22 08:17:04.350 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[Overdue] = CAST(1 AS bit)
2025-04-22 08:17:04.357 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(1 AS bit) AND [b].[ReturnTime] > [b].[DueDate]
2025-04-22 08:17:04.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit)
2025-04-22 08:17:04.361 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Department], [b].[School], [b].[UserId], [b].[UserType], [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[SerialNumber]
FROM [BorrowRecords] AS [b]
ORDER BY [b].[BorrowTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-04-22 08:17:04.365 +01:00 [INF] Fetched borrow history with 5 records for page 1
2025-04-22 08:17:04.365 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`13[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType17`12[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-22 08:17:04.366 +01:00 [INF] Executed action Library.Controllers.BooksController.GetAllBorrowHistory (Library) in 105.6409ms
2025-04-22 08:17:04.366 +01:00 [INF] Executed endpoint 'Library.Controllers.BooksController.GetAllBorrowHistory (Library)'
2025-04-22 08:17:04.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44354/api/Books/borrow-history?pageNumber=1&pageSize=5 - 200 1858 application/json; charset=utf-8 108.8071ms
2025-04-22 08:17:06.255 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:09.871 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:13.497 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:17.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:20.720 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:24.336 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:27.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:31.562 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:35.172 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:38.777 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:42.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:45.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:49.593 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:53.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:17:56.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:00.443 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:04.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:07.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:11.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:14.882 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:18.580 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:22.198 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:25.804 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:29.409 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:33.023 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:36.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:40.233 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:43.836 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:47.453 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:51.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:54.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:18:58.292 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:01.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:05.520 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:09.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:12.756 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:16.359 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:19.979 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:23.587 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:27.204 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:30.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:34.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:38.022 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:41.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:45.226 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:48.832 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:52.443 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:56.046 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:19:59.664 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:03.268 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:06.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:10.486 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:14.114 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:17.725 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:21.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:24.936 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:28.552 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:32.167 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:35.806 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:39.405 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:43.010 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:46.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:50.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:53.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:20:57.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:01.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:04.656 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:08.270 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:11.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:15.497 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:19.113 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:22.729 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:26.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:29.940 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:33.549 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:37.160 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:40.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:44.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:47.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:51.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:55.194 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:21:58.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:02.418 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:06.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:09.635 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:13.270 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:16.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:20.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:24.107 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:27.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:31.333 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:34.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:38.562 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:42.184 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:45.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:49.407 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:53.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:22:56.638 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:00.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:03.855 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:07.464 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:11.074 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:14.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:18.300 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:21.904 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:25.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:29.134 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:32.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:36.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:39.975 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:43.586 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:47.197 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:50.807 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:54.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:23:58.026 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:01.636 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:05.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:08.855 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:12.478 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:16.090 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:19.698 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:23.305 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:26.919 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:30.535 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:34.149 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:37.767 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:41.384 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:44.996 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:48.614 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:52.231 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:55.846 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:24:59.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:03.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:06.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:10.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:13.900 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:17.508 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:21.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:24.738 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:28.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:31.968 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:35.586 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:39.203 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:42.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:46.452 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:50.062 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:53.765 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:25:57.385 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:00.998 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:04.754 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:08.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:11.973 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:15.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:19.193 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:22.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:26.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:30.022 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:33.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:37.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:40.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:44.451 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:48.052 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:51.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:55.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:26:58.884 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:02.490 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:06.108 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:09.720 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:13.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:16.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:20.553 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:24.167 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:27.770 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:31.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:34.982 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:38.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:42.189 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:45.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:49.399 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:53.008 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:27:56.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:00.232 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:03.848 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:07.459 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:11.078 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:14.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:18.305 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:21.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:25.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:29.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:32.738 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:36.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:39.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:43.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:47.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:50.791 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:54.403 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:28:58.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:01.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:05.237 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:08.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:12.473 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:16.086 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:19.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:23.316 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:26.919 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:30.531 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:34.136 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:37.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:41.357 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:44.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:48.582 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:52.195 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:55.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:29:59.420 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:03.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:06.657 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:10.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:13.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:17.485 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:21.098 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:24.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:28.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:31.931 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:35.541 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:39.153 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:42.756 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:46.366 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:49.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:53.596 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:30:57.199 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:00.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:04.420 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:08.026 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:11.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:15.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:18.864 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:22.474 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:26.086 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:29.712 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:33.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:36.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:40.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:44.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:47.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:51.384 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:54.990 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:31:58.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:02.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:05.821 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:09.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:13.045 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:16.669 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:20.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:23.897 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:27.516 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:31.128 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:34.747 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:38.355 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:41.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:45.575 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:49.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:52.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:32:56.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:00.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:03.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:07.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:10.883 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:14.499 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:18.117 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:21.725 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:25.337 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:28.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:32.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:36.180 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:39.797 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:43.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:47.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:50.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:54.257 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:33:57.872 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:01.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:05.102 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:08.718 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:12.337 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:15.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:19.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:23.181 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:26.786 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:30.399 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:34.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
2025-04-22 08:34:37.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AllowedBorrowHours], [b].[BorrowTime], [b].[Department], [b].[DueDate], [b].[IsOnline], [b].[IsReturned], [b].[Overdue], [b].[ReturnTime], [b].[School], [b].[SerialNumber], [b].[UserId], [b].[UserType]
FROM [BorrowRecords] AS [b]
WHERE [b].[IsReturned] = CAST(0 AS bit) AND [b].[IsOnline] = CAST(1 AS bit) AND [b].[DueDate] <= @__now_0
